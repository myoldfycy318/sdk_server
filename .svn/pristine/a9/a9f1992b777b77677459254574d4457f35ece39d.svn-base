webpackJsonp([1],[function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e};n(642);var r=a(n(5)),i=n(14),o=a(i),s=i.Route,l=i.DefaultRoute,u=a(n(2)),c=a(n(23));window.React=r;var d=a(n(587)),m=a(n(574)),f=a(n(562)),p=a(n(518)),h=a(n(542)),g=a(n(631)),v=a(n(429)),y=a(n(636)),b=a(n(556)),_=a(n(444)),D=a(n(568)),E=a(n(576)),M=r.createElement(s,{handler:d},r.createElement(s,{name:"/login",handler:v.Login}),r.createElement(s,{name:"/dashboard",handler:m}),r.createElement(s,{name:"platform",handler:f}),r.createElement(s,{path:"/system"},r.createElement(s,{path:"/system/menu-manage-list",handler:y.MenuManage})),r.createElement(s,{path:"/market"},r.createElement(s,{path:"/market/role-list",handler:y.Role}),r.createElement(s,{path:"/market/user-list",handler:y.User}),r.createElement(s,{path:"/market/modify-password",handler:y.ModifyPassword}),r.createElement(s,{path:"/market/game-list",handler:p.GameList}),r.createElement(s,{path:"/market/game-detail",handler:p.GameDetail}),r.createElement(s,{path:"/market/game-category",handler:p.GameCategory}),r.createElement(s,{path:"/market/game-statistic",handler:p.GameStatistic}),r.createElement(s,{path:"/market/game-activity",handler:p.GameActivity}),r.createElement(s,{path:"/market/game-benifit",handler:p.GameBenifit}),r.createElement(s,{path:"/market/game-top",handler:p.GameTop}),r.createElement(s,{path:"/market/game-refined",handler:p.GameRefined}),r.createElement(s,{path:"/market/game-news",handler:p.GameNews}),r.createElement(s,{path:"/market/game-banner",handler:p.GameBanner}),r.createElement(s,{path:"/market/game-advertise",handler:p.GameAdvertise}),r.createElement(s,{path:"/market/software-list",handler:p.SoftwareList}),r.createElement(s,{path:"/market/software-detail",handler:p.SoftwareDetail}),r.createElement(s,{path:"/market/software-category",handler:p.SoftwareCategory}),r.createElement(s,{path:"/market/software-statistic",handler:p.SoftwareStatistic}),r.createElement(s,{path:"/market/market-banner",handler:p.MarketBanner}),r.createElement(s,{path:"/market/market-search",handler:p.MarketSearch}),r.createElement(s,{path:"/market/football-news",handler:p.FootballNews}),r.createElement(s,{path:"/market/football-image",handler:p.FootballImage}),r.createElement(s,{path:"/market/football-setting",handler:p.FootballSetting}),r.createElement(s,{path:"/market/football-category",handler:p.FootballCategory}),r.createElement(s,{path:"/market/friends-link",handler:p.FriendsLink}),r.createElement(s,{path:"/market/award-list",handler:p.AwardList}),r.createElement(s,{path:"/market/award-history",handler:p.AwardHistory}),r.createElement(s,{path:"/market/consumption-list",handler:p.ConsumptionList}),r.createElement(s,{path:"/market/download-award",handler:p.DownloadAward}),r.createElement(s,{path:"/market/download-history",handler:p.DownloadHistory}),r.createElement(s,{path:"/market/download-consumption",handler:p.DownloadConsumption}),r.createElement(s,{path:"/market/share-award",handler:p.ShareAward}),r.createElement(s,{path:"/market/share-history",handler:p.ShareHistory}),r.createElement(s,{path:"/market/share-consumption",handler:p.ShareConsumption}),r.createElement(s,{path:"/market/browser-award",handler:p.BrowserAward}),r.createElement(s,{path:"/market/partner-list",handler:p.PartnerList}),r.createElement(s,{path:"/market/lottery-activity",handler:p.LotteryActivity}),r.createElement(s,{path:"/market/lottery-history",handler:p.LotteryHistory}),r.createElement(s,{path:"/market/lottery-award",handler:p.LotteryAward}),r.createElement(s,{path:"/market/lottery-rule",handler:p.LotteryRule}),r.createElement(s,{path:"/market/lottery-rule-detail",handler:p.LotteryRuleDetail}),r.createElement(s,{path:"/market/member-level",handler:p.MemberLevel}),r.createElement(s,{path:"/market/member-fee",handler:p.MemberFee}),r.createElement(s,{path:"/market/member-activity",handler:p.MemberActivity}),r.createElement(s,{path:"/market/member-activity-detail",handler:p.MemberActivityDetail}),r.createElement(s,{path:"/market-recharge-redbag/redbag-manage-list",handler:h.RedbagManage}),r.createElement(s,{path:"/market-recharge-redbag/main-banner-list",handler:h.MainBanner}),r.createElement(s,{path:"/market-recharge-redbag/sub-banner-list",handler:h.SubBanner}),r.createElement(s,{path:"/market-recharge-redbag/report",handler:h.Report})),r.createElement(s,{path:"/square"},r.createElement(s,{path:"/square/account-audit",handler:g.AccountAudit}),r.createElement(s,{path:"/square/info-change",handler:g.InfoChange}),r.createElement(s,{path:"/square/push-message-audit",handler:g.PushMessageAudit}),r.createElement(s,{path:"/square/customer-report",handler:g.CustomerReport}),r.createElement(s,{path:"/square/sign-message",handler:g.SignMessage}),r.createElement(s,{path:"/square/push-message",handler:g.PushMessage}),r.createElement(s,{path:"/square/ranking-banner",handler:g.RankingBanner}),r.createElement(s,{path:"/square/ranking-activity",handler:g.RankingActivity}),r.createElement(s,{path:"/square/ranking-activity-detail",handler:g.RankingActivityDetail}),r.createElement(s,{path:"/square/ranking-registration",handler:g.RankingRegistration}),r.createElement(s,{path:"/square/material-audit",handler:g.MaterialAudit}),r.createElement(s,{path:"/square/material-hot",handler:g.MaterialHot}),r.createElement(s,{path:"/square/interactive-prototype",handler:g.InteractivePrototype}),r.createElement(s,{path:"/square/interactive-activities",handler:g.InteractiveActivities}),r.createElement(s,{path:"/square/interactive-audit",handler:g.InteractiveAudit}),r.createElement(s,{path:"/square/group-list",handler:g.GroupList})),r.createElement(s,{path:"/open"},r.createElement(s,{path:"/open/merchant-list",handler:b.Merchant}),r.createElement(s,{path:"/open/merchant-app-audit-list",handler:b.MerchantAppAudit}),r.createElement(s,{path:"/open/charge-point-list",handler:b.ChargePoint}),r.createElement(s,{path:"/open/charge-point-detail-list",handler:b.ChargePointDetail}),r.createElement(s,{path:"/open/biz-query",handler:b.BizQuery}),r.createElement(s,{path:"/open/notify-list",handler:b.Notify}),r.createElement(s,{path:"/open/pkg-manage-list",handler:b.PKGManage}),r.createElement(s,{path:"/open/sdkversion-list",handler:b.SDKVersion})),r.createElement(s,{path:"/cms"},r.createElement(s,{path:"/cms/developer-list",handler:_.Developer}),r.createElement(s,{path:"/cms/app-list",handler:_.App}),r.createElement(s,{path:"/cms/app-detail",handler:_.AppDetail}),r.createElement(s,{path:"/cms/banner-list",handler:_.Banner}),r.createElement(s,{path:"/cms/banner-detail",handler:_.BannerDetail}),r.createElement(s,{path:"/cms/banner-manage-list",handler:_.BannerManage}),r.createElement(s,{path:"/cms/subject-list",handler:_.Subject}),r.createElement(s,{path:"/cms/subject-detail",handler:_.SubjectDetail}),r.createElement(s,{path:"/cms/subject-app",handler:_.SubjectApp}),r.createElement(s,{path:"/cms/activity-list",handler:_.Activity}),r.createElement(s,{path:"/cms/activity-detail",handler:_.ActivityDetail}),r.createElement(s,{path:"/cms/modular-manage-list",handler:_.ModularManage}),r.createElement(s,{path:"/cms/modular-manage-app",handler:_.ModularManageApp}),r.createElement(s,{path:"/cms/modular-manage-subject",handler:_.ModularManageSubject}),r.createElement(s,{path:"/cms/modular-manage-activity",handler:_.ModularManageActivity}),r.createElement(s,{path:"/cms/rankinfo-list",handler:_.RankInfo}),r.createElement(s,{path:"/cms/rankinfo-app",handler:_.RankInfoApp}),r.createElement(s,{path:"/cms/rankinfo-detail",handler:_.RankInfoDetail}),r.createElement(s,{path:"/cms/app-comments-list",handler:_.AppComments}),r.createElement(s,{path:"/cms/sensitive-word-list",handler:_.SensitiveWord}),r.createElement(s,{path:"/cms/tab-app-list",handler:_.TabApp}),r.createElement(s,{path:"/cms/app-type-list",handler:_.AppType})),r.createElement(s,{path:"/publish"},r.createElement(s,{path:"/publish/game-list",handler:D.Game}),r.createElement(s,{path:"/publish/content-list",handler:D.Content}),r.createElement(s,{path:"/publish/banner-list",handler:D.Banner}),r.createElement(s,{path:"/publish/video-list",handler:D.Video})),r.createElement(s,{name:"iframe",handler:E}),r.createElement(l,{handler:f}));o.run(M,function(e){r.render(r.createElement(e,null),document.body)}),$(document).ajaxComplete(function(e,t,n){if(t&&t.responseText){try{var a=JSON.parse(t.responseText)}catch(r){}a&&1004===a.responseCode&&(c.cookie.remove(u.constants.STORAGE_KEY),window.location.href=window.location.protocol+"//"+window.location.host+"/#/login")}})},,function(e,t,n){"use strict";var a={domain:n(468),util:n(469),constants:n(467),dateLocale:{applyLabel:"确认",cancelLabel:"取消",fromLabel:"开始",toLabel:"截止",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},DEFAULT_DATA_LIST:{list:[],totalCount:0,currentPage:0,perPage:10}};e.exports=a},function(e,t,n){"use strict";var a=n(1),r=a.createActions(["flashMessage","success","fail","warning"]);e.exports=r},,,,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function m(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:m(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(5).Component,u=(n(14).Link,a(n(4))),c=a(n(586));n(909);var d=function(e){function t(e){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={selection:[]}}return o(t,e),r(t,{componentDidMount:{value:function(){this.props.disableAutoLoad||this.props.onLoadPage({currentPage:this.props.initialPage||0})}},componentWillReceiveProps:{value:function(e){this.state.selection=u.fill(new Array(e.data.list.length),!1)}},loadPage:{value:function(e){this.props.onLoadPage({currentPage:e})}},onItemChecked:{value:function(e){this.state.selection[e]=!this.state.selection[e],this.forceUpdate()}},render:{value:function(){var e=this,t=[];this.props.groupOperations&&(t=t.concat({name:"全部选中",icon:"default",disabled:function(){return 0===e.props.data.list.length||e.state.selection.filter(function(e){return e}).length===e.props.data.list.length},callback:function(){u.fill(e.state.selection,!0),e.forceUpdate()}},{name:"全部取消",icon:"default",disabled:function(){return 0===e.props.data.list.length||e.state.selection.filter(function(e){return e}).length!==e.props.data.list.length},callback:function(){u.fill(e.state.selection,!1),e.forceUpdate()}},this.props.groupOperations));var n=this.props.dataMap.length;return this.props.groupOperations&&(n+=1),this.props.operations&&(n+=1),React.createElement("div",{className:"box-body clearfix"},React.createElement("table",{ref:"table",className:"table table-bordered table-hover text-center"},React.createElement("thead",null,React.createElement("tr",null,this.props.groupOperations?React.createElement("th",null,"选择"):null,this.props.dataMap.map(function(e){return React.createElement("th",{key:e.field},e.name)}),this.props.operations?React.createElement("th",null,"操作"):null)),React.createElement("tbody",{className:"data-table"},0===this.props.data.list.length?React.createElement("tr",null):this.props.data.list.map(function(t,n){return React.createElement("tr",{key:"table_tr_"+n},e.props.groupOperations?React.createElement("td",null,e.props.groupOperations.map(function(a){return a.checkboxDisabled&&a.checkboxDisabled(t)?"":React.createElement("input",{type:"checkbox",style:{width:"auto"},checked:e.state.selection[n],onChange:e.onItemChecked.bind(e,n)})})):null,e.props.dataMap.map(function(e){return e.value?React.createElement("td",{key:e.field||e.value(t,n)},e.value(t,n)):React.createElement("td",{key:e.field},t[e.field])}),e.props.operations?React.createElement("td",null,e.props.operations.map(function(e){return e.disabled&&e.disabled(t)?"":e.drawFn?e.drawFn(t):React.createElement("button",{key:e.name,className:"btn btn-sm btn-"+e.icon,type:"button",onClick:function(){return e.callback(t,n)}},e.name)})):"")}))),React.createElement("div",{className:"group-operation"},this.props.groupOperations?t.map(function(t,n){var a=e.props.data.list.filter(function(t,n){return e.state.selection[n]});return t.disabled&&t.disabled(a)?null:React.createElement("button",{key:n,onClick:t.callback.bind(e,a),className:"btn btn-sm btn-"+t.icon},t.name)}):null),this.props.disablePaginator?null:React.createElement(c,{totalCount:this.props.data.totalCount,perPage:this.props.data.perPage,currentPage:this.props.data.currentPage,onLoadPage:this.loadPage.bind(this)}))}}}),t}(l);e.exports=d},function(e,t,n){"use strict";var a=n(3),r=n(2),i=n(4),o=n(23);e.exports=function(e,t,n,s,l,u,c){i.startsWith(e,"http")||(e=r.domain.market+e),s||(s="POST"),l||(l="json");var d=!0,m=!0;u||(u="application/x-www-form-urlencoded; charset=UTF-8");var f=function(e){var t=function(){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(){var e=$.ajaxSettings.xhr();return c&&e.upload.addEventListener("progress",c,!1),e});t.append&&(d=!1,u=!1,m=!1),$.ajax({url:e,data:t,method:s,dataType:l,cache:d,contentType:u,processData:m,xhr:f,headers:{dtoken:o.cookie.load("DTOKEN")}}).done(function(e){var t=e.responseCode;1004===t||(1e3===t?n(e):a.fail({message:e.errorMsg}))}).fail(function(e){a.fail({message:e})})}},function(e,t,n){"use strict";var a=n(1),r=a.createActions(["showConfirm","info","warning"]);e.exports=r},,function(e,t,n){e.exports=n(857)},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})},i=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function D(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:D(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=n(5),c=a(u),d=u.Component,m=(a(n(1)),a(n(135))),f=a(n(86)),p=a(n(257)),h=a(n(42)),g=a(n(585)),v=[["col-sm-offset-9",""],["col-sm-offset-6",""],["col-sm-offset-3",""],["",""]],y=[["col-sm-offset-6",""],["col-sm-offset-3",""],["",""],["","col-sm-offset-9"]],b=function(e){function t(e){l(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={};var n=!0,a=!1,r=void 0;try{for(var i,s=e.filters[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value;u.field&&(this.state[u.field]=void 0!==u["default"]?u["default"]:""),u.startField&&(this.state[u.startField]=void 0!==u.startDefault?u.startDefault:""),u.endField&&(this.state[u.endField]=void 0!==u.endDefault?u.endDefault:""),u.startNumberField&&(this.state[u.startNumberField]=void 0!==u.startDefault?u.startDefault:""),u.endNumberField&&(this.state[u.endNumberField]=void 0!==u.endDefault?u.endDefault:"")}}catch(c){a=!0,r=c}finally{try{!n&&s["return"]&&s["return"]()}finally{if(a)throw r}}}return s(t,e),i(t,{reset:{value:function(){var e=this;this.props.filters.forEach(function(t){return e.state[t.field]=""}),this.forceUpdate()}},componentDidMount:{value:function(){this.props.autoFilter&&this.props.onFilterData(this.state)}},onValueChange:{value:function(e,t){var n=t.target.value;_.isEmpty(n)||"number"!==e.type||(n=parseInt(n,10)),this.setState(r({},e.field,n))}},onDateChange:{value:function(e,t){""===t.startDate?this.state[e.startField]="":this.state[e.startField]=t.startDate.format(e.format),""===t.endDate?this.state[e.endField]="":this.state[e.endField]=t.endDate.format(e.format)}},render:{value:function(){var e=this,t=this.props.onCreateData?y[this.props.filters.length%4]:v[this.props.filters.length%4];return c.createElement("div",null,c.createElement("div",{className:"box-header data-filter"},this.props.filters.map(function(t,n){var a="";switch(t.type){case"date":a=t.endField?c.createElement(h,{item:t,startDate:e.state[t.startField],endDate:e.state[t.endField],onDateChange:e.onDateChange.bind(e,t)}):c.createElement(h,{item:t,startDate:e.state[t.startField],endDate:e.state[t.endField],onDateChange:e.onDateChange.bind(e,t)});break;case"numberRange":a=c.createElement(g,{item:t,startNumberData:e.state[t.startNumberField],endNumberData:e.state[t.endNumberField]});break;case"select":a=c.createElement(p,{item:t,value:e.state[t.field],onChange:e.onValueChange.bind(e,t)});break;case"number":a=c.createElement(f,{item:t,value:e.state[t.field],onChange:e.onValueChange.bind(e,t)});break;case"button":a=c.createElement("input",{type:"button",className:"form-control btn-success",value:t.text,onClick:t.callback.bind(e)});break;case"text":default:a=c.createElement(m,{item:t,value:e.state[t.field],onChange:e.onValueChange.bind(e,t)})}return c.createElement("div",{key:n,className:"col-sm-3"},c.createElement("label",null,t.name),a)}),this.props.onFilterData?c.createElement("div",{className:"col-sm-3 "+t[0]},c.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},this.props.filterText||"查询")):null,this.props.onCreateData?c.createElement("div",{className:"col-sm-3 "+(this.props.onFilterData?t[1]:"col-sm-offset-9")},c.createElement("button",{className:"btn btn-primary btn-block",onClick:this.props.onCreateData.bind(null,this.state)},this.props.createText||"创建")):null))}}}),t}(d);e.exports=b},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})},i=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function L(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:L(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=n(5),c=a(u),d=u.Component,m=(a(n(1)),a(n(12)),a(n(86))),f=a(n(135)),p=a(n(591)),h=a(n(589)),g=a(n(257)),v=a(n(571)),y=a(n(45)),b=a(n(25)),D=a(n(42)),E=a(n(55)),M=a(n(133)),w=a(n(7)),N=a(n(584)),k=a(n(583)),C=a(n(256)),S=a(n(3)),x=n(2).DEFAULT_DATA_LIST,T=function(e){function t(e){l(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={create:!0,richFields:[],moreInputFields:[]}}return s(t,e),i(t,{componentDidMount:{value:function(){var e=this;this.$dialog=$(this.refs["edit-dialog"].getDOMNode()),this.$dialog.on("hidden.bs.modal",function(){e.state={},C.close()}),this.$dialog.on("show.bs.modal",function(){e.props.onShown&&e.props.onShown()})}},create:{value:function(e){var t=this;this.setState($.extend(e,{mode:"create"}),function(){return t.$dialog.modal("show")})}},update:{value:function(e){var t=this;this.setState($.extend(e,{mode:"update"}),function(){return t.$dialog.modal("show")})}},show:{value:function(e){var t=this;this.setState($.extend(e,{mode:"show"}),function(){return t.$dialog.modal("show")})}},hide:{value:function(){this.$dialog.modal("hide")}},changeState:{value:function(e){var t=e.field,n=e.callback;this.setState(r({},t,n(this.state[t],this.state)))}},onValueChange:{value:function(e,t){this.setState(r({},e.field,t.target.value)),e.onValueChange&&e.onValueChange(t.target.value,this)}},onDateChange:{value:function(e,t){this.state[e.startField]=t.startDate.format(e.format),this.state[e.endField]=t.endDate.format(e.format)}},handleConfirm:{value:function(e){var t=this;if(e.preventDefault(),this.dateRequired){var n=!0;if(this.state.startField&&(this.state[this.state.startField]||(n=!1)),this.state.endField&&(this.state[this.state.endField]||(n=!1)),!n)return void S.fail({message:"请选择日期"})}if(this.imageRequired&&this.refs["image-uploader"].isEmpty())return void S.fail({message:"请添加图片"});if(this.fileRequired&&this.refs["file-uploader"].isEmpty())return void S.fail({message:"请上传文件"});var a=new FormData(this.refs["edit-form"].getDOMNode());this.state.richFields.forEach(function(e,n){var r=t.refs["rich-editor"+n].getSource();a.append(e,r),t.state[e]=r}),this.state.moreInputFields.forEach(function(e,n){var r=t.refs["moreInput"+n].getSource(),i=_.map(r,function(e){return e.val1+":"+e.val2}).join(",");a.append(e,i),t.state[e]=r}),(!this.props.onCheck||this.props.onCheck(this.state))&&(this.props.onPrepend&&this.props.onPrepend(a,this.state),this.state.startField&&a.append(this.state.startField,this.state[this.state.startField]),this.state.endField&&a.append(this.state.endField,this.state[this.state.endField]),this.setState(this.state,function(){"create"===t.state.mode?t.props.useFormData?t.props.onCreate(a):t.props.onCreate(t.state):t.props.useFormData?t.props.onUpdate(a):t.props.onUpdate(t.state),t.state.manualDialogClose||t.$dialog.modal("hide")}))}},render:{value:function(){var e=this,t=this.props.title,n=0,a=0;switch(this.state.richFields=[],this.state.moreInputFields=[],this.state.mode){case"create":t="添加"+t;break;case"update":t="修改"+t;break;case"show":t="查看"+t}return c.createElement("div",{className:"modal fade edit-dialog",ref:"edit-dialog"},c.createElement("div",{className:"modal-dialog "+(this.props.small?"":"modal-lg")},c.createElement("div",{className:"modal-content"},c.createElement("div",{className:"modal-header"},c.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},c.createElement("span",null,"×")),c.createElement("h4",{className:"modal-title"},t),this.props.message?c.createElement("div",null,this.props.message):null),c.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm.bind(this)},"create"===this.state.mode?"":c.createElement("input",{type:"hidden",name:"id",value:this.state.id}),c.createElement("div",{className:"modal-body"},this.props.items.map(function(e,t){var r=this;if(e.hide&&e.hide(this.state))return"";var i=void 0,o=e.disabled||"show"===this.state.mode,s=_.findIndex(this.state.disabledFields,function(t){return"date"===e.type?t===e.startField:t===e.field});if(s>-1&&(o=!0),e.hidden){var l=e.hidden;if(l)return null}switch(e.type){case"url":i=c.createElement(p,{item:o?Object.assign({},e,{disabled:!0}):e,value:this.state[e.field],onChange:this.onValueChange.bind(this,e)});break;case"preview":i=c.createElement(M,{item:o?Object.assign({},e,{disabled:!0}):e,large:e.large,value:this.state[e.field]});break;case"textarea":i=c.createElement(h,{item:o?Object.assign({},e,{disabled:!0}):e,context:this.state,value:this.state[e.field],onChange:this.onValueChange.bind(this,e)});break;case"select":i=c.createElement(g,{item:o?Object.assign({},e,{disabled:!0}):e,inDialog:!0,context:this.state,value:this.state[e.field],onChange:this.onValueChange.bind(this,e)});break;case"number":i=c.createElement(m,{item:o?Object.assign({},e,{disabled:!0}):e,value:this.state[e.field],onChange:this.onValueChange.bind(this,e)});break;case"date":this.state.startField=e.startField,this.state.endField=e.endField,this.state.format=e.format,this.dateRequired=!!e.required,i=c.createElement(D,{inDialog:!0,item:o?Object.assign({},e,{disabled:!0}):e,startDate:this.state[e.startField],endDate:this.state[e.endField],onDateChange:this.onDateChange.bind(this,e)});break;case"rich":i=c.createElement(E,{ref:"rich-editor"+n++,item:o?Object.assign({},e,{disabled:!0}):e,inDialog:!0,source:this.state[e.field]}),this.state.richFields.push(e.field);break;case"image":this.imageRequired=!!e.required,i=c.createElement("div",null,e.keepUrlField?c.createElement("input",{type:"hidden",name:e.urlField,value:this.state[e.urlField]}):null,c.createElement(b,{ref:"image-uploader",inDialog:!0,imageUrl:this.state[e.urlField],uploadUrl:e.uploadUrl,uploadField:e.uploadField,name:e.field,maxWidth:e.maxWidth,maxHeight:e.maxHeight,exactWidth:e.exactWidth,exactHeight:e.exactHeight,onClear:function(){return r.state[e.urlField]=""},onChange:function(t){return r.state[e.urlField]=t.imageUrl}}));break;case"table":i=c.createElement(w,{item:o?Object.assign({},e,{disabled:!0}):e,disablePaginator:!0,disableAutoLoad:!0,data:this.state[e.field]||x,dataMap:e.dataMap,operations:e.operations||null,groupOperations:e.groupOperations||null});break;case"file":this.fileRequired=!!e.required,i=c.createElement(y,{ref:"file-uploader",item:o?Object.assign({},e,{disabled:!0}):e,fileUrl:this.state[e.urlField],uploadUrl:e.uploadUrl,uploadField:e.uploadField,name:e.field,extension:e.extension,onChange:function(t){return r.state[e.urlField]=t.fileUrl}});break;case"checkbox":i=c.createElement(v,{item:o?Object.assign({},e,{disabled:!0}):e,value:this.state,onChange:function(e,t){r.state[e]=t?1:0,r.forceUpdate()}});break;case"moreInput":i=c.createElement(N,{ref:"moreInput"+a++,name:e.field,conditions:this.state[e.field],item:o?_.assign({},e,{disabled:!0}):e}),this.state.moreInputFields.push(e.field);break;case"modalPicker":i=c.createElement(k,{nameField:e.nameField,field:e.field,nameValue:this.state[e.nameField],idValue:this.state[e.field],showModal:e.showModal,placeholder:e.placeholder});break;case"hidden":i=c.createElement("input",{type:"hidden",name:e.field,value:this.state[e.field]});break;case"text":default:i=c.createElement(f,{item:o?Object.assign({},e,{disabled:!0}):e,value:this.state[e.field],onChange:this.onValueChange.bind(this,e)})}return e.name?c.createElement("div",{key:t,className:"form-group"},c.createElement("label",{className:"col-sm-2 control-label",dangerouslySetInnerHTML:{__html:e.name}}),c.createElement("div",{className:"col-sm-10"},i)):c.createElement("div",{key:t,className:"form-group"},c.createElement("div",{className:"col-sm-12"},i))}.bind(this))),c.createElement("div",{className:"modal-footer"},this.props.customButton&&c.createElement("input",{type:"button",className:"btn btn-success",value:this.props.customButton,onClick:function(){return e.props.customCallback(e.state)}}),c.createElement("input",{type:"button",className:"btn btn-default",value:"取消","data-dismiss":"modal"}),"show"!==this.state.mode?c.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}):null)))))}}}),t}(d);e.exports=T},,,function(e,t,n){"use strict";var a=n(4),r={dataTable:function(e){e||a.isObject(e)||(e={});var t={list:[],totalCount:0,perPage:15,currentPage:0};return a.assign({},t,e)}};e.exports=r},,,,,,,function(e,t,n){"use strict";var a=n(708),r=n(2),i={traverseNodes:function(e){var t=function(t,n){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e,t){var n=e,a=t,r=function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){var t=_.findIndex(a,function(t){return parseInt(t)===e.id});t>-1?e.checked=!0:e.checked=!1,e.subList&&e.subList.forEach(r)});return e.forEach(r),n}),getSelectedTraverseNodes:function(e){var t=[],n=function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){e.checked&&t.push(e.id),e.subList&&e.subList.forEach(n)});return e.forEach(n),t},getTreeToPlain:function(e){var t=[],n=0,a=function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){t.push(Object.assign(e,{parentId:n})),e.subList&&e.subList.forEach(a)});return e.forEach(a),t},cookie:{defaultOption:{path:"/",domain:r.domain.root},load:function(e){return a.load(e)},save:function(e,t,n){n||(n=this.defaultOption),a.save(e,t,{path:"/",domain:r.domain.root})},remove:function(e,t){t||(t=this.defaultOption),a.remove(e,{path:"/",domain:r.domain.root})}}};e.exports=i},,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function y(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:y(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},i=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(5),u=l.Component,c=l.PropTypes,d=n(1).ListenerMethods,m=a(n(4)),f=a(n(3)),p=a(n(56)),h=a(n(8));n(912);var g=function(e){function t(){s(this,t),null!=e&&e.apply(this,arguments)}return o(t,e),i(t,{render:{value:function(){return React.createElement("div",{className:"image-preview"},React.createElement("img",{onClick:this.props.onSelect,className:"image-preview",src:this.props.src}),React.createElement("a",{className:"btn btn-sm",onClick:this.props.onClear},"清除"))}}}),t}(u),v=function(e){function t(e){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={imageData:null,imageUrl:null,uploadProgress:0}}return o(t,e),i(t,{componentWillMount:{value:function(){this.setState({imageUrl:this.props.imageUrl})}},componentWillReceiveProps:{value:function(e){this.setState({imageUrl:e.imageUrl})}},componentDidMount:{value:function(){var e=this;p.listen(function(t){e.props.inDialog&&t.closed&&e.clearImage()})}},componentWillUnmount:{value:function(){d.stopListeningToAll()}},selectImage:{value:function(){var e=$(this.refs["file-input"].getDOMNode());e.click()}},clearImage:{value:function(){var e=this;if(this.refs["file-input"]){var t=$(this.refs["file-input"].getDOMNode());t.val(""),this.setState({imageData:null,imageUrl:null},function(){e.props.onClear&&e.props.onClear()})}}},resetImage:{value:function(){var e=$(this.refs["file-input"].getDOMNode());e.val(""),this.setState({imageData:null})}},isEmpty:{value:function(){return m.isEmpty(this.state.imageData)&&m.isEmpty(this.state.imageUrl)}},preview:{value:function(e){var t=e.target.files[0];if(t){var n=new FileReader,a=this;n.onload=function(){var e=this.result,n=new Image;n.onload=function(){if(a.props.maxWidth&&n.width>a.props.maxWidth||a.props.maxHeight&&n.height>a.props.maxHeight||a.props.exactWidth&&n.width!==a.props.exactWidth||a.props.exactHeight&&n.height!==a.props.exactHeight)f.fail({message:"图片尺寸不符合要求"}),a.clearImage();else if(a.props.uploadUrl){var r;!function(){r=new FormData,r.append(a.props.uploadField||"file",t);var e=a.props.uploadUrl,n=function(e){1e3===e.responseCode||1===e.state||e.success?a.setState({imageUrl:e.data.imgUrl||e.imgUrl||e.data.imgUrl||e.data
},function(){a.props.onChange&&a.props.onChange(a.state)}):f.fail({message:e.message})},i=function(e){if(0!==e.total){var t=(e.loaded/e.total*100).toFixed(0);a.setState({uploadProgress:t},function(){parseInt(a.state.uploadProgress)>=100&&setTimeout(function(){a.setState({uploadProgress:0})},300)})}};h(e,r,n,void 0,void 0,void 0,i)}()}else a.props.onClear&&a.props.onClear(),a.setState({imageData:e})},n.src=e},n.readAsDataURL(t)}}},render:{value:function(){return React.createElement("div",{className:"image-uploader",style:{position:"relative"}},this.state.imageData?React.createElement(g,{src:this.state.imageData,onSelect:this.selectImage.bind(this),onClear:this.clearImage.bind(this)}):this.state.imageUrl?React.createElement(g,{src:this.state.imageUrl,onSelect:this.selectImage.bind(this),onClear:this.clearImage.bind(this)}):React.createElement("a",{onClick:this.selectImage.bind(this),className:"btn btn-app"},React.createElement("i",{className:"fa fa-plus"})," 添加"),this.state.uploadProgress>0?React.createElement("div",{style:{position:"absolute",bottom:"-2px",left:0,backgroundColor:"green",textAlign:"center",width:this.state.uploadProgress+"%",height:"2px",opacity:"0.8"}}):null,React.createElement("input",{ref:"file-input",type:"file",name:this.props.name,onChange:this.preview.bind(this),className:"hidden"}))}}}),t}(u);e.exports=v,v.propTypes={uploadUrl:c.string,uploadField:c.string}},function(e,t,n){"use strict";function a(e){var t=e.constructor.name+".state",n=o.omit(e.state,"list");sessionStorage.setItem(t,JSON.stringify(n))}function r(e){var t=e.constructor.name+".state",n=sessionStorage.getItem(t);if(n){sessionStorage.removeItem(t),n=JSON.parse(n);var a=e.refs["data-filter"];a&&a.setState(n),e.setState(n,function(){e.queryData({currentPage:n.currentPage})})}}var i=function(e){return e&&e.__esModule?e["default"]:e},o=i(n(4));e.exports={saveState:a,loadState:r}},,,,,function(e,t,n){"use strict";function a(e,t){return{connectDragSource:e.dragSource()}}function r(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}var i=n(5),o=n(423),s=i.cloneElement,l=n(722),u=l.DragSource,c=l.DropTarget,d=l.DragDropContext,m=n(713),f={beginDrag:function(e){return{position:e.position}},endDrag:function(e,t){t.didDrop()?e.onDrop():e.onCancel()}},p={hover:function(e,t){var n=t.getItem().position,a=e.position;n!==a&&e.onHover(n,a)}},h=i.createClass({displayName:"Item",render:function(){var e=this.props.connectDragSource,t=this.props.connectDropTarget;return e(t(s(this.props.children,this.props)))}}),g=i.createClass({displayName:"SortableCollection",propTypes:{type:i.PropTypes.string,handle:i.PropTypes.string,container:i.PropTypes.string,collection:i.PropTypes.array,onSorted:i.PropTypes.func,children:i.PropTypes.element.isRequired},getDefaultProps:function(){return{container:"ul"}},getInitialState:function(){var e=this.props.type||this._generateType(),t=c(e,p,r)(h),n=u(e,f,a)(t);return{collection:this.props.collection,SortableItemClass:n}},componentWillReceiveProps:function(e){this.setState({collection:e.collection})},render:function(){var e=this.state.SortableItemClass,t=this.state.collection.map(function(t,n){var a=this.props.collection.indexOf(t);return i.createElement(e,i.__spread({},t,{key:"sortableCollection_item_"+n,position:a,onHover:this._handleHover,onDrop:this._handleDrop,onCancel:this._handleCancel}),this.props.children)},this);if("table"!==this.props.container)return i.createElement(this.props.container,this.props,t);if(this.props.thead&&this.props.thead.length>0){var n=this.props.thead,a=function(){return i.createElement("thead",null,i.createElement("tr",null,n.map(function(e,t){return i.createElement("th",null,e.name)})))}(),r=function(){return i.createElement("tbody",null,t)}();return i.createElement(this.props.container,this.props,[a,r])}},_handleHover:function(e,t){var n=this.props.collection[e],a=this.state.collection.indexOf(n),r=this.props.collection[t],i=this.state.collection.indexOf(r);this.setState(o(this.state,{collection:{$splice:[[a,1],[i,0,n]]}}))},_handleDrop:function(){this.props.collection!==this.state.collection&&this.props.onSorted(this.state.collection)},_handleCancel:function(){this.setState({collection:this.props.collection})},_generateType:function(){return Math.random().toString(36).substring(7)}});e.exports=d(m)(g)},,function(e,t,n){var a=n(663);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){"use strict";var a,r=n(5);a=r.createClass({displayName:"Dialog",componentDidMount:function(){this.$dialog=$(this.refs.dialog.getDOMNode())},show:function(){this.$dialog.modal("show")},hide:function(){this.$dialog.modal("hide")},render:function(){var e=this.props.title;return r.createElement("div",{className:"modal fade edit-dialog",ref:"dialog"},r.createElement("div",{className:"modal-dialog "+(this.props.small?"":"modal-lg")},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},r.createElement("span",null,"×")),r.createElement("h4",{className:"modal-title"},e)),r.createElement("div",{className:"modal-body"},this.props.children))))}}),e.exports=a},,,,,,,,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function f(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:f(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(5).Component,u=n(1).ListenerMethods,c=a(n(4)),d=(a(n(9)),a(n(3)),a(n(56))),m=function(e){function t(e){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={startDate:"",endDate:""}}return o(t,e),r(t,{componentWillReceiveProps:{value:function(e){if(!c.isEmpty(e.startDate)){var t=moment(e.startDate,e.format);this.picker.setStartDate(t),this.picker.setEndDate(t),this.setState({startDate:t})}if(!c.isEmpty(e.endDate)){var n=moment(e.endDate,e.format);this.picker.setEndDate(n),this.setState({endDate:n})}}},componentDidMount:{value:function(){var e=this;d.listen(function(t){e.props.inDialog&&t.closed&&e.setState({startDate:"",endDate:""},e._initDateRangePicker)}),this._initDateRangePicker()}},_initDateRangePicker:{value:function(){var e=this;$(this.refs["date-range-picker"].getDOMNode()).daterangepicker({locale:{applyLabel:"确认",cancelLabel:"清除",fromLabel:"开始",toLabel:"截止",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},singleDatePicker:this.props.item.endField?!1:!0,showDropdowns:this.props.item.endField?!1:!0,timePicker:this.props.item.timePicker?!0:!1,timePicker24Hour:this.props.item.timePicker?!0:!1,timePickerSeconds:this.props.item.timePicker?!0:!1,dateLimit:this.props.item.dateLimit,minDate:this.props.item.minDate}).on("apply.daterangepicker",function(t,n){e.setState({startDate:n.startDate,endDate:n.endDate},function(){e.props.onDateChange&&e.props.onDateChange({startDate:e.state.startDate,endDate:e.state.endDate})})}).on("cancel.daterangepicker",function(t,n){$(React.findDOMNode(e.refs["date-range-picker"])).val(""),e.setState({startDate:"",endDate:""},function(){e.props.onDateChange&&e.props.onDateChange({startDate:e.state.startDate,endDate:e.state.endDate})})}).on("hide.daterangepicker",function(t,n){e.setState({startDate:e.state.startDate,endDate:e.state.endDate})}),this.picker=$(this.refs["date-range-picker"].getDOMNode()).data("daterangepicker")}},componentWillUnmount:{value:function(){u.stopListeningToAll()}},render:{value:function(){var e="";return"object"==typeof this.state.startDate&&(e=this.state.startDate.format(this.props.item.format)),this.props.item.endField&&""!==this.state.endDate&&(e+=" ~ "+this.state.endDate.format(this.props.item.format)),React.createElement("div",{style:{position:"relative"}},React.createElement("input",{readOnly:!0,type:"text",ref:"date-range-picker",className:"form-control",placeholder:"点击修改",value:e}),this.props.item.disabled&&React.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}))}}}),t}(l);e.exports=m},,,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function f(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:f(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(5).Component,u=(n(1).ListenerMethods,a(n(4))),c=a(n(3)),d=(a(n(56)),a(n(8))),m=(a(n(23)),function(e){function t(e){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={fileUrl:null,success:!1,uploadProgress:0}}return o(t,e),r(t,{componentWillMount:{value:function(){this.setState({fileUrl:this.props.fileUrl})}},componentWillReceiveProps:{value:function(e){this.setState({fileUrl:e.fileUrl})}},selectFile:{value:function(){var e=$(this.refs["file-input"].getDOMNode());e.click()}},isEmpty:{value:function(){return u.isEmpty(this.state.fileUrl)}},upload:{value:function(e){var t=this,n=e.target.files[0];if(this.props.extension){var a=function(){var e=n.name.split(".")[n.name.split(".").length-1],a=u.findIndex(t.props.extension,function(t){return t===e});return-1===a?(c.fail({message:"只可以上传"+t.props.extension+"文件"}),{v:void 0}):void 0}();if("object"==typeof a)return a.v}if(n){var r=new FileReader,i=this;r.onload=function(){var e=this.result;if(i.props.uploadUrl){var t;!function(){t=new FormData,t.append(i.props.uploadField||"file",n);var e=i.props.uploadUrl,a=function(e){e.data||(i.refs["file-input"].getDOMNode().value=""),i.setState({fileUrl:e.data?e.data.sdkPath:null,success:!e.data},function(){i.props.onChange&&i.props.onChange(i.state)})},r=function(e){if(0!==e.total){var t=(e.loaded/e.total*100).toFixed(0);i.setState({uploadProgress:t},function(){parseInt(i.state.uploadProgress)>=100&&setTimeout(function(){i.setState({uploadProgress:0})},200)})}};d(e,t,a,void 0,void 0,void 0,r)}()}n.src=e},r.readAsDataURL(n)}}},render:{value:function(){var e=this.state.fileUrl?"重新上传":"上传";return this.props.buttonName&&(e=this.props.buttonName),React.createElement("div",null,this.state.fileUrl?React.createElement("div",{style:{marginTop:"6px"}},React.createElement("span",null,"包体名称："),this.state.fileUrl.split("/")[this.state.fileUrl.split("/").length-1]):null,this.props.item.disabled?null:React.createElement("div",{style:{position:"relative"}},React.createElement("input",{type:"button",className:"form-control btn btn-default",value:e,onClick:this.selectFile.bind(this)}),this.state.uploadProgress>0?React.createElement("div",{style:{position:"absolute",top:0,left:0,backgroundColor:"green",textAlign:"center",width:this.state.uploadProgress+"%",lineHeigth:"28px",height:"100%",opacity:"0.2"}}):null),React.createElement("input",{ref:"file-input",type:"file",className:"hidden",name:this.props.item.field,onChange:this.upload.bind(this)}))}}}),t}(l));e.exports=m},function(e,t,n){function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=a},,,,,,,,function(e,t,n){"use strict";var a=n(1),r=(n(2),n(8)),i=a.createActions({loadMenu:{asyncResult:!0}});i.loadMenu.listen(function(e,t){var n=this;if(e){var a="/menu/getPlatformMenu",i=function(a){var r=a.responseCode,i=[];1e3===r&&(i=a.data),n.completed(i,e,t)};r(a,{parent:e},i)}}),e.exports=i},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(56),o=a.createClass({displayName:"RichEditor",mixins:[r.listenTo(i,"onDialogChange")],onDialogChange:function(e){this.props.inDialog&&e.closed&&(this.editor.setSource(""),this.props.source="")},componentWillReceiveProps:function(e){e.source&&e.source!==this.props.source&&this.editor.setSource(e.source)},componentDidMount:function(){var e=["Cut","Copy","Paste","Pastetext","Blocktag","Fontface","FontSize","Bold","Italic","Underline","Strikethrough","FontColor","BackColor","SelectAll","Removeformat","Align","List","Outdent","Indent","Link","Unlink","Anchor","Img","Hr","Table","Source","Preview","Print"];this.editor=$(a.findDOMNode(this.refs["rich-editor"])).xheditor({width:"100%",height:400,tools:e.join(","),skin:"default",upMultiple:!0,upImgUrl:this.props.item&&this.props.item.upImgUrl,upImgExt:"jpg,jpeg,gif,bmp,png,JPG,JPEG,GIF,BMP,PNG",onUpload:function(e){console.log(e)},html5Upload:!1}),this.editor.setSource(this.props.source)},getSource:function(){return this.editor.getSource()},render:function(){return a.createElement("textarea",{ref:"rich-editor",required:this.props.item&&this.props.item.required})}});e.exports=o},function(e,t,n){"use strict";var a=n(1),r=n(256),i=a.createStore({listenables:r,onClose:function(){this.trigger({closed:!0})}});e.exports=i},function(e,t,n){function a(e){var t;if(!o(e)||c.call(e)!=s||i(e)||!u.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return r(e,function(e,t){n=t}),void 0===n||u.call(e,n)}var r=n(680),i=n(93),o=n(72),s="[object Object]",l=Object.prototype,u=l.hasOwnProperty,c=l.toString;e.exports=a},function(e,t,n){"use strict";function a(e,t){if(e===t)return!0;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=Object.prototype.hasOwnProperty,i=0;i<n.length;i++){if(!r.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;var o=e[n[i]],s=t[n[i]];if(o!==s)return!1}return!0}t.__esModule=!0,t["default"]=a,e.exports=t["default"]},,,,,,function(e,t,n){"use strict";"use strick";var a,r=n(5),i=n(7),o=n(12),s=n(34),l=n(116),u=n(183),c=n(4);a=r.createClass({displayName:"AppPicker",getInitialState:function(){return{data:c.assign(u.getDefaultData(),{list:[]}),filter:u.getDefaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=u.listen(function(t){"list"===t.type&&e.setState({data:t.data})})},componentWillUnMount:function(){this.unsubscribe()},queryData:function(e){l.query({data:c.assign(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:c.assign(this.state.filter,e)},function(){l.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})})},show:function(){this.queryData({currentPage:0}),this.refs.dialog.show()},hide:function(){this.refs.dialog.hide()},render:function(){return r.createElement(s,{ref:"dialog",title:"应用选择"},r.createElement(o,{filters:[{name:"应用编码",field:"serviceId"},{name:"应用名称",field:"appName"}],onFilterData:this.filterData}),r.createElement(i,{data:this.state.data,onLoadPage:this.queryData,dataMap:[{name:"应用编码",field:"serviceId"},{name:"应用名称",field:"appName"}],operations:[{name:"选择",icon:"primary",callback:this.props.onSelected}],groupOperations:this.props.allowMutilSelect?[{name:"批量选择",icon:"primary",callback:this.props.onBatchSelect.bind(this)}]:null}))}}),e.exports=a},function(e,t,n){"use strict";var a=n(1),r=(n(4),n(3)),i=n(2),o=n(8),s=n(23),l={game:0,software:1},u=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0},save:{asyncResult:!0}});u.create.listen(function(e){var t=i.domain.market+"/GameCategory/insert",n=JSON.stringify({siteId:1,typeId:l[e.type],name:e.name,sort:e.sort}),a=function(e){1e3===e.responseCode?this.completed():this.failed(e.errorMsg)}.bind(this);o(t,n,a)}),u.query.listen(function(e){var t=i.domain.market+"/app/category/selectByType",n={type:l[e.type]},a=function(t){1e3===t.responseCode?this.completed({type:e.type,list:t.data&&t.data.data||[]}):r.fail({message:t.errorMsg})}.bind(this);o(t,n,a)}),u.update.listen(function(e){var t=i.domain.market+"/app/category/insertOrUpdate",n=JSON.stringify({type:l[e.type],data:e.data}),a=function(e){1e3===e.responseCode?this.completed():this.failed(e.errorMsg)}.bind(this);o(t,n,a)}),u["delete"].listen(function(e){var t=i.domain.market+"/app/category/deleteById",n={categoryId:e.id},a=function(e){1e3===e.responseCode?this.completed():this.failed(e.errorMsg)}.bind(this);o(t,n,a)}),u.save.listen(function(e){var t=e.data,n=[];t.forEach(function(e){e.subs.forEach(function(e){"delete"===e.operation&&n.push($.ajax({url:i.domain.market+"/app/category/deleteById",async:!1,data:{categoryId:e.id},method:"POST",dataType:"json",headers:{dtoken:s.cookie.load("DTOKEN")}}).promise())}),"delete"===e.operation&&n.push($.ajax({url:i.domain.market+"/app/category/deleteById",data:{categoryId:e.id},method:"POST",dataType:"json",headers:{dtoken:s.cookie.load("DTOKEN")}}).promise())});var a=[];t.forEach(function(e){if("delete"!==e.operation){var t=[];e.subs.forEach(function(e){"delete"!==e.operation&&t.push({categoryId:"create"===e.operation?"":e.id,categoryName:e.name,rowVersion:e.rowVersion||0})}),a.push({categoryId:"create"===e.operation?"":e.id,categoryName:e.name,rowVersion:e.rowVersion||0,subCategory:t})}}),n.push($.ajax({url:i.domain.market+"/app/category/insertOrUpdate",data:JSON.stringify({type:l[e.type],data:a}),method:"POST",dataType:"json",contentType:"application/json;charset=utf-8",headers:{dtoken:s.cookie.load("DTOKEN")}}).promise()),$.when.apply($,n).then(function(){var t=!0;if(Array.prototype.slice.call(arguments),1===n.length)1e3!==arguments[0].responseCode&&(r.fail({message:"保存分类信息失败："+arguments[0].errorMsg}),t=!1);else for(var a=0;a<n.length;a++)if(1e3!==arguments[a][0].responseCode){r.fail({message:"保存分类信息失败："+arguments[a][0].errorMsg}),t=!1;break}t&&r.success({message:"保存分类信息成功"}),u.query(e)}).fail(function(t){r.fail({message:t}),u.query(e)})}),e.exports=u},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","update","itemQuery"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","create","update","delete"]),e.exports=a},function(e,t,n){"use strict";var a=n(1);e.exports=a.createActions(["show","hide"])},function(e,t,n){"use strict";var a=n(1);e.exports=a.createActions(["show","hide","platform","checkout"])},function(e,t,n){"use strict";var a=n(1);e.exports=a.createActions(["sideOn","sideOff"])},function(e,t,n){function a(e){return null!=e&&i(r(e))}var r=n(688),i=n(92);e.exports=a},function(e,t,n){function a(e){return!!e&&"object"==typeof e}e.exports=a},,,,,,,function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","queryLevel"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","save"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query"]),e.exports=a},function(e,t,n){"use strict";var a=n(1),r=(n(4),n(3)),i=n(8),o=n(2),s=n(23),l={news:1,images:2,videos:3},u=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0},save:{asyncResult:!0}});u.create.listen(function(e){var t=o.domain.market+"/category/insert",n=JSON.stringify({siteId:1,typeId:l[e.type],name:e.name,sort:e.sort}),a=function(e){1e3===e.responseCode?(r.success({message:"添加分类成功"}),this.completed()):r.fail({message:e.errorMsg})}.bind(this);i(t,n,a,void 0,void 0,"application/json;charset=utf-8")}),u.query.listen(function(e){var t=o.domain.market+"/category/get-by-site-id-and-type-id",n={siteId:1,typeId:l[e.type]},a=function(t){1e3===t.responseCode?this.completed({type:e.type,list:t.data}):r.fail({message:t.errorMsg})}.bind(this);i(t,n,a)}),u.update.listen(function(e){var t=o.domain.market+"/category/update-by-id",n=JSON.stringify({id:e.id,name:e.name,sort:e.sort}),a=function(e){1e3===e.responseCode?(r.success({message:"修改分类成功"}),this.completed()):r.fail({message:e.errorMsg})}.bind(this);i(t,n,a,void 0,void 0,"application/json;charset=utf-8")}),u["delete"].listen(function(e){var t=o.domain.market+"/category/del-by-id",n={id:e.id},a=function(e){1e3===e.responseCode?(r.success({message:"删除分类成功"}),this.completed()):r.fail({message:e.errorMsg})}.bind(this);i(t,n,a)}),u.save.listen(function(e){var t=e.data,n=0,a=[];t.forEach(function(t){switch(t.operation){case"create":n++,a.push($.ajax({url:o.domain.market+"/category/insert",data:JSON.stringify({siteId:1,typeId:l[e.type],name:t.name,sort:n}),method:"POST",dataType:"json",contentType:"application/json;charset=utf-8",headers:{dtoken:s.cookie.load("DTOKEN")}}));break;case"delete":a.push($.ajax({url:o.domain.market+"/category/del-by-id",data:{id:t.id},method:"POST",dataType:"json",headers:{dtoken:s.cookie.load("DTOKEN")}}));break;case"update":n++,a.push($.ajax({url:o.domain.market+"/category/update-by-id",data:JSON.stringify({id:t.id,name:t.name,sort:n}),method:"POST",dataType:"json",contentType:"application/json;charset=utf-8",headers:{dtoken:s.cookie.load("DTOKEN")}}))}}),$.when.apply($,a).done(function(){var t=(Array.prototype.slice.call(arguments),!0);if(1===a.length)1e3!==arguments[0].responseCode&&(r.fail({message:"保存分类信息失败："+arguments[0].errorMsg}),t=!1);else for(var n=0;n<a.length;n++)if(1e3!==arguments[n][0].responseCode){r.fail({message:"保存分类信息失败："+arguments[n][0].errorMsg}),t=!1;break}t&&r.success({message:"保存分类信息成功"}),u.query(e)}).fail(function(t){r.error({message:t}),u.query(e)})}),e.exports=u},function(e,t,n){"use strict";var a=n(1),r=n(65),i={game:[],software:[]},o={game:0,software:1},s=a.createStore({listenables:r,getDefaultData:function(){return{categories:i}},getTypeMap:function(){return o},onQueryCompleted:function(e){e.list.forEach(function(e){e.id=e.categoryId,e.name=e.categoryName,e.subs=e.subCategory,e.subs.forEach(function(e){e.id=e.categoryId,e.name=e.categoryName})}),i[e.type]=e.list,this.trigger($.extend({},i))}});e.exports=s},function(e,t,n){"use strict";var a,r=n(1),i=n(67),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.publish,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{status:null,gameCode:"",name:""}},getDefaultItem:function(){return{gameCode:"",name:"",icon:"",site:"",iJbDownloadUrl:"",iDownloadUrl:"",androidDownloadUrl:"",scanDownloadUrl:"",status:-1,desc:""}},getPickFiled:function(){return["gameCode","name","icon","site","iJbDownloadUrl","iDownloadUrl","androidDownloadUrl","scanDownloadUrl","scanFollowWechatUrl","status","description"]},createOrUpdate:function(e,t,n){var a=this,r="游戏创建成功",o=c+"/game/add";"update"===t&&(r="游戏修改成功",o=c+"/game/modify");var s=function(e){a.trigger({type:"create",data:!0}),d.success({message:r}),i.query(n)};l(o,e,s)},onQuery:function(e){var t=this,n=c+"/game/query",a=e.filter,r=function(n){t.trigger({type:"list",data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}})};a=o.assign(a,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,a,r,"GET")},onCreate:function(e,t){var n=e,a=o.pick(t,this.getPickFiled());this.createOrUpdate(a,"",n)},onUpdate:function(e,t){var n=e,a=o.pick(t,this.getPickFiled().concat(["id"]));this.createOrUpdate(a,"update",n)},onDelete:function(e,t){var n=c+"/game/delete",a={id:t},r=function(t){d.success({message:"已删除"}),setTimeout(function(){i.query(e)},100)};l(n,a,r)}}),e.exports=a},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,a=[],r=e[Symbol.iterator]();!(n=r.next()).done&&(a.push(n.value),!t||a.length!==t););return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(5),o=a(i),s=(i.Component,a(n(1)),a(n(4))),l=a(n(9)),u=a(n(3));n(905);var c=function(e,t,n){if(!(t===n||0>n||n>e.length-1)){var a=[e[n],e[t]],i=r(a,2);e[t]=i[0],e[n]=i[1]}},d=function(e,t){var n=e[t];s.pullAt(e,t),e.unshift(n)},m=function(e,t){var n=e[t];s.pullAt(e,t),e.push(n)},f=o.createClass({displayName:"AddSubCategory",render:function(){return o.createElement("tr",null,o.createElement("td",null),o.createElement("td",null,o.createElement("span",null," "),o.createElement("i",{className:"fa fa-folder-open"}),o.createElement("span",null," "),o.createElement("button",{className:"btn btn-sm btn-success",onClick:this.props.onAddSub},"添加子分类")),o.createElement("td",null),o.createElement("td",null))}}),p=o.createClass({displayName:"SubCategory",render:function(){var e=this.props.category;return o.createElement("tr",null,o.createElement("td",null),o.createElement("td",null,o.createElement("span",null," "),o.createElement("i",{className:"fa fa-folder-open"}),o.createElement("span",null," "),o.createElement("input",{type:"text",value:e.name,onChange:this.props.onNameChange})),o.createElement("td",{className:"text-center"},o.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.props.onMoveUp},o.createElement("i",{className:"fa fa-angle-up"})),o.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.props.onMoveDown},o.createElement("i",{className:"fa fa-angle-down"})),o.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.props.onMoveTop},o.createElement("i",{className:"fa fa-angle-double-up"})),o.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.props.onMoveBottom},o.createElement("i",{className:"fa fa-angle-double-down"}))),o.createElement("td",{className:"text-center"},o.createElement("button",{className:"btn btn-sm btn-danger",onClick:this.props.onDelete},"删除")))}}),h=o.createClass({displayName:"MainCategory",getInitialState:function(){return{expanded:!1}},hasSub:function(e){return e.subs&&0!==e.subs.length?!s.every(e.subs,function(e){return"delete"===e.operation}):!1},render:function(){var e=this.props.category;return o.createElement("tr",null,this.props.disableSubcategory?"":o.createElement("td",{className:"text-center"},o.createElement("button",{className:"btn btn-sm btn-default",onClick:this.props.onToggleExpand},e.expanded?o.createElement("i",{className:"ion-arrow-down-b"}):o.createElement("i",{className:"ion-arrow-right-b"}))),o.createElement("td",null,o.createElement("input",{type:"text",value:this.props.category.name,onChange:this.props.onNameChange})),o.createElement("td",{className:"text-center"},o.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.props.onMoveUp},o.createElement("i",{className:"fa fa-angle-up"})),o.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.props.onMoveDown},o.createElement("i",{className:"fa fa-angle-down"})),o.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.props.onMoveTop},o.createElement("i",{className:"fa fa-angle-double-up"})),o.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.props.onMoveBottom},o.createElement("i",{className:"fa fa-angle-double-down"}))),this.hasSub(e)?o.createElement("td",null):o.createElement("td",{className:"text-center"},o.createElement("button",{className:"btn btn-sm btn-danger",onClick:this.props.onDelete},"删除")))}}),g=o.createClass({displayName:"CategoryTable",getInitialState:function(){return{categories:[]}},addMain:function(){this.state.categories.push({id:(new Date).getTime(),operation:"create",name:"",subs:[]}),this.forceUpdate()},addSub:function(e){var t=s.find(this.state.categories,"id",e.id);t.subs.push({id:(new Date).getTime(),operation:"create",name:""}),this.forceUpdate()},showDelete:function(e,t){"main"===t?this.props.directDelete?l.warning({message:"是否删除 "+e.name,onConfirm:this.deleteMain.bind(null,e)}):this.deleteMain(e):this.props.directDelete?l.warning({message:"是否删除 "+e.name,onConfirm:this.deleteSub.bind(null,e)}):this.deleteSub(e)},saveData:function(){var e=!1;this.state.categories.forEach(function(t){s.isEmpty(t.name)&&(e=!0),t.subs&&t.subs.forEach(function(t){s.isEmpty(t.name)&&(e=!0)})}),e?u.fail({message:"名称不可以为空"}):this.props.onSaveData(this.state.categories)},toggleExpand:function(e){var t=s.find(this.state.categories,"id",e.id);t.expanded=!t.expanded,this.forceUpdate()},deleteMain:function(e){var t=s.find(this.state.categories,"id",e.id);if("create"===t.operation){var n=s.findIndex(this.state.categories,"id",e.id);s.pullAt(this.state.categories,n)}else t.operation="delete";this.forceUpdate()},deleteSub:function(e){var t=s.find(this.state.categories,"id",e.main.id),n=s.find(t.subs,"id",e.id),a=s.findIndex(t.subs,"id",e.id);"create"!==n.operation?n.operation="delete":s.pullAt(t.subs,a),this.forceUpdate()},moveMain:function(e,t){var n=s.findIndex(this.state.categories,"id",e.id);switch(t){case"up":c(this.state.categories,n,n-1);break;case"down":c(this.state.categories,n,n+1);break;case"top":d(this.state.categories,n);break;case"bottom":m(this.state.categories,n)}this.forceUpdate()},moveSub:function(e,t){var n=s.find(this.state.categories,"id",e.main.id),a=s.findIndex(n.subs,"id",e.id);switch(t){case"up":c(n.subs,a,a-1);break;case"down":c(n.subs,a,a+1);break;case"top":d(n.subs,a);break;case"bottom":m(n.subs,a)}this.forceUpdate()},changeNameMain:function(e,t){var n=s.find(this.state.categories,"id",e.id);n.name=t.target.value,this.forceUpdate()},changeNameSub:function(e,t){var n=s.find(this.state.categories,"id",e.main.id),a=s.find(n.subs,"id",e.id);a.name=t.target.value,this.forceUpdate()},render:function(){var e=[];return this.state.categories=this.props.categories,this.state.categories.forEach(function(t){"delete"!==t.operation&&(e.push($.extend({},t,{type:"main",key:"main"+t.id})),t.expanded&&(t.subs.forEach(function(n){"delete"!==n.operation&&e.push($.extend({},n,{type:"sub",key:"sub"+n.id,main:t}))}),e.push($.extend({},t,{type:"add",key:"add"+t.id}))))}),o.createElement("div",{className:"box"},o.createElement("div",{className:"box-header"},o.createElement("div",{className:"col-sm-3"},o.createElement("h4",null,this.props.title)),o.createElement("div",{className:"col-sm-offset-3 col-sm-3"},o.createElement("button",{className:"btn btn-block btn-success",onClick:this.addMain},this.props.searchMode?"添加关键字":"添加主分类")),o.createElement("div",{className:"col-sm-3"},o.createElement("button",{className:"btn btn-block btn-primary",onClick:this.saveData},"保存设置"))),o.createElement("div",{className:"box-body clearfix"},o.createElement("table",{ref:"table",className:"table table-bordered table-hover"},o.createElement("thead",null,o.createElement("tr",null,this.props.disableSubcategory?"":o.createElement("th",null),o.createElement("th",{className:"text-center"},this.props.searchMode?"关键字":"分类名称"),o.createElement("th",{className:"text-center"},"移动"),o.createElement("th",{className:"text-center"},"操作"))),o.createElement("tbody",{className:"data-table"},e.map(function(e){switch(e.type){case"main":return o.createElement(h,{key:e.key,category:e,disableSubcategory:this.props.disableSubcategory,onNameChange:this.changeNameMain.bind(null,e),onToggleExpand:this.toggleExpand.bind(null,e),onMoveUp:this.moveMain.bind(null,e,"up"),onMoveDown:this.moveMain.bind(null,e,"down"),onMoveTop:this.moveMain.bind(null,e,"top"),onMoveBottom:this.moveMain.bind(null,e,"bottom"),onDelete:this.showDelete.bind(null,e,"main")});case"sub":return o.createElement(p,{key:e.key,category:e,onNameChange:this.changeNameSub.bind(null,e),onMoveUp:this.moveSub.bind(null,e,"up"),onMoveDown:this.moveSub.bind(null,e,"down"),onMoveTop:this.moveSub.bind(null,e,"top"),
onMoveBottom:this.moveSub.bind(null,e,"bottom"),onDelete:this.showDelete.bind(null,e,"sub")});case"add":return o.createElement(f,{key:e.key,category:e,onAddSub:this.addSub.bind(null,e)})}}.bind(this))))))}});e.exports=g},function(e,t,n){"use strict";var a=n(11),r=a.createClass({displayName:"NumberInput",render:function(){return a.createElement("input",{type:"number",className:"form-control",required:this.props.item.required,readOnly:this.props.item.readOnly||this.props.item.disabled,min:this.props.item.min||"0",max:this.props.item.max||"999999999",step:this.props.item.step||1,name:this.props.field||this.props.item.field,placeholder:this.props.placeholder||this.props.item.placeholder||this.props.item.name,value:this.props.value,onChange:this.props.onChange})}});e.exports=r},function(e,t,n){"use strict";var a=n(1),r=a.createActions(["update"]);e.exports=r},function(e,t,n){"use strict";var a=n(1),r=n(54),i=n(23),o=n(2),s=function(e){return 0===e.url.indexOf("http")?e.link=e.url:e.to=e.url,e},l=a.createStore({listenables:r,init:function(){this.menus=[],this.platform=null},getMenus:function(){return this.menus},getPlatform:function(){return this.platform},getCurrentMenu:function(e){for(var t,n,a,r=e.path,i=e.query,o=e.full,s=0;s<this.menus.length;s++){var l=this.menus[s];if(l.menus)for(var u=0;u<l.menus.length;u++){var c=l.menus[u];if(!c.to||c.to!==r&&c.to!==o||(t=l,n=c),c.link&&c.link===i.link&&(t=l,n=c),c.menus)for(var d=0;d<c.menus.length;d++){var m=c.menus[d];if(m.to===r){t=l,n=c,a=m;break}}}else{if(l.to&&l.to===r){t=l;break}if(l.link&&l.link===i.link){t=l;break}}}return{mainMenu:t||"",subMenu:n,thirdMenu:a}},setMenus:function(){},onLoadMenuCompleted:function(e,t,n){if(this.menus=[],!t)return void this.trigger(this.menus);var a=i.cookie.load(o.constants.STORAGE_KEY);a&&(a.platform=t,i.cookie.save(o.constants.STORAGE_KEY,a)),n&&n.replaceWith("/dashboard"),this.menus.push({id:a.userName+"-level-1",name:"主面板",to:"/dashboard"}),this.menus=this.menus.concat(e.map(function(e,n){return e.id=a.userName+"-platform-"+t+"-"+n,e.subList.length>0?e.menus=e.subList.map(function(e,n){return e.id="platform-"+t+"-sub-"+n,e.hidden=0===e.enable?!0:!1,s(e),e}):s(e),e})),this.trigger(this.menus)},onLoadFailed:function(){console.error("Fail to load menus."),this.trigger([])}});l.isLoaded=!1,e.exports=l},,function(e,t,n){function a(e,t){if("function"!=typeof e)throw new TypeError(r);return t=i(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,a=-1,r=i(n.length-t,0),o=Array(r);++a<r;)o[a]=n[t+a];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var s=Array(t+1);for(a=-1;++a<t;)s[a]=n[a];return s[t]=o,e.apply(this,s)}}var r="Expected a function",i=Math.max;e.exports=a},function(e,t,n){function a(e,t){var n=null==e?void 0:e[t];return r(n)?n:void 0}var r=n(698);e.exports=a},function(e,t,n){function a(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}var r=9007199254740991;e.exports=a},function(e,t,n){function a(e){return i(e)&&r(e)&&s.call(e,"callee")&&!l.call(e,"callee")}var r=n(71),i=n(72),o=Object.prototype,s=o.hasOwnProperty,l=o.propertyIsEnumerable;e.exports=a},function(e,t,n){var a=n(91),r=n(92),i=n(72),o="[object Array]",s=Object.prototype,l=s.toString,u=a(Array,"isArray"),c=u||function(e){return i(e)&&r(e.length)&&l.call(e)==o};e.exports=c},function(e,t,n){(function(n){"use strict";function a(e,t){if("production"!==n.env.NODE_ENV){for(var a=arguments.length,r=Array(a>2?a-2:0),i=2;a>i;i++)r[i-2]=arguments[i];for(var o=0;o<r.length;o++){var s=r[o];if(s&&s.prototype&&s.prototype.render)return void console.error("You seem to be applying the arguments in the wrong order. "+("It should be "+e+"("+t+")(Component), not the other way around. ")+"Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#you-seem-to-be-applying-the-arguments-in-the-wrong-order")}}}t.__esModule=!0,t["default"]=a,e.exports=t["default"]}).call(t,n(10))},function(e,t,n){"use strict";function a(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=Object.prototype.hasOwnProperty,i=0;i<n.length;i++){if(!r.call(t,n[i]))return!1;var o=e[n[i]],s=t[n[i]];if(o!==s||"object"==typeof o||"object"==typeof s)return!1}return!0}t.__esModule=!0,t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.publishSource,a=void 0===n?!0:n,r=t.clientOffset,i=void 0===r?null:r,o=t.getSourceClientOffset;m["default"](p["default"](e),"Expected sourceIds to be an array.");var s=this.getMonitor(),l=this.getRegistry();m["default"](!s.isDragging(),"Cannot call beginDrag while dragging.");for(var u=0;u<e.length;u++)m["default"](l.getSource(e[u]),"Expected sourceIds to be registered.");for(var c=null,u=e.length-1;u>=0;u--)if(s.canDragSource(e[u])){c=e[u];break}if(null!==c){var d=null;i&&(m["default"]("function"==typeof o,"When clientOffset is provided, getSourceClientOffset must be a function."),d=o(c));var f=l.getSource(c),h=f.beginDrag(s,c);m["default"](g["default"](h),"Item must be an object."),l.pinSource(c);var y=l.getSourceType(c);return{type:v,itemType:y,item:h,sourceId:c,clientOffset:i,sourceClientOffset:d,isSourcePublic:a}}}function i(e){var t=this.getMonitor();if(t.isDragging())return{type:y}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.clientOffset,a=void 0===n?null:n;m["default"](p["default"](e),"Expected targetIds to be an array."),e=e.slice(0);var r=this.getMonitor(),i=this.getRegistry();m["default"](r.isDragging(),"Cannot call hover while not dragging."),m["default"](!r.didDrop(),"Cannot call hover after drop.");for(var o=r.getItemType(),s=0;s<e.length;s++){var l=e[s];m["default"](e.lastIndexOf(l)===s,"Expected targetIds to be unique in the passed array.");var u=i.getTarget(l);m["default"](u,"Expected targetIds to be registered.");var d=i.getTargetType(l);c["default"](d,o)&&u.hover(r,l)}return{type:b,targetIds:e,clientOffset:a}}function s(){var e=this,t=this.getMonitor(),n=this.getRegistry();m["default"](t.isDragging(),"Cannot call drop while not dragging."),m["default"](!t.didDrop(),"Cannot call drop twice during one drag operation.");var a=t.getTargetIds().filter(t.canDropOnTarget,t);a.reverse(),a.forEach(function(a,r){var i=n.getTarget(a),o=i.drop(t,a);m["default"]("undefined"==typeof o||g["default"](o),"Drop result must either be an object or undefined."),"undefined"==typeof o&&(o=0===r?{}:t.getDropResult()),e.store.dispatch({type:_,dropResult:o})})}function l(){var e=this.getMonitor(),t=this.getRegistry();m["default"](e.isDragging(),"Cannot call endDrag while not dragging.");var n=e.getSourceId(),a=t.getSource(n,!0);return a.endDrag(e,n),t.unpinSource(),{type:D}}t.__esModule=!0,t.beginDrag=r,t.publishDragSource=i,t.hover=o,t.drop=s,t.endDrag=l;var u=n(376),c=a(u),d=n(18),m=a(d),f=n(102),p=a(f),h=n(103),g=a(h),v="dnd-core/BEGIN_DRAG";t.BEGIN_DRAG=v;var y="dnd-core/PUBLISH_DRAG_SOURCE";t.PUBLISH_DRAG_SOURCE=y;var b="dnd-core/HOVER";t.HOVER=b;var _="dnd-core/DROP";t.DROP=_;var D="dnd-core/END_DRAG";t.END_DRAG=D},function(e,t,n){"use strict";function a(e){return{type:s,sourceId:e}}function r(e){return{type:l,targetId:e}}function i(e){return{type:u,sourceId:e}}function o(e){return{type:c,targetId:e}}t.__esModule=!0,t.addSource=a,t.addTarget=r,t.removeSource=i,t.removeTarget=o;var s="dnd-core/ADD_SOURCE";t.ADD_SOURCE=s;var l="dnd-core/ADD_TARGET";t.ADD_TARGET=l;var u="dnd-core/REMOVE_SOURCE";t.REMOVE_SOURCE=u;var c="dnd-core/REMOVE_TARGET";t.REMOVE_TARGET=c},function(e,t,n){function a(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=n(784);e.exports=a},function(e,t,n){function a(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}var r=n(769);e.exports=a},function(e,t,n){var a=n(146),r=a(Object,"create");e.exports=r},function(e,t,n){var a=Array.isArray;e.exports=a},function(e,t,n){function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=a},,,,,,,,,,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["login","logout"])},function(e,t,n){"use strict";var a=n(1),r=n(113),i=n(3),o=n(23),s=n(2),l=a.createStore({listenables:r,getInitialState:function(){return{userName:"",isLogin:!1,platform:""}},onLogin:function(e){var t=this;$.ajax({url:s.domain.market+"/login",data:{username:e.userName,password:e.userPwd},method:"POST",dataType:"json"}).done(function(e){if(1e3===e.responseCode){var n={userName:e.data.baUser.username,isLogin:!0,sysMenu:e.data.sysMenu};o.cookie.save(s.constants.STORAGE_KEY,n),o.cookie.save(e.data.tokenKey,e.data.token),t.trigger(n)}else i.fail({message:e.errorMsg})}).fail(function(e){i.fail({message:e})})},onLogout:function(e){$.ajax({url:s.domain.market+"/logout",method:"POST",dataType:"json",async:!1}).done(function(t){1e3===t.responseCode&&(o.cookie.remove(s.constants.STORAGE_KEY),e.replaceWith("/login"))}).fail(function(e){i.fail({message:e})})},onLogined:function(){$.ajax({url:s.domain.market+"/checkLogin",method:"POST",dataType:"json",async:!1}).done(function(e){return 1e3===e.responseCode?!0:!1}).fail(function(e){return!1})}});e.exports=l},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","create","update","delete","publish","stop"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","update","delete","publish"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(79),o=n(4),s=(n(16),n(8)),l=n(2),u=l.domain.cms;n(3);a=r.createStore({listenables:i,onQuery:function(){var e=this,t=u+"/appType/select",n=function(t){e.trigger({type:"list",data:o.map(t.data,function(e){return e.name=e.typeAttrName,e.id=e.typeAttrCode,e})})},a={};s(t,a,n,"GET")},onQueryLevel:function(){var e=this,t=u+"/appType/selectTwoLevel",n=function(t){e.trigger({type:"list",data:t.data})},a={};s(t,a,n,"GET")}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","upDown","delete"]),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r=n(5),i=n(7),o=n(12),s=n(34),l=n(118),u=n(186),c=n(4);a=r.createClass({displayName:"BannerPicker",getInitialState:function(){return{data:c.assign(u.getDefaultData(),{perPage:10}),filter:c.assign(u.getDefaultFilter(),{pageSize:10})}},componentDidMount:function(){var e=this;this.unsubscribe=u.listen(function(t){"list"===t.type&&e.setState({data:t.data})})},componentWillUnMount:function(){this.unsubscribe()},queryData:function(e){l.query({data:c.assign(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:c.assign(this.state.filter,e)},function(){l.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})})},show:function(){this.queryData({currentPage:0}),this.refs.dialog.show()},hide:function(){this.refs.dialog.hide()},render:function(){return r.createElement(s,{ref:"dialog",title:"Banner选择"},r.createElement(o,{filters:[{name:"BannerID",field:"bannerId"},{name:"Banner名称",field:"bannerName"}],onFilterData:this.filterData}),r.createElement(i,{data:this.state.data,onLoadPage:this.queryData,dataMap:[{name:"BannerID",field:"id"},{name:"Banner名称",field:"name"},{name:"类型",field:"referenceTypeDesc"},{name:"Banner图",field:"pic",value:function(e){return r.createElement("img",{className:"preview",src:e.pic})}},{name:"描述",field:"bannerDesc"},{name:"创建时间",field:"createTime"}],operations:[{name:"选择",icon:"primary",callback:this.props.onSelected}],groupOperations:this.props.allowMutilSelect?[{name:"批量选择",icon:"primary",callback:this.props.onBatchSelect.bind(this)}]:null}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(80),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{id:null,isPage:!0}},onQuery:function(e){var t=this,n=c+"/module/getModuleListRef",a=function(n){1e3===n.responseCode&&t.trigger({type:"list",filter:e.filter,data:{list:n.data.aaData,totalCount:n.data.itotalRecords,perPage:e.data.perPage,currentPage:e.data.currentPage}})},r=o.pick(e.filter,function(e){return 0===e?!0:o.isBoolean(e)?!0:!!e});r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onSave:function(e){var t=this,n=c+"/module/addModuleRefList",a=function(e){d.success({message:"保存成功"}),t.trigger({type:"save",data:!0})};l(n,e,a)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(81),o=(n(4),n(16)),s=n(8),l=n(2),u=l.domain.cms,c=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return o.dataTable()},getDefaultFilter:function(){return{}},onQuery:function(){var e=this,t=u+"/banner/selectAllReferenceType",n=function(t){1e3===t.responseCode?e.trigger({type:"list",data:t.data}):c.fail({message:t.errorMsg})},a={};s(t,a,n,"GET")}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","upDown","delete"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query"]),e.exports=a},function(e,t,n){"use strict";var a=n(1),r=n(82),i={news:[],images:[],videos:[]},o={news:1,images:2,videos:3},s=a.createStore({listenables:r,getDefaultData:function(){return{categories:i}},getTypeMap:function(){return o},onQueryCompleted:function(e){e.list.forEach(function(e){e.operation="update"}),i[e.type]=e.list,this.trigger($.extend({},i))}});e.exports=s},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["create","query","update","delete","active","deactive","get"])},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=n(125),o=a(i),s=a(n(3)),l=(a(n(2)),a(n(126)),a(i),a(n(8)));e.exports=r.createStore({listenables:o,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{field:"userName",name:"用户名"},{field:"month",name:"查询月份(YYYYMM)",placeholder:"201510"}]},getDefaultItem:function(){return{type:"",title:"",resource:"",outUrl:"",detail:""}},onCreate:function(e,t){var n="/web/news/saveNews",a=t,r=function(t){1e3===t.responseCode?(s.success({message:"添加游戏资讯成功"}),o.query(e)):(s.fail({message:t.errorMsg}),o.query(e))};l(n,a,r)},onQuery:function(e){var t=this,n="/app/downaward/query",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):s.fail({message:n.errorMsg})},r=_.pick(_.pick(e,"userName","month"),function(e){return!_.isEmpty(e)});return r.userName?r.month?(r.currentPage=e.currentPage+1,r.pageSize=e.perPage,void l(n,r,a)):void s.fail({message:"请输入查询月份"}):void s.fail({message:"请输入用户名"})},onUpdate:function(e,t){var n="/web/news/saveNews",a={id:t.id,type:t.type,title:t.title,resource:t.resource,outUrl:t.outUrl,detail:t.detail,rowVersion:t.rowVersion},r=function(t){1e3===t.responseCode?(s.success({message:"修改游戏资讯成功"}),o.query(e)):(s.fail({message:t.errorMsg}),o.query(e))};l(n,a,r)},onDelete:function(e,t){var n="/web/news/removeNews",a={id:t.id},r=function(t){1e3===t.responseCode?(s.success({message:"删除游戏资讯成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onActive:function(e,t){var n="/wifi/changeWifiStatus.html",a={id:t.id,status:1},r=function(t){t.success?(s.success({message:"恢复服务成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onDeactive:function(e,t){var n="/wifi/changeWifiStatus.html",a={id:t.id,status:2},r=function(t){t.success?(s.success({message:"关闭服务成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onGet:function(e){var t=this,n="/app/activity/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):s.fail({message:e.errorMsg})};l(n,a,r)}})},125,function(e,t,n){"use strict";var a=n(1),r=(n(3),n(2),a.createActions({query:{asyncResult:!0}}));r.query.listen(function(e){console.log(e),this.completed({web:[{date:"201501",download:parseInt(1e4*Math.random())},{date:"201502",download:parseInt(1e4*Math.random())},{date:"201503",download:parseInt(1e4*Math.random())},{date:"201504",download:parseInt(1e4*Math.random())},{date:"201505",download:parseInt(1e4*Math.random())},{date:"201506",download:parseInt(1e4*Math.random())},{date:"201507",download:parseInt(1e4*Math.random())},{date:"201508",download:parseInt(1e4*Math.random())},{date:"201509",download:parseInt(1e4*Math.random())},{date:"201510",download:parseInt(1e4*Math.random())},{date:"201511",download:parseInt(1e4*Math.random())},{date:"201512",download:parseInt(1e4*Math.random())}],ios:[{date:"201501",download:parseInt(1e4*Math.random())},{date:"201502",download:parseInt(1e4*Math.random())},{date:"201503",download:parseInt(1e4*Math.random())},{date:"201504",download:parseInt(1e4*Math.random())},{date:"201505",download:parseInt(1e4*Math.random())},{date:"201506",download:parseInt(1e4*Math.random())},{date:"201507",download:parseInt(1e4*Math.random())},{date:"201508",download:parseInt(1e4*Math.random())},{date:"201509",download:parseInt(1e4*Math.random())},{date:"201510",download:parseInt(1e4*Math.random())},{date:"201511",download:parseInt(1e4*Math.random())},{date:"201512",download:parseInt(1e4*Math.random())}],android:[{date:"201501",download:parseInt(1e4*Math.random())},{date:"201502",download:parseInt(1e4*Math.random())},{date:"201503",download:parseInt(1e4*Math.random())},{date:"201504",download:parseInt(1e4*Math.random())},{date:"201505",download:parseInt(1e4*Math.random())},{date:"201506",download:parseInt(1e4*Math.random())},{date:"201507",download:parseInt(1e4*Math.random())},{date:"201508",download:parseInt(1e4*Math.random())},{date:"201509",download:parseInt(1e4*Math.random())},{date:"201510",download:parseInt(1e4*Math.random())},{date:"201511",download:parseInt(1e4*Math.random())},{date:"201512",download:parseInt(1e4*Math.random())}]})}),e.exports=r},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","queryPoint","queryItem","update","accept","reject","exportChargePoint"]),e.exports=a},function(e,t,n){"use strict";var a=n(1),r=n(16),i=n(66),o=n(3),s=n(8),l=n(2),u=l.domain.sdkba,c=a.createStore({listenables:i,getDefaultData:function(){return r.dataTable()},getDefaultFilter:function(){return{merchantFullName:"",merchantCode:"",appName:"",appCode:"",status:11,applyStartDate:"",applyEndDate:"",pageNo:1}},onUpdate:function(e,t){var n=this,a=u+"/merchantappaudit/updateState",r="";if(t.operation)switch(t.operation){case"testEnvReject":case"onlineEnvReject":r="已驳回"}else switch(t.status){case 12:case 14:case 16:case 18:r="已通过";break;case 1:r="已上架";break;case 41:case 43:case 45:case 47:case 48:r="已驳回"}t.operation&&delete t.operation;var l=function(t){o.success({message:r}),n.trigger({type:"release",data:!0}),i.query(e)};s(a,t,l,"GET")},onQuery:function(e){var t=this,n=u+"/merchantappaudit/list",a=function(n){1e3===n.responseCode?t.trigger({type:"list",data:{list:n.data.appList,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}}):o.fail({message:n.errorMsg})},r=e.filter;r=_.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),s(n,r,a,"GET")},onItemQuery:function(e){var t=this,n=u+"/merchantappaudit/toview",a=function(e){1e3===e.responseCode?t.trigger({type:"item",data:_.assign(e.data,{picUrlList:e.data.picUrlList.map(function(e){return e.picUrl})})}):o.fail({message:e.errorMsg})};s(n,{appCode:e},a,"GET")}});e.exports=c},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","download","checkDownload","history"]),e.exports=a},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["checkout","getPlatforms"])},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=n(5).Component,l=a(n(4));n(920);var u=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),r(t,{render:{value:function(){var e=this,t=[],n=this.props.value;return l.isEmpty(n)?null:(l.isArray(n)?t=n:t.push({picUrl:n}),React.createElement("p",{className:""},l.map(t,function(t){return React.createElement("a",{href:t.picUrl,target:"_blank"},React.createElement("img",{className:e.props.large?e.props.large:"preview",src:t.picUrl}))})))}}}),t}(s);e.exports=u},function(e,t,n){"use strict";var a=n(5),r=n(590),i=n(588),o=n(4),s=a.createClass({displayName:"Tree",getInitialState:function(){return{data:this.props.data}},componentDidMount:function(){var e=this;this.unsubscribe=r.listen(function(t){e.setState($.extend(e.state.data,t))})},componentWillUnMount:function(){this.unsubscribe()},componentWillReceiveProps:function(e){this.setState({data:e.data})},handleChange:function(e){var t=e.target.checked,n=parseInt(e.target.getAttribute("data-key")),a=-1,r=function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){e.id===n&&(a=e.parent,e.checked=t,e.subList&&e.subList.forEach(i)),e.subList&&e.subList.forEach(r)}),i=function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){e.checked=t,e.subList&&e.subList.forEach(i)}),o=function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){e.id===a&&-1!==e.parent&&t&&(e.checked=t),e.subList&&e.subList.forEach(o)});this.state.data.forEach(r),a>-1&&this.state.data.forEach(o),this.setState(this.state.data)},render:function(){var e=this.state.data;return a.createElement("ul",{className:"checkbox-tree"},o.isArray(e)?e.map(function(e,t){return a.createElement(i,{key:e.id,node:e,handleChange:this.handleChange})},this):null)}});e.exports=s},function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=n(5).Component,s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return r(t,e),a(t,{render:{value:function(){return React.createElement("input",{type:"text",className:"form-control",placeholder:this.props.item.placeholder||this.props.item.name,name:this.props.item.field,value:this.props.value,maxLength:this.props.item.maxLength,required:this.props.item.required,readOnly:this.props.item.readOnly||this.props.item.disabled,onChange:this.props.onChange})}}}),t}(o);e.exports=s},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(2),o=n(8),s=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0},queryTree:{asyncResult:!0}});s.create.listen(function(e){var t=i.domain.market+"/roleManager/insert",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"添加角色成功"}),s.query(e)):r.fail({message:t.errorMsg})};o(t,n,a)}),s.query.listen(function(e){var t=i.domain.market+"/roleManager/selectAllByPage",n=function(t){1e3===t.responseCode?this.completed({list:t.data.aaData,totalCount:t.data.itotalRecords,perPage:e.data.perPage,currentPage:e.data.currentPage}):r.fail({message:t.errorMsg})}.bind(this),a={};""!==e.filter.name&&(a.name=e.filter.name),a=$.extend(a,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),o(t,a,n)}),s.queryTree.listen(function(){var e=i.domain.market+"/userManager/getAllRole",t=function(e){1e3===e.responseCode?this.completed(e.data):r.fail({message:e.errorMsg})}.bind(this),n={};n=$.extend(n,{pageNo:1,pageSize:9999}),o(e,n,t)}),s.update.listen(function(e){var t=i.domain.market+"/roleManager/edit",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"修改角色成功"}),s.query(e)):r.fail({message:t.errorMsg})};o(t,n,a)}),s["delete"].listen(function(e){var t=i.domain.market+"/roleManager/delete",n={roleId:e.item.roleId},a=function(t){1e3===t.responseCode?(r.success({message:"删除角色成功"}),s.query(e)):r.fail({message:t.errorMsg})};o(t,n,a)}),e.exports=s},function(e,t,n){function a(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?i:t,e>-1&&e%1==0&&t>e}var r=/^\d+$/,i=9007199254740991;e.exports=a},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e:{"default":e}};t.__esModule=!0;var r=n(139),i=a(r);t.isDisposable=i["default"];var o=n(730),s=a(o);t.Disposable=s["default"];var l=n(729),u=a(l);t.CompositeDisposable=u["default"];var c=n(731),d=a(c);t.SerialDisposable=d["default"]},function(e,t,n){"use strict";function a(e){return Boolean(e&&"function"==typeof e.dispose)}t.__esModule=!0,t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e["default"]:e}t.__esModule=!0;var r=n(732);t.DragDropManager=a(r);var i=n(734);t.DragSource=a(i);var o=n(735);t.DropTarget=a(o);var s=n(736);t.createTestBackend=a(s)},function(e,t,n){function a(e){var t=-1,n=e?e.length:0;for(this.__data__=new r;++t<n;)this.add(e[t])}var r=n(745),i=n(781),o=n(782);a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t,n){function a(e,t){var n=e?e.length:0;return!!n&&r(e,t,0)>-1}var r=n(750);e.exports=a},function(e,t,n){function a(e,t,n){for(var a=-1,r=e?e.length:0;++a<r;)if(n(t,e[a]))return!0;return!1}e.exports=a},function(e,t,n){function a(e,t){for(var n=-1,a=e?e.length:0,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r}e.exports=a},function(e,t,n){function a(e,t){return e.has(t)}e.exports=a},function(e,t,n){function a(e,t){var n=i(e,t);return r(n)?n:void 0}var r=n(752),i=n(762);e.exports=a},function(e,t,n){(function(t){var a=n(757),r=a("object"==typeof t&&t),i=a("object"==typeof self&&self),o=a("object"==typeof this&&this),s=r||i||o||Function("return this")();e.exports=s}).call(t,function(){return this}())},function(e,t,n){function a(e){return i(e)&&r(e)}var r=n(786),i=n(150);e.exports=a},function(e,t,n){function a(e){var t=r(e)?l.call(e):"";return t==i||t==o}var r=n(103),i="[object Function]",o="[object GeneratorFunction]",s=Object.prototype,l=s.toString;e.exports=a},function(e,t,n){function a(e){return!!e&&"object"==typeof e}e.exports=a},function(e,t,n){function a(e,t){if("function"!=typeof e)throw new TypeError(o);return t=s(void 0===t?e.length-1:i(t),0),function(){for(var n=arguments,a=-1,i=s(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var l=Array(t+1);for(a=-1;++a<t;)l[a]=n[a];return l[t]=o,r(e,this,l)}}var r=n(747),i=n(791),o="Expected a function",s=Math.max;e.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(664);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function b(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:b(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(5),u=a(l),c=l.Component,d=a(n(113)),m=a(n(114)),f=a(n(69)),p=a(n(68)),h=a(n(70)),g=a(n(23)),v=a(n(2)),y=function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=m.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=m.listen(function(t){t&&e.setState(t)}),f.hide(),p.hide(),h.sideOff()}},componentWillUnMount:{value:function(){this.unsubscribe(),ListenerMethods.stopListeningToAll()}},componentDidUpdate:{value:function(){if(this.state.isLogin){if(t.attemptedTransition){var e=g.cookie.load(v.constants.STORAGE_KEY);e&&e.platform?(f.checkout(e.platform),t.attemptedTransition.retry()):this.context.router.replaceWith("/")}else this.context.router.replaceWith("/");this.unsubscribe()}}},handleConfirm:{value:function(e){e.preventDefault(),d.login(this.state)}},render:{value:function(){var e=this;return u.createElement("div",{className:"container-fluid"},u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-6 col-sm-offset-3"},u.createElement("div",{className:"box"},u.createElement("div",{className:"box-header with-border"},u.createElement("h4",null,"用户登录")),u.createElement("form",{onSubmit:this.handleConfirm.bind(this),ref:"login-form"},u.createElement("div",{className:"box-body"},u.createElement("fieldset",null,u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-12 form-group"},u.createElement("label",{htmlFor:"userName"},"用户名："),u.createElement("input",{id:"userName",value:this.state.userName,onChange:function(t){return e.setState({userName:t.target.value})},className:"form-control",maxLength:50,required:!0}))),u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-12 form-group"},u.createElement("label",{htmlFor:"userPwd"},"密  码："),u.createElement("input",{id:"userPwd",type:"password",value:this.state.userPwd,onChange:function(t){return e.setState({userPwd:t.target.value})},className:"form-control",maxLength:20,required:!0}))))),u.createElement("div",{className:"box-footer"},u.createElement("div",{className:"row text-center"},u.createElement("input",{type:"submit",className:"btn btn-primary col-sm-offset-4 col-sm-4",value:"提交"}))))))))}}}),t}(c);y.contextTypes={router:u.PropTypes.func.isRequired},y.attemptedTransition=null,e.exports=y},function(e,t,n){"use strict";var a,r=n(1),i=n(115),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{id:null,status:null,name:""}},onQuery:function(e){var t=this,n=c+"/active/selectPageByConditions",a=function(n){1e3===n.responseCode?t.trigger({type:"list",filter:e.filter,data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}}):d.fail({message:n.errorMsg})},r=e.filter;r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onPublish:function(e,t){var n=c+"/active/publish",a=function(t){1e3===t.responseCode&&(d.success({message:"活动已生效"}),i.query(e))};l(n,t,a)},onStop:function(e,t){var n=c+"/active/stop",a=function(t){1e3===t.responseCode&&(d.success({message:"活动已停止"}),i.query(e))};l(n,t,a)},onDelete:function(e,t){var n=c+"/active/delete",a=t,r=function(t){1e3===t.responseCode?(d.success({message:"已删除"}),i.query(e)):d.fail({message:t.errorMsg})};l(n,a,r)}}),e.exports=a},function(e,t,n){"use strict";
var a,r=n(1);a=r.createActions(["queryById","create","update"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(116),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{serviceId:"",appName:"",status:null,appType0:null}},onQuery:function(e){var t=this,n=c+"/appInfo/getAppList",a=function(n){t.trigger({type:"list",filter:e.filter,data:{list:n.data.aaData,totalCount:n.data.itotalRecords,perPage:e.data.perPage,currentPage:e.data.currentPage}})},r=o.pick(e.filter,function(e){return 0===e?!0:!!e});r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onUpdate:function(e,t){var n=c+"/appInfo/updateAppInfo",a=function(t){d.success({message:"资源修改成功"}),i.query(e)};l(n,t,a)},onDelete:function(e,t){var n=c+"/appInfo/delete",a={serviceId:t},r=function(t){1e3===t.responseCode?(d.success({message:"资源删除成功"}),i.query(e)):d.fail({message:t.errorMsg})};l(n,a,r)},onPublish:function(e,t){var n=c+"/appInfo/publish",a=t,r="";switch(t.publish){case 1:r="暂时下线";break;case 2:r="上架";break;case 0:r="下架"}var o=function(t){1e3===t.responseCode?(d.success({message:"已"+r}),i.query(e)):d.fail({message:t.errorMsg})};l(n,a,o)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","delete","audit"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","update"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(118),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{bannerId:"",bannerName:"",bannerDesc:"",bannerStatus:"",referenceType:""}},onQuery:function(e){var t=this,n=c+"/banner/selectBannerPageByParam",a=function(n){1e3===n.responseCode?t.trigger({type:"list",filter:e.filter,data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}}):d.fail({message:n.errorMsg})},r=e.filter;"-1"===r.bannerStatus&&(r.bannerStatus=""),r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onUpDown:function(e,t){var n="上架成功";0===t.status&&(n="下架成功");var a=c+"/banner/upDownBanner",r=t,o=function(t){1e3===t.responseCode?(d.success({message:n}),i.query(e)):d.fail({message:t.errorMsg})};l(a,r,o)},onDelete:function(e,t){var n=c+"/banner/deleteBannerById",a=t,r=function(t){1e3===t.responseCode?(d.success({message:"已删除"}),i.query(e)):d.fail({message:t.errorMsg})};l(n,a,r)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","queryById","create","update"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","save","delete"]),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r=n(5),i=n(7),o=n(12),s=n(34),l=n(115),u=n(181),c=n(4);a=r.createClass({displayName:"ActivityPicker",getInitialState:function(){return{data:u.getDefaultData(),filter:{name:""}}},componentDidMount:function(){var e=this;this.unsubscribe=u.listen(function(t){"list"===t.type&&e.setState({data:t.data})})},componentWillUnMount:function(){this.unsubscribe()},queryData:function(e){l.query({data:c.assign(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:c.assign(this.state.filter,e)},function(){l.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})})},show:function(){this.queryData({currentPage:0}),this.refs.dialog.show()},hide:function(){this.refs.dialog.hide()},render:function(){return r.createElement(s,{ref:"dialog",title:"活动选择"},r.createElement(o,{filters:[{name:"活动名称",field:"name"}],onFilterData:this.filterData}),r.createElement(i,{data:this.state.data,onLoadPage:this.queryData,dataMap:[{name:"活动ID",field:"id"},{name:"活动名称",field:"name"},{name:"活动图片",field:"pic",value:function(e){return r.createElement("img",{className:"preview",src:e.pic})}},{name:"状态",field:"statusValue"}],operations:[{name:"选择",icon:"primary",callback:this.props.onSelected}],groupOperations:this.props.allowMutilSelect?[{name:"批量选择",icon:"primary",callback:this.props.onBatchSelect.bind(this)}]:null}))}}),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r=n(5),i=n(7),o=n(12),s=n(34),l=n(122),u=n(197),c=n(4);a=r.createClass({displayName:"SubjectPicker",getInitialState:function(){return{data:u.getDefaultData(),filter:{subjectName:""}}},componentDidMount:function(){var e=this;this.unsubscribe=u.listen(function(t){"list"===t.type&&e.setState({data:t.data})})},componentWillUnMount:function(){this.unsubscribe()},queryData:function(e){l.query({data:c.assign(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:c.assign(this.state.filter,e)},function(){l.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})})},show:function(){this.queryData({currentPage:0}),this.refs.dialog.show()},hide:function(){this.refs.dialog.hide()},render:function(){return r.createElement(s,{ref:"dialog",title:"专题选择"},r.createElement(o,{filters:[{name:"专题名称",field:"subjectName"}],onFilterData:this.filterData}),r.createElement(i,{data:this.state.data,onLoadPage:this.queryData,dataMap:[{name:"专题ID",field:"id"},{name:"专题名称",field:"name"},{name:"专题图片",field:"pic",value:function(e){return r.createElement("img",{className:"preview",src:e.pic})}},{name:"创建时间",field:"createTime"},{name:"状态",field:"statusDesc"}],operations:[{name:"选择",icon:"primary",callback:this.props.onSelected}],groupOperations:this.props.allowMutilSelect?[{name:"批量选择",icon:"primary",callback:this.props.onBatchSelect.bind(this)}]:null}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","save","create","update","delete"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","upDown","delete","save"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","save"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["queryById","create","update"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","create"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(122),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{subjectId:null,subjectName:"",subjectStatus:null}},onQuery:function(e){var t=this,n=c+"/subject/selectSubjectPageByParam",a=function(n){1e3===n.responseCode?t.trigger({type:"list",filter:e.filter,data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}}):d.fail({message:n.errorMsg})},r=e.filter;r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onUpDown:function(e,t){var n="上架成功";0===t.status&&(n="下架成功");var a=c+"/subject/upDownSubject",r=t,o=function(t){1e3===t.responseCode?(d.success({message:n}),i.query(e)):d.fail({message:t.errorMsg})};l(a,r,o)},onDelete:function(e,t){var n=c+"/subject/deleteSubjectById",a=t,r=function(t){1e3===t.responseCode?(d.success({message:"已删除"}),i.query(e)):d.fail({message:t.errorMsg})};l(n,a,r)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","save"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["queryById","create","update"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","save","delete"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(123),o=(n(4),n(16),n(8)),s=n(2),l=s.domain.cms;n(3);a=r.createStore({listenables:i,onQuery:function(){var e=this,t=l+"/tabLocation/getAll",n=function(t){e.trigger({type:"list",data:t.data})},a={};o(t,a,n,"GET")}}),e.exports=a},125,125,125,125,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=n(205),o=a(i),s=a(n(3)),l=a(n(8)),u=a(n(2));a(n(206)),a(i);e.exports=r.createStore({listenables:o,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{field:"award",type:"select",name:"游戏"},{field:"select",name:"类型",options:[{name:"全部",value:""},{name:"消费",value:"1"},{name:"奖励",value:"2"}]},{type:"date",startField:"startTime",endField:"endTime",format:"YYYY-MM-DD",name:"起止时间"},{field:"name",name:"用户名"}]},getDefaultItem:function(){return{type:"",title:"",resource:"",outUrl:"",detail:""}},onCreate:function(e,t){var n=u.domain.market+"/web/news/saveNews",a=t,r=function(t){1e3===t.responseCode?(s.success({message:"添加游戏资讯成功"}),o.query(e)):(s.fail({message:t.errorMsg}),o.query(e))};l(n,a,r)},onQuery:function(e){var t=this,n=u.domain.market+"/web/news/queryList",a={title:e.title||"",pageno:e.currentPage+1,pagesize:e.perPage},r=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):s.fail({message:n.errorMsg})};l(n,a,r)},onUpdate:function(e,t){var n=u.domain.market+"/web/news/saveNews",a={id:t.id,type:t.type,title:t.title,resource:t.resource,outUrl:t.outUrl,detail:t.detail,rowVersion:t.rowVersion},r=function(t){1e3===t.responseCode?(s.success({message:"修改游戏资讯成功"}),o.query(e)):(s.fail({message:t.errorMsg}),o.query(e))};l(n,a,r)},onDelete:function(e,t){var n=u.domain.market+"/web/news/removeNews",a={id:t.id},r=function(t){1e3===t.responseCode?(s.success({message:"删除游戏资讯成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onActive:function(e,t){var n=u.domain.qbao+"/wifi/changeWifiStatus.html",a={id:t.id,status:1},r=function(t){t.success?(s.success({message:"恢复服务成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onDeactive:function(e,t){var n=u.domain.qbao+"/wifi/changeWifiStatus.html",a={id:t.id,status:2},r=function(t){t.success?(s.success({message:"关闭服务成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onGet:function(e){var t=this,n=u.domain.market+"/app/activity/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):s.fail({message:e.errorMsg})};l(n,a,r)}})},125,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(127)),o=a(n(3)),s=a(n(8)),l=a(n(2)),u=a(n(6));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0,name:"",start:"",end:""}},getDataFilter:function(){return[{field:"month",name:"查询月份(YYYYMM)",placeholder:"201510","default":u().format("YYYYMM")}]},getDefaultItem:function(){return{name:"",openId:"",openAppId:"",qbCur:"",award:"",beginDate:"",endDate:"",appId:"",isRepeat:0}},onCreate:function(e,t){var n=l.domain.market+"/app/downcouponconf/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"添加下载奖励成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["name","gameId","softId","perCoupon","totalCoupon","activeValue","endDate","beginDate","endDate"]);s(n,r,a)},onQuery:function(e){var t=this,n=l.domain.market+"/app/downaward/queryAwardSum",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})},r=_.pick(e,["id","month"]);r.currentPage=e.currentPage+1,r.pageSize=e.perPage,s(n,r,a)},onUpdate:function(e,t){var n=l.domain.market+"/app/downcouponconf/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"修改下载奖励成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["id","name","gameId","softId","perCoupon","totalCoupon","activeValue","endDate","beginDate","endDate"]);s(n,r,a)},onDelete:function(e,t){var n=l.domain.market+"/app/downcouponconf/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"删除下载奖励成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/app/downcouponconf/publish",a={id:t.id,publish:1},r=function(t){1e3===t.responseCode?(o.success({message:"下载奖励上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/app/downcouponconf/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(o.success({message:"下载奖励下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/downcouponconf/queryById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(8),o=n(2),s=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0}});s.create.listen(function(e){var t=o.domain.market+"/pic/insert",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"添加资讯成功"}),s.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),s.query.listen(function(e){var t=o.domain.market+"/pic/get-by-cat-id-and-title-paged",n=function(t){1e3===t.responseCode?this.completed({list:t.data.aaData,totalCount:t.data.itotalRecords,perPage:e.data.perPage,currentPage:e.data.currentPage}):r.fail({message:t.errorMsg})}.bind(this),a={};0!=e.filter.categoryId&&(a.categoryId=e.filter.categoryId),""!==e.filter.title&&(a.title=e.filter.title),a=$.extend(a,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),i(t,a,n)}),s.update.listen(function(e){var t=o.domain.market+"/pic/update-by-id",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"修改资讯成功"}),s.query(e)):r.fail({message:t.message})};i(t,n,a)}),s["delete"].listen(function(e){var t=o.domain.market+"/pic/del-by-id",n={id:e.item.id},a=function(t){1e3===t.responseCode?(r.success({message:"删除资讯成功"}),s.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),e.exports=s},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(8),o=n(2),s=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0}});s.create.listen(function(e){var t=o.domain.market+"/info/insert",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"添加资讯成功"}),s.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),s.query.listen(function(e){var t=o.domain.market+"/info/get-by-cat-id-and-title-paged",n=function(t){1e3===t.responseCode?this.completed({list:t.data.aaData,totalCount:t.data.itotalRecords,perPage:e.data.perPage,currentPage:e.data.currentPage}):r.fail({message:t.errorMsg})}.bind(this),a={};0!=e.filter.categoryId&&(a.categoryId=e.filter.categoryId),""!==e.filter.title&&(a.title=e.filter.title),a=$.extend(a,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),i(t,a,n)}),s.update.listen(function(e){var t=o.domain.market+"/info/update-by-id",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"修改资讯成功"}),s.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),s["delete"].listen(function(e){var t=o.domain.market+"/info/del-by-id",n=e.item.id,a=function(t){1e3===t.responseCode?(r.success({message:"删除资讯成功"}),s.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),e.exports=s},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(8),o=n(2),s=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0}});s.create.listen(function(e){var t=o.domain.market+"/info/insert",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"添加资讯成功"}),s.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),s.query.listen(function(e){var t=o.domain.market+"/ad/get-by-con",n={siteId:1},a=function(e){1e3===e.responseCode?this.completed({list:e.data}):r.fail({message:e.errorMsg})}.bind(this);i(t,n,a)}),s.update.listen(function(e){var t=o.domain.market+"/ad/batch-update",n=JSON.stringify(e.list),a=function(t){1e3===t.responseCode?(r.success({message:"修改设置成功"}),s.query(e)):r.fail({message:t.message})};i(t,n,a,void 0,void 0,"application/json;charset=UTF-8")}),s["delete"].listen(function(e){var t=o.domain.market+"/info/del-by-id",n={id:e.item.id},a=function(t){1e3===t.responseCode?(r.success({message:"删除资讯成功"}),s.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),e.exports=s},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(8),o=n(2),s=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0}});s.create.listen(function(e){var t=o.domain.market+"/friend-link/insert",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"添加友情链接成功"}),s.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),s.query.listen(function(e){var t=o.domain.market+"/friend-link/get-by-site-id-paged",n={siteId:1,pageNo:e.data.currentPage+1,pageSize:e.data.perPage},a=function(t){1e3===t.responseCode?this.completed({list:t.data.aaData,totalCount:t.data.itotalRecords,perPage:e.data.perPage,currentPage:e.data.currentPage}):r.fail({message:t.errorMsg})}.bind(this);i(t,n,a)}),s.update.listen(function(e){var t=o.domain.market+"/friend-link/update-by-id",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"修改友情链接成功"}),s.query(e)):r.fail({message:t.message})};i(t,n,a)}),s["delete"].listen(function(e){var t=o.domain.market+"/friend-link/del-by-id",n={id:e.item.id},a=function(t){1e3===t.responseCode?(r.success({message:"删除友情链接成功"}),s.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),e.exports=s},function(e,t,n){"use strict";var a=n(1);e.exports=a.createActions(["create","query","update","delete","putaway","withdraw","get"])},125,125,213,function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(14),o=i.Link,s=n(25),l=n(499),u=n(218),c=n(83),d=n(65),m=n(3),f=a.createClass({displayName:"ImageUploaderGroup",getInitialState:function(){return{uploaders:[]}},render:function(){for(var e=[],t=0;t<this.props.max;t++)t<this.props.images.length?e.push({name:this.props.name,imageUrl:this.props.images[t].url,image:this.props.images[t]}):e.push({name:this.props.name});var n=_.chunk(e,5);return a.createElement("div",{className:"image-uploader-group"},n.map(function(e,t){return a.createElement("div",{key:t,className:"row"},e.map(function(e,t){return a.createElement(s,{key:t,enableClear:!0,name:this.props.name,imageUrl:e.imageUrl,onClear:this.props.onClear.bind(null,e.image)})}.bind(this)))}.bind(this)))}}),p=a.createClass({displayName:"GameDetail",mixins:[r.listenTo(l,"onDataChange"),r.listenTo(c,"onCategoryChange"),a.addons.LinkedStateMixin,i.State,i.Navigation],getDefaultProps:function(){return{type:"game"}},getInitialState:function(){return $.extend({},l.getDefaultItem(),{category:c.getDefaultData().categories,type:"game"===this.props.type?0:1})},onDataChange:function(e){this.setState(e)},onCategoryChange:function(e){if(_.isEmpty(this.state.categoryId)){if(0===e[this.props.type].length)return void m.warning({message:"没有分类可选择，请先创建分类。"});this.state.categoryId=e[this.props.type][0].id,this.state.subCategoryId=this.getSubCategories(this.state.categoryId)[0].id}this.setState({categories:e[this.props.type]})},onMainChange:function(e){var t=e.target.value,n=this.getSubCategories(t);0===n.length?this.setState({categoryId:t,subCategoryId:""}):this.setState({categoryId:t,subCategoryId:n[0].id})},getSubCategories:function(e){return _.isEmpty(e)?[]:_.result(_.find(this.state.category[this.props.type],"categoryId",e),"subCategory")},componentDidMount:function(){var e=["Cut","Copy","Paste","Pastetext","Blocktag","Fontface","FontSize","Bold","Italic","Underline","Strikethrough","FontColor","BackColor","SelectAll","Removeformat","Align","List","Outdent","Indent","Link","Unlink","Anchor","Hr","Table","Source","Preview","Print"];this.editor=$(a.findDOMNode(this.refs["rich-editor"])).xheditor({width:"100%",height:400,tools:e.join(",")}),this.overlay=$(a.findDOMNode(this.refs.overlay)).hide(),d.query({type:this.props.type});var t=this.getQuery();_.isEmpty(t)?this.setState({mode:"create"}):this.setState({mode:"update"},function(){u.query(t).then(function(e){this.editor.setSource(e.description||"")}.bind(this))}.bind(this))},handleConfirm:function(e){e.preventDefault(),this.overlay.show();var t=new FormData(a.findDOMNode(this.refs["edit-form"]));t.append("description",this.editor.getSource()),"create"===this.state.mode?u.create({item:t}).then(function(){this.overlay.hide(),this.transitionTo("/market/"+this.props.type+"-list")}.bind(this))["catch"](function(){this.overlay.hide()}.bind(this)):(t.append("pics",JSON.stringify(this.state.pics)),u.update({item:t}).then(function(){this.overlay.hide(),this.transitionTo("/market/"+this.props.type+"-list")}.bind(this))["catch"](function(){this.overlay.hide()}.bind(this))),$(a.findDOMNode(this.refs["edit-dialog"])).modal("hide")},selectFile:function(){$(a.findDOMNode(this.refs["file-uploader"])).click()},uploadAndroid:function(e){if(e.target.files[0]){this.overlay.show();var t=new FormData;t.append("file",e.target.files[0]),t.append("platform",1),u.upload({item:t}).then(function(e){this.setState({apkId:e.data.apkId,androidPackName:e.data.packageName,androidSize:e.data.appSize,androidVersion:e.data.appVersion},function(){this.overlay.hide()}.bind(this))}.bind(this))["catch"](function(){this.overlay.hide()}.bind(this))}},clearPic:function(e){e&&(this.state.pics=_.reject(this.state.pics,e))},render:function(){return a.createElement("div",{className:"box"},a.createElement("div",{className:"box-header with-border"},a.createElement("h4",null,"create"===this.state.mode?"添加详细信息":"修改详细信息")),a.createElement("form",{ref:"edit-form",onSubmit:this.handleConfirm},"create"===this.state.mode?"":a.createElement("input",{type:"hidden",value:this.state.appId,name:"appId"}),a.createElement("input",{type:"hidden",value:this.state.rowVersion,name:"rowVersion"}),a.createElement("input",{type:"hidden",value:this.state.type,name:"type"}),a.createElement("input",{type:"hidden",value:this.state.androidId,name:"android.id"}),a.createElement("input",{type:"hidden",value:this.state.iosId,name:"ios.id"}),a.createElement("div",{className:"box-body"},a.createElement("fieldset",null,a.createElement("legend",null,"基础信息"),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"名称"),a.createElement("input",{className:"form-control",type:"text",required:!0,name:"appTitle",valueLink:this.linkState("appTitle"),placeholder:"名称"})),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"主分类"),a.createElement("select",{className:"form-control",name:"categoryId",required:!0,onChange:this.onMainChange,value:this.state.categoryId},this.state.category[this.props.type].map(function(e){return a.createElement("option",{key:e.id,value:e.id},e.name)}))),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"子分类"),a.createElement("select",{className:"form-control",name:"subCategoryId",required:!0,valueLink:this.linkState("subCategoryId")},this.getSubCategories(this.state.categoryId).map(function(e){return a.createElement("option",{key:e.id,value:e.id},e.name)}))),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"是否推荐"),a.createElement("select",{className:"form-control",name:"recommend",valueLink:this.linkState("recommend")},a.createElement("option",{value:"0"},"不推荐"),a.createElement("option",{value:"1"},"推荐")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"序号"),a.createElement("input",{type:"number",className:"form-control",min:"0",name:"rank",valueLink:this.linkState("rank"),placeholder:"下载量"})),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"下载量"),a.createElement("input",{type:"number",className:"form-control",min:"0",name:"downloadCount",valueLink:this.linkState("downloadCount"),placeholder:"下载量"})),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"评分"),a.createElement("input",{type:"number",className:"form-control",min:"0",step:"0.1",name:"score",valueLink:this.linkState("score"),placeholder:"评分"})),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"是否支持钱宝支付"),a.createElement("select",{className:"form-control",name:"qbPay",valueLink:this.linkState("qbPay")},a.createElement("option",{value:"0"},"不支持"),a.createElement("option",{value:"1"},"支持")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"SDK应用编码"),a.createElement("input",{type:"text",className:"form-control",name:"sdkAppCode",maxLength:"10",valueLink:this.linkState("sdkAppCode"),placeholder:"SDK应用编码"}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12 form-group"},a.createElement("label",null,"特点"),a.createElement("input",{type:"text",className:"form-control",name:"specification",required:!0,valueLink:this.linkState("specification"),placeholder:"一句话简介"}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6 form-group"},a.createElement("label",null,"专区地址"),a.createElement("input",{type:"text",className:"form-control",name:"zoneUrl",valueLink:this.linkState("zoneUrl"),placeholder:"专区地址"})),a.createElement("div",{className:"col-sm-6 form-group"},a.createElement("label",null,"论坛地址"),a.createElement("input",{type:"text",className:"form-control",name:"forumUrl",valueLink:this.linkState("forumUrl"),placeholder:"论坛地址"}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12 form-group"},a.createElement("label",null,"详细介绍"),a.createElement("textarea",{ref:"rich-editor",type:"text"})))),a.createElement("fieldset",{className:"form-horizontal"},a.createElement("legend",null,"多媒体信息"),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"图标"),a.createElement("div",{className:"col-sm-10"},a.createElement(s,{name:"appIcon",imageUrl:this.state.iconUrl}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"截图"),a.createElement("div",{className:"col-sm-10"},a.createElement(f,{name:"files",max:"10",images:this.state.pics,onClear:this.clearPic}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"视频标题"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{type:"text",className:"form-control",name:"media.videoTitle",valueLink:this.linkState("videoTitle"),placeholder:"视频标题"}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"视频ID"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{type:"text",className:"form-control",name:"media.videoId",valueLink:this.linkState("videoId"),placeholder:"视频ID"}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"视频封面"),a.createElement("div",{className:"col-sm-10"},a.createElement(s,{name:"cover",imageUrl:this.state.cover})))),a.createElement("fieldset",null,a.createElement("legend",null,"Android包上传"),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"Android包ID"),a.createElement("input",{type:"text",className:"form-control",name:"apkId",readOnly:!0,valueLink:this.linkState("apkId"),placeholder:"Android包ID"})),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"上传"),a.createElement("input",{type:"button",className:"form-control btn btn-default",value:"上传",onClick:this.selectFile}),a.createElement("input",{type:"file",className:"hidden",ref:"file-uploader",onChange:this.uploadAndroid})),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"Android包名称"),a.createElement("input",{type:"text",className:"form-control",name:"android.packName",valueLink:this.linkState("androidPackName"),placeholder:"Android包名称"}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"Android包大小"),a.createElement("input",{type:"text",className:"form-control",name:"android.size",valueLink:this.linkState("androidSize"),placeholder:"Android包大小"})),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"软件版本"),a.createElement("input",{type:"text",className:"form-control",name:"android.version",valueLink:this.linkState("androidVersion"),placeholder:"软件版本"})),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"Android版本要求"),a.createElement("select",{className:"form-control",name:"android.support",valueLink:this.linkState("androidSupport")},a.createElement("option",{value:"Android4.0以上"},"Android4.0以上"),a.createElement("option",{value:"Android3.0以上"},"Android3.0以上"),a.createElement("option",{value:"Android2.0以上"},"Android2.0以上"))),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"Android包来源"),a.createElement("input",{type:"text",className:"form-control",name:"android.src",valueLink:this.linkState("androidSrc"),placeholder:"Android包来源"}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6 form-group"},a.createElement("label",null,"iOS包路径"),a.createElement("input",{type:"text",className:"form-control",name:"ios.store",valueLink:this.linkState("iosStore"),placeholder:"iOS包路径"})),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"iOS包名称"),a.createElement("input",{type:"text",className:"form-control",name:"ios.packName",valueLink:this.linkState("iosPackName"),placeholder:"iOS包名称"}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"iOS包大小"),a.createElement("input",{type:"text",className:"form-control",name:"ios.size",valueLink:this.linkState("iosSize"),placeholder:"iOS包大小"})),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"iOS包版本"),a.createElement("input",{type:"text",className:"form-control",name:"ios.version",valueLink:this.linkState("iosVersion"),placeholder:"iOS包版本"})),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"iOS版本要求"),a.createElement("select",{className:"form-control",name:"ios.support",valueLink:this.linkState("iosSupport")},a.createElement("option",{value:"iOS8"},"iOS8"),a.createElement("option",{value:"iOS7"},"iOS7"),a.createElement("option",{value:"iOS6"},"iOS6"),a.createElement("option",{value:"iOS5"},"iOS5"))),a.createElement("div",{className:"col-sm-3 form-group"},a.createElement("label",null,"iOS包来源"),a.createElement("input",{type:"text",className:"form-control",name:"ios.src",valueLink:this.linkState("iosSrc"),placeholder:"iOS包来源"}))))),a.createElement("div",{className:"box-footer"},a.createElement("div",{className:"row"},a.createElement("input",{type:"submit",className:"btn btn-primary col-sm-offset-2 col-sm-3",value:"提交"}),a.createElement(o,{className:"btn btn-info col-sm-offset-2 col-sm-3",to:"/market/"+this.props.type+"-list"},"取消")))),a.createElement("div",{ref:"overlay",className:"overlay"},a.createElement("i",{className:"fa fa-refresh fa-spin"})))}});e.exports=p},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(8),o=n(2),s=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0},upload:{asyncResult:!0}});s.create.listen(function(e){var t=o.domain.market+"/app/application/inserOrUpdate",n=e.item,a=function(e){1e3===e.responseCode?(r.success({message:"添加游戏成功"}),this.completed()):(r.fail({message:e.errorMsg}),this.failed())}.bind(this);i(t,n,a)}),s.query.listen(function(e){var t=o.domain.market+"/app/application/selectById",n={id:e.id},a=function(e){1e3===e.responseCode?this.completed(e.data):r.fail({message:e.errorMsg})}.bind(this);i(t,n,a)}),s.update.listen(function(e){var t=o.domain.market+"/app/application/inserOrUpdate",n=e.item,a=function(e){
1e3===e.responseCode?(r.success({message:"修改游戏成功"}),this.completed()):(r.fail({message:e.errorMsg}),this.failed())}.bind(this);i(t,n,a)}),s["delete"].listen(function(e){var t=o.domain.market+"/info/del-by-id",n={id:e.item.id},a=function(t){1e3===t.responseCode?(r.success({message:"删除游戏成功"}),s.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),s.upload.listen(function(e){var t=o.domain.market+"/app/application/uploadPackage",n=e.item,a=function(e){1e3===e.responseCode?(r.success({message:"上传安装包成功"}),this.completed(e)):(r.fail({message:e.errorMsg}),this.failed())}.bind(this);i(t,n,a)}),e.exports=s},function(e,t,n){"use strict";var a=n(11),r=n(4),i=n(1),o=n(14),s=n(7),l=n(9),u=n(500),c=n(220),d=n(83),m=n(65),f=a.createClass({displayName:"DataFilter",mixins:[a.addons.LinkedStateMixin,i.connect(d,"data")],getInitialState:function(){return $.extend({},u.getFilter(),{data:d.getDefaultData().categories})},componentDidMount:function(){m.query({type:this.props.type})},getSubCategories:function(e){return r.isEmpty(e)?[]:r.result(r.find(this.state.data[this.props.type],"categoryId",e),"subCategory")},render:function(){return a.createElement("div",{className:"data-filter"},a.createElement("div",{className:"box-header"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"主分类"),a.createElement("select",{className:"form-control",valueLink:this.linkState("categoryId")},a.createElement("option",{value:""},"全部"),this.state.data[this.props.type].map(function(e){return a.createElement("option",{key:e.categoryId,value:e.categoryId},e.categoryName)}))),a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"子分类"),a.createElement("select",{className:"form-control",valueLink:this.linkState("subCategoryId")},a.createElement("option",{value:""},"全部"),this.getSubCategories(this.state.categoryId).map(function(e){return a.createElement("option",{key:e.id,value:e.id},e.name)}))),a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"支持平台"),a.createElement("select",{className:"form-control",valueLink:this.linkState("platform")},a.createElement("option",{value:"2"},"全部"),a.createElement("option",{value:"0"},"iOS"),a.createElement("option",{value:"1"},"Android"))),a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"ID或名称"),a.createElement("input",{type:"text",className:"form-control",placeholder:"ID或名称",valueLink:this.linkState("title")}))),a.createElement("div",{className:"box-header"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"查询条件"),a.createElement("select",{className:"form-control",valueLink:this.linkState("order")},a.createElement("option",{value:"0"},"全部"),a.createElement("option",{value:"1"},"只看推荐"),a.createElement("option",{value:"2"},"按照序号排序"),a.createElement("option",{value:"3"},"按照创建时间排序"),a.createElement("option",{value:"4"},"只看上架"),a.createElement("option",{value:"5"},"只看下架"))),a.createElement("div",{className:"col-sm-offset-3 col-sm-3"},a.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询")),a.createElement("div",{className:"col-sm-3"},a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.props.onCreateData},"创建"))))}}),p=a.createClass({displayName:"GameList",mixins:[i.connect(u,"data"),o.Navigation],getDefaultProps:function(){return{type:"game"}},getInitialState:function(){return{data:u.getDefaultData(),filter:u.getFilter()}},showCreate:function(){this.transitionTo("/market/"+this.props.type+"-detail")},showUpdate:function(e){this.transitionTo("/market/"+this.props.type+"-detail?id="+e.id)},showDelete:function(e){l.warning({message:"是否删除 "+e.appTitle,onConfirm:this.deleteData.bind(null,e)})},showStatistic:function(e){this.transitionTo("/market/"+this.props.type+"-statistic?id="+e.id)},createData:function(e){c.create({item:e,filter:this.state.filter,data:this.state.data})},queryData:function(e){c.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter,type:this.props.type})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},updateData:function(e){c.update({item:e,filter:this.state.filter,data:this.state.data})},deleteData:function(e){c["delete"]({item:e,filter:this.state.filter,data:this.state.data,type:this.props.type})},putawayData:function(e){c.putaway({item:e,filter:this.state.filter,data:this.state.data,type:this.props.type})},withdrawData:function(e){c.withdraw({item:e,filter:this.state.filter,data:this.state.data,type:this.props.type})},render:function(){return a.createElement("div",{className:"box"},a.createElement(f,{type:this.props.type,onFilterData:this.filterData,onCreateData:this.showCreate}),a.createElement(s,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"appId"},{name:"序号",field:"rank"},{name:"图标",value:function(e){return a.createElement("img",{className:"preview",src:e.iconUrl})},field:"iconUrl"},{name:"名称",value:function(e){return a.createElement("div",null,e.appTitle,1==e.recommended?a.createElement("small",{className:"label pull-right bg-green"},"推荐"):null)},field:"appTitle"},{name:"类型",field:"cateName"},{name:"支持平台",field:"platform"},{name:"创建时间",field:"createTime"},{name:"更新时间",field:"lastUpdateTime"},{name:"状态",field:"publish",value:function(e){return"0"===e.publish?"已下架":"已上架"}}],operations:[{name:"编辑",icon:"primary",callback:this.showUpdate},{name:"删除",icon:"danger",callback:this.showDelete},{name:"上架",icon:"success",callback:this.putawayData,disabled:function(e){return"1"===e.publish}},{name:"下架",icon:"warning",callback:this.withdrawData,disabled:function(e){return"0"===e.publish}},{name:"二维码",icon:"default",callback:function(e){window.open(e.qrcodeUrl)}}]}))}});e.exports=p},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(8),o=n(2),s={game:0,software:1},l=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0},putaway:{asyncResult:!0},withdraw:{asyncResult:!0}});l.create.listen(function(e){var t=o.domain.market+"/app/application/inserOrUpdate",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"添加资讯成功"}),l.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),l.query.listen(function(e){var t=o.domain.market+"/app/application/selectByCategoryIdAndPlatformOrIdPaged",n={};0!=e.filter.categoryId&&(n.categoryId=e.filter.categoryId),0!=e.filter.subCategoryId&&(n.subCategoryId=e.filter.subCategoryId),n.platform=e.filter.platform,n.order=e.filter.order,""!==e.filter.title&&(n.title=e.filter.title),n=$.extend(n,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage,type:s[e.type]});var a=function(t){1e3===t.responseCode?this.completed({list:t.data.aaData,totalCount:t.data.itotalRecords||0,perPage:e.data.perPage,currentPage:e.data.currentPage}):r.fail({message:t.errorMsg})}.bind(this);i(t,n,a)}),l.update.listen(function(e){o.domain.market+"/info/update-by-id",e.item}),l["delete"].listen(function(e){var t=o.domain.market+"/app/application/deleteById",n={id:e.item.appId},a=function(t){1e3===t.responseCode?(r.success({message:"删除游戏成功"}),l.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),l.putaway.listen(function(e){var t=o.domain.market+"/app/application/publish",n={appId:e.item.appId,publish:"1"},a=function(t){1e3===t.responseCode?(r.success({message:"游戏上架成功"}),l.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),l.withdraw.listen(function(e){var t=o.domain.market+"/app/application/publish",n={appId:e.item.appId,publish:"0"},a=function(t){1e3===t.responseCode?(r.success({message:"游戏下架成功"}),l.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),e.exports=l},125,125,function(e,t,n){"use strict";var a=n(1),r=n(128),i=a.createStore({listenables:r,getDefaultData:function(){return{web:[],ios:[],android:[]}},onQueryCompleted:function(e){this.trigger(e)},onQueryFailed:function(){this.trigger({web:[],ios:[],android:[]})}});e.exports=i},125,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["create","query","queryAward","update","delete","active","deactive","get"])},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["create","query","queryMulti","queryType","update","delete","active","deactive","get"])},125,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["create","query","update","delete","active","deactive","get","refresh"])},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["create","query","queryGameStore","queryGameList","update","delete","active","deactive","get","accept","reject"])},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(8),o=n(2),s={android:1,ios:0},l=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0},putaway:{asyncResult:!0},withdraw:{asyncResult:!0}});l.create.listen(function(e){var t=o.domain.market+"/app/banner/insertOrUpdate",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"添加Banner成功"}),l.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),l.query.listen(function(e){var t=o.domain.market+"/app/banner/selectByPlatform",n={platform:s[e.type]},a=function(t){1e3===t.responseCode?this.completed({type:e.type,list:t.data||[]}):r.fail({message:t.errorMsg})}.bind(this);i(t,n,a)}),l.update.listen(function(e){var t=o.domain.market+"/app/banner/insertOrUpdate",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"修改Banner成功"}),l.query(e)):r.fail({message:t.message})};i(t,n,a)}),l["delete"].listen(function(e){var t=o.domain.market+"/app/banner/deleteById",n={id:e.item.id},a=function(t){1e3===t.responseCode?(r.success({message:"删除Banner成功"}),l.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),l.putaway.listen(function(e){var t=o.domain.market+"/app/banner/publish",n={id:e.item.id,publish:"1"},a=function(t){1e3===t.responseCode?(r.success({message:"上架Banner成功"}),l.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),l.withdraw.listen(function(e){var t=o.domain.market+"/app/banner/publish",n={id:e.item.id,publish:"0"},a=function(t){1e3===t.responseCode?(r.success({message:"下架Banner成功"}),l.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),e.exports=l},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(8),o=n(2),s={ios:0,android:1},l=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0},save:{asyncResult:!1}});l.create.listen(function(e){var t=o.domain.market+"/app/keyword/insertOrUpdate",n={keyword:e.name,orderId:e.sort,platform:s[e.type],rowVersion:0},a=function(e){1e3===e.responseCode?(r.success({message:"添加关键字成功"}),l.query()):r.fail({message:e.errorMsg})};i(t,n,a)}),l.query.listen(function(e){var t=o.domain.market+"/app/keyword/selectByPlatform",n={platform:s[e.type]},a=function(t){1e3===t.responseCode?this.completed({type:e.type,list:t.data||[]}):r.fail({message:t.errorMsg})}.bind(this);i(t,n,a)}),l.update.listen(function(e){var t=e.item.map(function(t){return $.extend(t,{platform:s[e.type]})}),n=o.domain.market+"/app/keyword/insertOrUpdate",a=function(t){1e3===t.responseCode?(r.success({message:"修改关键字成功"}),l.query(e)):r.fail({message:t.errorMsg})};i(n,JSON.stringify({data:t,platform:s[e.type]}),a,void 0,void 0,"application/json;charset=UTF-8")}),l["delete"].listen(function(e){var t=o.domain.market+"/app/keyword/deleteById",n={keywordId:e.id},a=function(e){1e3===e.responseCode?(r.success({message:"删除关键字成功"}),l.query(options)):r.fail({message:e.errorMsg})};i(t,n,a)}),e.exports=l},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["create","query","queryLevel","queryCalendar","update","delete","active","deactive","get","refresh"])},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["create","query","queryMemberStore","queryGameStore","queryCategoryStore","update","delete","active","deactive","get","accept","reject"])},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["create","query","queryMulti","queryLevel","update","delete","active","deactive","get"])},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["create","query","update","delete","active","deactive","get","refresh","queryType","queryLevel"])},125,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=n(236),o=a(i),s=a(n(3)),l=a(n(8)),u=a(n(2));a(n(237)),a(i);e.exports=r.createStore({listenables:o,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[]},getDefaultItem:function(){return{partnerName:"",outUrl:""}},onCreate:function(e,t){var n=u.domain.market+"/web/partner/savePartner",a=t,r=function(t){1e3===t.responseCode?(s.success({message:"添加合作伙伴成功"}),o.query(e)):(s.fail({message:t.errorMsg}),o.query(e))};l(n,a,r)},onQuery:function(e){var t=this,n=u.domain.market+"/web/partner/queryList",a={},r=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data,totalCount:n.data.length,perPage:e.perPage,currentPage:e.currentPage}}):s.fail({message:n.errorMsg})};l(n,a,r)},onUpdate:function(e,t){var n=u.domain.market+"/web/partner/savePartner",a=t,r=function(t){1e3===t.responseCode?(s.success({message:"修改合作伙伴成功"}),o.query(e)):(s.fail({message:t.errorMsg}),o.query(e))};l(n,a,r)},onDelete:function(e,t){var n=u.domain.market+"/web/partner/removePartner",a={id:t.id},r=function(t){1e3===t.responseCode?(s.success({message:"删除合作伙伴成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onActive:function(e,t){var n=u.domain.qbao+"/wifi/changeWifiStatus.html",a={id:t.id,status:1},r=function(t){t.success?(s.success({message:"恢复服务成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onDeactive:function(e,t){var n=u.domain.qbao+"/wifi/changeWifiStatus.html",a={id:t.id,status:2},r=function(t){t.success?(s.success({message:"关闭服务成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onGet:function(e){var t=this,n=u.domain.market+"/app/activity/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):s.fail({message:e.errorMsg})};l(n,a,r)}})},125,function(e,t,n){"use strict";var a=n(1),r=a.createActions(["create","query","update","delete","refreshFrontPage"]);e.exports=r},function(e,t,n){"use strict";var a=n(1),r=a.createActions(["query","create","update","updateState"]);e.exports=r},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["dayReport","monthReport","userMonthReport"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["optionApps","selectedApps","create","refreshFrontPage"]),e.exports=a},function(e,t,n){"use strict";var a=n(180),r=n(114),i=n(23),o=n(2);e.exports={statics:{willTransitionTo:function(e){a.attemptedTransition=e;var t,n;n=i.cookie.load(o.constants.STORAGE_KEY),n&&n.isLogin||(t=r.onLogined(),t||e.redirect("/login"))}}}},function(e,t,n){"use strict";var a,r=n(1),i=n(16),o=n(129),s=n(8),l=n(2),u=l.domain.sdkba,c=n(3);a=r.createStore({listenables:o,getDefaultData:function(){return i.dataTable()},getDefaultFilter:function(){return{merchantFullName:"",merchantCode:"",appName:"",appCode:"",applyStartDate:"",applyEndDate:"",pageNo:1,status:null}},onQuery:function(e){var t=this,n=u+"/chargepoint/appList",a=function(n){1e3===n.responseCode?t.trigger({type:"app",data:{list:n.data.appList,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}}):c.fail({message:n.errorMsg})},r=e.filter;r=_.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),s(n,r,a,"GET")},onQueryPoint:function(e){var t=this,n=u+"/chargepoint/list",a=function(n){1e3===n.responseCode?t.trigger({type:"point",data:{list:n.data.chargeList,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}}):c.fail({message:n.errorMsg})},r=e.filter;r=_.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),s(n,r,a,"GET")},onQueryItem:function(e){var t=this,n=u+"/chargepoint/toview",a=function(e){1e3===e.responseCode?t.trigger({type:"item",data:e.data}):c.fail({message:e.errorMsg})};s(n,e,a,"GET")},onUpdate:function(){},onAccept:function(e,t){var n=u+"/chargepoint/doBatchPass",a=function(t){1e3===t.responseCode?(c.success({message:"已审核通过"}),o.queryPoint(e)):c.fail({message:t.errorMsg})};s(n,t,a)},onReject:function(e,t){var n=u+"/chargepoint/doreject",a=function(t){1e3===t.responseCode?(c.success({message:"已驳回"}),o.queryPoint(e)):c.fail({message:t.errorMsg})};s(n,t,a,"GET")},onExportChargePoint:function(){var e=u+"/chargepoint/exportChargepoint";window.open(e)}}),e.exports=a},function(e,t,n){"use strict";var a=n(1),r=a.createActions(["accept","reject","query"]);e.exports=r},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","update"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(131),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.sdkba,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{}},onQuery:function(e){var t=this,n=c+"/pkgmanage/appList",a=function(n){1e3===n.responseCode?t.trigger({type:"list",data:{list:n.data.appList,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}}):d.fail({message:n.errorMsg})},r=e.filter;r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a)},onDownload:function(e){var t=c+"/pkgmanage/view",n=function(t){window.open(c+"/pkgmanage/download?appCode="+e.appCode+"&type="+e.type)};l(t,{appCode:e.appCode},n)},onHistory:function(e){var t=this,n=c+"/pkgmanage/history",a=function(n){1e3===n.responseCode?t.trigger({type:"history",data:{list:n.data,totalCount:n.data.length,perPage:e.data.perPage,currentPage:e.data.currentPage}}):d.fail({message:n.errorMsg})};l(n,e.filter,a)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","companyInfo","bizInfo","updateMerchant"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(131);n(247);a=r.createClass({displayName:"PkgDownload",getInitialState:function(){return{pkgType1:!0,pkgType2:!1,appCode:""}},componentDidMount:function(){this.dialog=$(r.findDOMNode(this.refs["edit-dialog"]))},show:function(e){this.setState({appCode:e}),this.dialog.modal("show")},download:function(){var e=1;this.state.pkgType2&&(e=2),i.download({appCode:this.state.appCode,type:e})},radioChange:function(e){"pkgType2"===e.target.id?this.setState({pkgType1:!1,pkgType2:!0}):this.setState({pkgType1:!0,pkgType2:!1})},render:function(){return r.createElement("div",{className:"modal fade",ref:"edit-dialog"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},r.createElement("span",null,"×")),r.createElement("h4",{className:"modal-title"},"包体下载")),r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"box-body clearfix"},r.createElement("div",{className:"col-sm-6"},r.createElement("input",{type:"radio",id:"pkgType1",name:"pkgType",value:"1",defaultChecked:this.state.pkgType1,onChange:this.radioChange}),"   ",r.createElement("label",{htmlFor:"pkgType1"},"原始包"),"    ",r.createElement("input",{type:"radio",id:"pkgType2",name:"pkgType",value:"2",defaultChecked:this.state.pkgType2,onChange:this.radioChange}),"  ",r.createElement("label",{htmlFor:"pkgType2"},"加固包")),r.createElement("div",{className:"col-sm-3 col-sm-offset-3"},r.createElement("button",{className:"btn btn-primary btn-block",onClick:this.download},"下载包体")))))))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","deploy","create","update","delete"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=(n(7),n(12),n(13),n(130)),o=n(66),s=(n(9),n(3));n(4);a=r.createClass({displayName:"SelectChannel",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return{shelfChannel1:!1,shelfChannel2:!1,appCode:"",options:{},status:null}},componentDidMount:function(){var e=this;this.unsubscribe=i.listen(function(t){"release"===t.type&&t.data&&e.hide()}),this.dialog=$(r.findDOMNode(this.refs["edit-dialog"]))},show:function(e,t){this.setState({options:e,shelfChannel1:!1,shelfChannel2:!1,appCode:t.appCode,status:t.status},function(){this.dialog.modal("show")})},hide:function(){this.dialog.modal("hide")},release:function(){var e=[],t=r.findDOMNode(this.refs.shelfChannel1),n=r.findDOMNode(this.refs.shelfChannel2);return t.checked&&e.push(t.value),n.checked&&e.push(n.value),0===e.length?void s.fail({message:"请选择上架渠道"}):void o.update(this.state.options,{appCode:this.state.appCode,status:this.state.status,shelfChannel:e.join(",")})},render:function(){return r.createElement("div",{className:"modal fade",ref:"edit-dialog"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},r.createElement("span",null,"×")),r.createElement("h4",{className:"modal-title"},"上架渠道选择")),r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"box-body clearfix"},r.createElement("div",{className:"col-sm-6"},r.createElement("input",{type:"checkbox",ref:"shelfChannel1",id:"shelfChannel1",value:"CHA000002",checkedLink:this.linkState("shelfChannel1")}),"   ",r.createElement("label",{htmlFor:"shelfChannel1"},"冰趣应用商店"),"    ",r.createElement("input",{type:"checkbox",ref:"shelfChannel2",id:"shelfChannel2",value:"CHA000001",checkedLink:this.linkState("shelfChannel2")}),"  ",r.createElement("label",{htmlFor:"shelfChannel2"},"宝玩应用商店")),r.createElement("div",{className:"col-sm-3 col-sm-offset-3"},r.createElement("button",{className:"btn btn-primary btn-block",onClick:this.release},"确定")))))))}}),e.exports=a},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(132)),o=a(n(88)),s=(a(n(3)),a(n(2))),l=(a(n(23)),a(n(8)));e.exports=r.createStore({listenables:i,onCheckout:function(e){o.isLoaded=!1,this.trigger({type:"checkout",data:e})},onGetPlatforms:function(){var e=this,t=s.domain.market+"/menu/getPlatform",n={},a=function(t){e.trigger({type:"getPlatforms",data:t.data})};l(t,n,a)}})},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","create","update","delete"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","create","update","delete"]),e.exports=a},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","create","update","delete"]),e.exports=a},function(e,t,n){"use strict";var a=n(1);e.exports=a.createActions(["close"])},function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function c(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:c(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=n(5).Component,l=n(1).ListenerMethods,u=function(e){function t(){o(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state={options:[]}}return i(t,e),a(t,{componentDidMount:{value:function(){var e=this;this.props.item.store&&this.props.item.actions&&(this.props.item.store.listen(function(t){e.setState({options:t})}),this.props.item.actions.query({id:this.props.item.queryId}))}},componentWillReceiveProps:{value:function(e){void 0!==e.item.queryId&&this.props.item.actions.query({id:e.item.queryId})}},componentWillUnmount:{value:function(){l.stopListeningToAll()}},onChange:{value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(this.props.item.linkActions){var a=this.props.item.options?this.props.item.options:this.state.options;this.props.item.linkActions.query({id:a.find(function(e){return e.value==t[0].target.value}).id})}this.props.onChange.apply(this,t)}},render:{value:function(){return React.createElement("div",null,React.createElement("select",{className:"form-control",name:this.props.item.field,value:this.props.value,required:this.props.item.required,readOnly:this.props.item.readOnly,disabled:this.props.item.disabled,onChange:this.onChange.bind(this)},this.props.item.options?this.props.item.options.map(function(e,t){return React.createElement("option",{key:t,value:e.value},e.name)}):this.state.options.map(function(e,t){return React.createElement("option",{key:t,value:e.value},e.name)})),this.props.item.disabled&&React.createElement("input",{type:"hidden",name:this.props.item.field,value:this.props.value}))}}}),t}(s);e.exports=u},125,function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(8),o=n(2),s=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0}});s.create.listen(function(e){var t=o.domain.market+"/info/insert",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"添加资讯成功"}),s.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),s.query.listen(function(e){this.completed({list:[{id:1},{id:2},{id:3}],totalCount:100,perPage:10,currentPage:3})}),s.update.listen(function(e){var t=o.domain.market+"/info/update-by-id",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"修改资讯成功"}),s.query(e)):r.fail({message:t.message})};i(t,n,a)}),s["delete"].listen(function(e){var t=o.domain.market+"/info/del-by-id",n={id:e.item.id},a=function(t){1e3===t.responseCode?(r.success({message:"删除资讯成功"}),s.query(e)):r.fail({message:t.errorMsg})};i(t,n,a)}),e.exports=s},125,function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(2),o=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0}});o.create.listen(function(e){$.ajax({url:i.domain.market+"/info/insert",data:e.item,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){1e3===t.responseCode?(r.success({message:"添加资讯成功"}),o.query(e)):r.fail({message:t.errorMsg})}).fail(function(e){r.fail({message:e})})}),o.query.listen(function(e){$.ajax({url:i.domain.square+"/api/updateUserInfoCheck",data:{page:e.data.currentPage,limit:e.data.perPage,status:e.filter.status,keyword:e.filter.keyword,cm:e.userName},method:"GET",dataType:"json"}).then(function(t){200===t.meta.code?this.completed({list:t.data.data,totalCount:t.data.count,perPage:e.data.perPage,currentPage:e.data.currentPage}):r.fail({message:t.meta.error})}.bind(this)).fail(function(e){r.fail({message:e})})}),o.update.listen(function(e){$.ajax({url:i.domain.square+"/api/updateUserInfoCheck",data:{cm:e.userName,qbid:e.item.qbid,uid:e.item.uid,ctype:e.item.ctype,status:e.item.status,opinion:e.item.opinion},method:"POST",dataType:"json"}).done(function(t){200===t.meta.code?(r.success({message:"修改资讯成功"}),o.query(e)):r.fail({message:t.meta.error})}).fail(function(e){r.fail({message:e})})}),o["delete"].listen(function(e){$.ajax({url:i.domain.market+"/info/del-by-id",data:{id:e.item.id},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(r.success({message:"删除资讯成功"}),o.query(e)):r.fail({message:t.errorMsg})}).fail(function(e){r.fail({message:e})})}),e.exports=o},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["create","query","queryType","update","delete","active","deactive","get"])},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["create","query","queryType","update","delete","active","deactive","get","view","modify","groupApprove"])},125,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1));e.exports=r.createActions(["create","query","update","delete","active","deactive","get","recommend"])},262,function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=n(1),i=n(3),o=n(2),s=(a(n(14)),r.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0}}));s.create.listen(function(e){$.ajax({url:o.domain.market+"/info/insert",data:e.item,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){1e3===t.responseCode?(i.success({message:"添加资讯成功"}),s.query(e)):i.fail({message:t.message})}).fail(function(e){i.fail({message:e})})}),s.query.listen(function(e){var t={page:e.data.currentPage,limit:e.data.perPage,source:"backoffice",cm:e.userName};e.filter&&e.filter.keyword&&(t.keyword=e.filter.keyword),$.ajax({url:o.domain.square+"/api/allhistory",data:t,method:"GET",dataType:"json"}).then(function(t){200===t.meta.code?this.completed({list:t.data.results.tweets.map(function(e){return Object.assign(e,e.res,{id:e.msg_id})}),totalCount:t.data.results.count,perPage:e.data.perPage,currentPage:e.data.currentPage}):i.fail({message:t.message})}.bind(this)).fail(function(e){i.fail({message:e})})}),s.update.listen(function(e){$.ajax({url:o.domain.market+"/info/update-by-id",data:e.item,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){1e3===t.responseCode?(i.success({message:"修改资讯成功"}),s.query(e)):i.fail({message:t.message})}).fail(function(e){i.fail({message:e})})}),s["delete"].listen(function(e){$.ajax({url:o.domain.square+"/api/allhistorydelete4ba",data:{msg_id:e.item.msg_id,cm:e.userName},method:"POST",dataType:"json"}).done(function(t){200===t.meta.code?(i.success({message:"删除推送消息成功"}),s.query(e)):i.fail({message:t.message})}).fail(function(e){i.fail({message:e})})}),e.exports=s},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(2),o=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0},accept:{asyncResult:!0},reject:{asyncResult:!0}});o.create.listen(function(e){$.ajax({url:i.domain.market+"/info/insert",data:e.item,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){1e3===t.responseCode?(r.success({message:"添加资讯成功"}),o.query(e)):r.fail({message:t.errorMsg})}).fail(function(e){r.fail({message:e})})}),o.query.listen(function(e){$.ajax({url:i.domain.square+"/api/checkmessage",data:{status:e.filter.status,page:e.data.currentPage,limit:e.data.perPage,cm:e.userName,keyword:e.filter.keyword},method:"GET",dataType:"json"}).then(function(t){200===t.meta.code?this.completed({list:t.data.tweets,totalCount:t.data.count,perPage:e.data.perPage,currentPage:e.data.currentPage}):r.fail({message:t.errorMsg})}.bind(this)).fail(function(e){r.fail({message:e})})}),o.update.listen(function(e){$.ajax({url:i.domain.market+"/info/update-by-id",data:e.item,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){1e3===t.responseCode?(r.success({message:"修改资讯成功"}),o.query(e)):r.fail({message:t.message})}).fail(function(e){r.fail({message:e})})}),o["delete"].listen(function(e){$.ajax({url:i.domain.market+"/info/del-by-id",data:{id:e.item.id},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(r.success({message:"删除资讯成功"}),o.query(e)):r.fail({message:t.errorMsg})}).fail(function(e){r.fail({message:e})})}),o.accept.listen(function(e){
$.ajax({url:i.domain.square+"/api/checkmessage",data:{cm:e.userName,tid:e.item.tid,pid:e.item.pid,status:2},method:"POST",dataType:"json"}).done(function(t){200===t.meta.code?(r.success({message:"审核通过成功"}),o.query(e)):r.fail({message:t.errorMsg})}).fail(function(e){r.fail({message:e})})}),o.reject.listen(function(e){$.ajax({url:i.domain.square+"/api/checkmessage",data:{cm:e.userName,tid:e.item.tid,pid:e.item.pid,status:3,opinion:e.item.opinion},method:"POST",dataType:"json"}).done(function(t){200===t.meta.code?(r.success({message:"审核未通过成功"}),o.query(e)):r.fail({message:t.errorMsg})}).fail(function(e){r.fail({message:e})})}),e.exports=o},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(2),o=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0},putaway:{asyncResult:!0},withdraw:{asyncResult:!0},sync:{asyncResult:!0}});o.create.listen(function(e){$.ajax({url:i.domain.weixin+"/activityManage/addActivity.html",data:e.item,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){t.success?(r.success({message:"添加榜单活动成功"}),o.query(e)):r.fail({message:t.message})}).fail(function(e){r.fail({message:e})})}),o.query.listen(function(e){$.ajax({url:i.domain.weixin+"/activityManage/list.html",data:{page:e.data.currentPage+1,pageSize:e.data.perPage,title:e.filter.title},method:"POST",dataType:"json"}).then(function(t){t.success?this.completed({list:t.data.result,totalCount:t.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}):r.fail({message:t.message})}.bind(this)).fail(function(e){r.fail({message:e})})}),o.update.listen(function(e){$.ajax({url:i.domain.weixin+"/activityManage/updateActivity.html",data:e.item,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){t.success?(r.success({message:"修改榜单活动成功"}),o.query(e)):r.fail({message:t.message})}).fail(function(e){r.fail({message:e})})}),o["delete"].listen(function(e){$.ajax({url:i.domain.weixin+"/activityManage/removeActivity.html",data:{id:e.item.id},method:"POST",dataType:"json"}).done(function(t){t.success?(r.success({message:"删除榜单活动成功"}),o.query(e)):r.fail({message:t.message})}).fail(function(e){r.fail({message:e})})}),o.putaway.listen(function(e){$.ajax({url:i.domain.weixin+"/activityManage/updateState.html",data:{id:e.item.id,state:1},method:"POST",dataType:"json"}).done(function(t){t.success?(r.success({message:"上架榜单活动成功"}),o.query(e)):r.fail({message:t.message})}).fail(function(e){r.fail({message:e})})}),o.withdraw.listen(function(e){$.ajax({url:i.domain.weixin+"/activityManage/updateState.html",data:{id:e.item.id,state:2},method:"POST",dataType:"json"}).done(function(t){t.success?(r.success({message:"下架榜单活动成功"}),o.query(e)):r.fail({message:t.message})}).fail(function(e){r.fail({message:e})})}),o.sync.listen(function(e){$.ajax({url:i.domain.weixin+("/activityManage/syncDb/"+e.item.id+".html"),data:{},method:"POST",dataType:"json"}).done(function(t){t.success?(r.success({message:"同步到数据中心成功"}),o.query(e)):r.fail({message:t.message})}).fail(function(e){r.fail({message:e})})}),e.exports=o},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(2),o=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0},upload:{asyncResult:!0}});o.create.listen(function(e){$.ajax({url:i.domain.weixin+"/activityManage/addActivity.html",data:e.item,method:"POST",dataType:"json"}).done(function(e){e.success?(r.success({message:"添加榜单活动成功"}),this.completed()):(r.fail({message:e.message}),this.failed())}.bind(this)).fail(function(e){r.fail({message:e}),this.failed()}.bind(this))}),o.query.listen(function(e){$.ajax({url:i.domain.weixin+"/activityManage/loadInfo.html",data:{id:e.id},method:"POST",dataType:"json"}).then(function(e){if(e.success){var t=e.data.baseInfo;t.awardInfo=e.data.awardInfo,t.bannerInfo=e.data.bannerInfo,this.completed(t)}else r.fail({message:e.message})}.bind(this)).fail(function(e){r.fail({message:e})})}),o.update.listen(function(e){$.ajax({url:i.domain.weixin+"/activityManage/updateActivity.html",data:e.item,method:"POST",dataType:"json"}).done(function(e){e.success?(r.success({message:"修改榜单活动成功"}),this.completed()):(r.fail({message:e.message}),this.failed())}.bind(this)).fail(function(e){r.fail({message:e}),this.failed()}.bind(this))}),o["delete"].listen(function(e){$.ajax({url:i.domain.market+"/info/del-by-id",data:{id:e.item.id},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(r.success({message:"删除游戏成功"}),o.query(e)):r.fail({message:t.errorMsg})}).fail(function(e){r.fail({message:e})})}),o.upload.listen(function(e){$.ajax({url:i.domain.market+"/app/application/uploadPackage",data:e.item,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(e){1e3===e.responseCode?(r.success({message:"上传安装包成功"}),this.completed(e)):(r.fail({message:e.errorMsg}),this.failed())}.bind(this)).fail(function(e){r.fail({message:e}),this.failed()}.bind(this))}),e.exports=o},function(e,t,n){"use strict";var a=n(1);e.exports=a.createActions(["create","query","update","delete"])},function(e,t,n){"use strict";var a=n(1),r=n(4),i=n(3),o=n(2),s=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0},accept:{asyncResult:!0},reject:{asyncResult:!0},raise:{asyncResult:!0}});s.create.listen(function(e){var t=r.pick(e.item,"qbname","activityId","nickName","telephone","introduce","declaration","iconImg"),n=[];r.isEmpty(e.item.userImg1)||n.push(e.item.userImg1),r.isEmpty(e.item.userImg2)||n.push(e.item.userImg2),r.isEmpty(e.item.userImg3)||n.push(e.item.userImg3),r.isEmpty(e.item.userImg4)||n.push(e.item.userImg4),r.isEmpty(e.item.userImg5)||n.push(e.item.userImg5),t.userImg=JSON.stringify(n),$.ajax({url:o.domain.weixin+"/voteSignManage/mangerDoSign.html",data:t,method:"POST",dataType:"json"}).done(function(t){t.success?(i.success({message:"添加报名成功"}),s.query(e)):i.fail({message:t.message})}).fail(function(e){i.fail({message:e})})}),s.query.listen(function(e){var t={page:e.data.currentPage+1,pageSize:e.data.perPage};r.isEmpty(e.filter.voteId)||(t.voteId=e.filter.voteId),r.isEmpty(e.filter.state)||(t.state=e.filter.state),r.isEmpty(e.filter.id)||(t.id=e.filter.id),r.isEmpty(e.filter.userName)||(t.userName=e.filter.userName),$.ajax({url:o.domain.weixin+"/voteSignManage/listSignInfos.html",data:t,method:"POST",dataType:"json"}).then(function(t){t.success?this.completed({list:t.data.result,totalCount:t.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}):i.fail({message:t.message})}.bind(this)).fail(function(e){i.fail({message:e})})}),s.update.listen(function(e){$.ajax({url:o.domain.market+"/info/update-by-id",data:e.item,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){1e3===t.responseCode?(i.success({message:"修改资讯成功"}),s.query(e)):i.fail({message:t.errorMsg})}).fail(function(e){i.fail({message:e})})}),s["delete"].listen(function(e){$.ajax({url:o.domain.market+"/info/del-by-id",data:{id:e.item.id},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(i.success({message:"删除资讯成功"}),s.query(e)):i.fail({message:t.errorMsg})}).fail(function(e){i.fail({message:e})})}),s.accept.listen(function(e){$.ajax({url:o.domain.weixin+"/voteSignManage/auditSignInfo.html",data:{voteId:e.item.id,state:2},method:"POST",dataType:"json"}).done(function(t){t.success?(i.success({message:"审核通过"}),s.query(e)):i.fail({message:t.message})}).fail(function(e){i.fail({message:e})})}),s.reject.listen(function(e){$.ajax({url:o.domain.weixin+"/voteSignManage/auditSignInfo.html",data:{voteId:e.item.id,state:3,auditReason:e.item.auditReason},method:"POST",dataType:"json"}).done(function(t){t.success?(i.success({message:"审核未通过"}),s.query(e)):i.fail({message:t.message})}).fail(function(e){i.fail({message:e})})}),s.raise.listen(function(e){$.ajax({url:o.domain.weixin+"/voteSignManage/updateInitVoteNum.html",data:{voteId:e.item.id,initVoteNum:e.item.initVoteNum},method:"POST",dataType:"json"}).done(function(t){t.success?(i.success({message:"设置初始票数成功"}),s.query(e)):i.fail({message:t.message})}).fail(function(e){i.fail({message:e})})}),e.exports=s},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(2),o=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0},accept:{asyncResult:!0},reject:{asyncResult:!0},setWeight:{asyncResult:!0}});o.create.listen(function(e){$.ajax({url:i.domain.market+"/info/insert",data:e.item,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){1e3===t.responseCode?(r.success({message:"添加资讯成功"}),o.query(e)):r.fail({message:t.errorMsg})}).fail(function(e){r.fail({message:e})})}),o.query.listen(function(e){var t={page:e.data.currentPage,limit:e.data.perPage,cm:e.userName};0!=e.filter.status&&(t.status=e.filter.status),$.ajax({url:i.domain.square+"/api/tweetsPool",data:t,method:"GET",dataType:"json"}).then(function(t){this.completed({list:t.tweets,totalCount:t.total,perPage:e.data.perPage,currentPage:e.data.currentPage})}.bind(this)).fail(function(e){r.fail({message:e})})}),o.update.listen(function(e){$.ajax({url:i.domain.market+"/info/update-by-id",data:e.item,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){1e3===t.responseCode?(r.success({message:"修改资讯成功"}),o.query(e)):r.fail({message:t.message})}).fail(function(e){r.fail({message:e})})}),o["delete"].listen(function(e){$.ajax({url:i.domain.square+"/api/deleteSignTweet",data:{tid:e.item.tid,cm:e.userName},method:"POST",dataType:"json"}).done(function(t){r.success({message:"移除推文成功"}),o.query(e)}).fail(function(e){r.fail({message:e})})}),o.accept.listen(function(e){$.ajax({url:i.domain.square+"/api/tweetsPool",data:{tid:e.item.tid,status:2,result:"",cm:e.userName},method:"POST",dataType:"json"}).done(function(t){t.error?r.fail({message:t.error}):(r.success({message:"推文审核通过成功"}),o.query(e))}).fail(function(e){r.fail({message:e})})}),o.reject.listen(function(e){$.ajax({url:i.domain.square+"/api/tweetsPool",data:{tid:e.item.tid,status:3,result:e.item.result,cm:e.userName},method:"POST",dataType:"json"}).done(function(t){t.error?r.fail({message:t.error}):(r.success({message:"推文审核驳回成功"}),o.query(e))}).fail(function(e){r.fail({message:e})})}),o.setWeight.listen(function(e){$.ajax({url:i.domain.square+"/api/tweetsWeight",data:{tid:e.item.tid,weight:e.item.weight,cm:e.userName},method:"POST",dataType:"json"}).done(function(t){t.error?r.fail({message:t.error}):(r.success({message:"设置权重成功"}),o.query(e))}).fail(function(e){r.fail({message:e})})}),e.exports=o},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(2),o=n(8),s=a.createActions({query:{asyncResult:!0}});s.query.listen(function(e){var t=i.domain.market+"/menu/getAll",n=e.data,a=function(e){1e3===e.responseCode?this.completed({list:e.data}):r.fail({message:e.errorMsg})}.bind(this);o(t,n,a)}),e.exports=s},function(e,t,n){"use strict";var a=n(1),r=a.createActions({reset:{asyncResult:!0}});e.exports=r},function(e,t,n){"use strict";var a=n(1),r=n(136),i=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:15,currentPage:0}},getDataList:function(){return[]},getDefaultItem:function(){return{roleId:0,name:"",menuIds:""}},getFilter:function(){return{name:""}},onQueryCompleted:function(e){this.trigger(e)},onQueryTreeCompleted:function(e){this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=n(1),r=n(3),i=n(2),o=n(8),s=a.createActions({create:{asyncResult:!0},query:{asyncResult:!0},update:{asyncResult:!0},"delete":{asyncResult:!0}});s.create.listen(function(e){var t=i.domain.market+"/userManager/insert",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"添加帐户成功"}),s.query(e)):r.fail({message:t.errorMsg})};o(t,n,a)}),s.query.listen(function(e){var t=i.domain.market+"/userManager/selectAllByPage",n=function(t){1e3===t.responseCode?this.completed({list:t.data.aaData,totalCount:t.data.itotalRecords,perPage:e.data.perPage,currentPage:e.data.currentPage}):r.fail({message:t.errorMsg})}.bind(this),a={};""!==e.filter.name&&(a.name=e.filter.name),a=$.extend(a,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),o(t,a,n)}),s.update.listen(function(e){var t=i.domain.market+"/userManager/edit",n=e.item,a=function(t){1e3===t.responseCode?(r.success({message:"修改帐户成功"}),s.query(e)):r.fail({message:t.errorMsg})};o(t,n,a)}),s["delete"].listen(function(e){var t=i.domain.market+"/userManager/delete",n={id:e.item.id},a=function(t){1e3===t.responseCode?(r.success({message:"删除帐户成功"}),s.query(e)):r.fail({message:t.errorMsg})};o(t,n,a)}),e.exports=s},function(e,t,n){"use strict";var a,r=n(1);a=r.createActions(["query","queryAll","create","update","delete"]),e.exports=a},function(e,t,n){function a(e,t,n){if(t!==t)return r(e,n);for(var a=n-1,i=e.length;++a<i;)if(e[a]===t)return a;return-1}var r=n(689);e.exports=a},function(e,t,n){function a(e,t){var n=e.data,a="string"==typeof t||r(t)?n.set.has(t):n.hash[t];return a?0:-1}var r=n(46);e.exports=a},function(e,t,n){(function(t){function a(e){return s&&o?new r(e):null}var r=n(671),i=n(91),o=i(t,"Set"),s=i(Object,"create");e.exports=a}).call(t,function(){return this}())},function(e,t,n){var a=n(91),r=n(71),i=n(46),o=n(695),s=a(Object,"keys"),l=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?o(e):i(e)?s(e):[]}:o;e.exports=l},function(e,t,n){function a(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(i(e)||r(e))&&t||0;for(var n=e.constructor,a=-1,u="function"==typeof n&&n.prototype===e,d=Array(t),m=t>0;++a<t;)d[a]=a+"";for(var f in e)m&&o(f,t)||"constructor"==f&&(u||!c.call(e,f))||d.push(f);return d}var r=n(93),i=n(94),o=n(137),s=n(92),l=n(46),u=Object.prototype,c=u.hasOwnProperty;e.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.DecoratedComponent,n=e.createHandler,r=e.createMonitor,s=e.createConnector,f=e.registerHandler,h=e.containerDisplayName,v=e.getType,b=e.collect,D=e.options,M=D.arePropsEqual,w=void 0===M?g["default"]:M,N=t.displayName||t.name||"Component";return function(e){function g(t,a){i(this,g),e.call(this,t,a),this.handleChange=this.handleChange.bind(this),this.handleChildRef=this.handleChildRef.bind(this),_["default"]("object"==typeof this.context.dragDropManager,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",N,N),this.manager=this.context.dragDropManager,this.handlerMonitor=r(this.manager),this.handler=n(this.handlerMonitor),this.disposable=new m.SerialDisposable,this.receiveProps(t),this.state=this.getCurrentState()}return o(g,e),g.prototype.getHandlerId=function(){return this.handlerId},g.prototype.getDecoratedComponentInstance=function(){return this.decoratedComponentInstance},g.prototype.shouldComponentUpdate=function(e,t){return!w(e,this.props)||!p["default"](t,this.state)},u(g,null,[{key:"DecoratedComponent",value:t,enumerable:!0},{key:"displayName",value:h+"("+N+")",enumerable:!0},{key:"contextTypes",value:{dragDropManager:c.PropTypes.object.isRequired},enumerable:!0}]),g.prototype.componentWillReceiveProps=function(e){w(e,this.props)||(this.receiveProps(e),this.handleChange())},g.prototype.componentWillUnmount=function(){this.disposable.dispose()},g.prototype.receiveProps=function(e){this.handler.receiveProps(e),this.receiveType(v(e))},g.prototype.receiveType=function(e){if(e!==this.currentType){this.currentType=e;var t=f(e,this.handler,this.manager),n=t.handlerId,a=t.unregister,r=s(this.manager.getBackend()),i=E["default"](r,n),o=i.handlerConnector,l=i.disposable;this.handlerId=n,this.handlerConnector=o,this.handlerMonitor.receiveHandlerId(n);var u=this.manager.getMonitor(),c=u.subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new m.CompositeDisposable(new m.Disposable(c),new m.Disposable(a),l))}},g.prototype.handleChange=function(){var e=this.getCurrentState();p["default"](e,this.state)||this.setState(e)},g.prototype.handleChildRef=function(e){this.decoratedComponentInstance=e,this.handler.receiveComponent(e)},g.prototype.getCurrentState=function(){var e=b(this.handlerConnector,this.handlerMonitor);return"production"!==a.env.NODE_ENV&&_["default"](y["default"](e),"Expected `collect` specified as the second argument to %s for %s to return a plain object of props to inject. Instead, received %s.",h,N,e),e},g.prototype.render=function(){return d["default"].createElement(t,l({},this.props,this.state,{ref:this.handleChildRef}))},g}(c.Component)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t["default"]=s;var c=n(5),d=r(c),m=n(138),f=n(58),p=r(f),h=n(96),g=r(h),v=n(57),y=r(v),b=n(18),_=r(b),D=n(714),E=r(D);e.exports=t["default"]}).call(t,n(10))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(669),i=a(r),o=i["default"](function(){return/firefox/i.test(navigator.userAgent)});t.isFirefox=o;var s=i["default"](function(){return Boolean(window.safari)});t.isSafari=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return"string"==typeof e||"symbol"==typeof e||t&&o["default"](e)&&e.every(function(e){return r(e,!1)})}t.__esModule=!0,t["default"]=r;var i=n(94),o=a(i);e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return e&&e.constructor===Symbol?"symbol":typeof e}function o(e){m["default"]("function"==typeof e.canDrag,"Expected canDrag to be a function."),m["default"]("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),m["default"]("function"==typeof e.endDrag,"Expected endDrag to be a function.")}function s(e){m["default"]("function"==typeof e.canDrop,"Expected canDrop to be a function."),m["default"]("function"==typeof e.hover,"Expected hover to be a function."),m["default"]("function"==typeof e.drop,"Expected beginDrag to be a function.")}function l(e,t){return t&&p["default"](e)?void e.forEach(function(e){return l(e,!1)}):void m["default"]("string"==typeof e||"symbol"===("undefined"==typeof e?"undefined":i(e)),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function u(e){var t=g["default"]().toString();switch(e){case y.SOURCE:return"S"+t;case y.TARGET:return"T"+t;default:m["default"](!1,"Unknown role: "+e)}}function c(e){switch(e[0]){case"S":return y.SOURCE;case"T":return y.TARGET;default:m["default"](!1,"Cannot parse handler ID: "+e)}}t.__esModule=!0;var d=n(18),m=a(d),f=n(102),p=a(f),h=n(741),g=a(h),v=n(98),y={SOURCE:"SOURCE",TARGET:"TARGET"},b=function(){function e(t){r(this,e),this.store=t,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){l(e),o(t);var n=this.addHandler(y.SOURCE,e,t);return this.store.dispatch(v.addSource(n)),n},e.prototype.addTarget=function(e,t){l(e,!0),s(t);var n=this.addHandler(y.TARGET,e,t);return this.store.dispatch(v.addTarget(n)),n},e.prototype.addHandler=function(e,t,n){var a=u(e);return this.types[a]=t,this.handlers[a]=n,a},e.prototype.containsHandler=function(e){var t=this;return Object.keys(this.handlers).some(function(n){return t.handlers[n]===e})},e.prototype.getSource=function(e,t){m["default"](this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,a=n?this.pinnedSource:this.handlers[e];return a},e.prototype.getTarget=function(e){return m["default"](this.isTargetId(e),"Expected a valid target ID."),this.handlers[e]},e.prototype.getSourceType=function(e){return m["default"](this.isSourceId(e),"Expected a valid source ID."),this.types[e]},e.prototype.getTargetType=function(e){return m["default"](this.isTargetId(e),"Expected a valid target ID."),this.types[e]},e.prototype.isSourceId=function(e){var t=c(e);return t===y.SOURCE},e.prototype.isTargetId=function(e){var t=c(e);return t===y.TARGET},e.prototype.removeSource=function(e){m["default"](this.getSource(e),"Expected an existing source."),this.store.dispatch(v.removeSource(e)),delete this.handlers[e],delete this.types[e]},e.prototype.removeTarget=function(e){m["default"](this.getTarget(e),"Expected an existing target."),this.store.dispatch(v.removeTarget(e)),delete this.handlers[e],delete this.types[e]},e.prototype.pinSource=function(e){var t=this.getSource(e);m["default"](t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){m["default"](this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e}();t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){switch(void 0===e&&(e=m),t.type){case c.HOVER:break;case d.ADD_SOURCE:case d.ADD_TARGET:case d.REMOVE_TARGET:case d.REMOVE_SOURCE:return m;case c.BEGIN_DRAG:case c.PUBLISH_DRAG_SOURCE:case c.END_DRAG:case c.DROP:default:return f}var a=t.targetIds,r=n.targetIds,i=s["default"](a,r),o=!1;if(0===i.length){for(var l=0;l<a.length;l++)if(a[l]!==r[l]){o=!0;break}}else o=!0;if(!o)return m;var u=r[r.length-1],p=a[a.length-1];return u!==p&&(u&&i.push(u),p&&i.push(p)),i}function i(e,t){return e===m?!1:e===f||"undefined"==typeof t?!0:u["default"](t,e).length>0}t.__esModule=!0,t["default"]=r,t.areDirty=i;var o=n(794),s=a(o),l=n(785),u=a(l),c=n(97),d=n(98),m=[],f=[]},function(e,t,n){"use strict";function a(e,t){return e===t?!0:e&&t&&e.x===t.x&&e.y===t.y}function r(e,t){switch(void 0===e&&(e=u),t.type){case l.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case l.HOVER:return a(e.clientOffset,t.clientOffset)?e:s({},e,{clientOffset:t.clientOffset});case l.END_DRAG:case l.DROP:return u;default:return e}}function i(e){var t=e.clientOffset,n=e.initialClientOffset,a=e.initialSourceClientOffset;return t&&n&&a?{x:t.x+a.x-n.x,y:t.y+a.y-n.y}:null}function o(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?{x:t.x-n.x,y:t.y-n.y}:null}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t["default"]=r,t.getSourceClientOffset=i,t.getDifferenceFromInitialOffset=o;var l=n(97),u={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return o["default"](e)?e.some(function(e){return e===t}):e===t}t.__esModule=!0,t["default"]=r;var i=n(102),o=a(i);e.exports=t["default"]},function(e,t,n){function a(e,t,n,a){var d=-1,m=i,f=!0,p=e.length,h=[],g=t.length;if(!p)return h;n&&(t=s(t,l(n))),a?(m=o,f=!1):t.length>=c&&(m=u,f=!1,t=new r(t));e:for(;++d<p;){var v=e[d],y=n?n(v):v;if(v=a||0!==v?v:0,f&&y===y){for(var b=g;b--;)if(t[b]===y)continue e;h.push(v)}else m(t,y,a)||h.push(v)}return h}var r=n(141),i=n(142),o=n(143),s=n(144),l=n(378),u=n(145),c=200;e.exports=a},function(e,t,n){function a(e){return function(t){return e(t)}}e.exports=a},function(e,t,n){function a(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=a},function(e,t,n){function a(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=a},function(e,t,n){function a(){}e.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(49),r=n(855),i=n(17),o=n(410),s=n(35),l=a.createClass({displayName:"ReactTransitionGroup",propTypes:{component:a.PropTypes.any,childFactory:a.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:s.thatReturnsArgument}},getInitialState:function(){return{children:r.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=r.getChildMapping(e.children),n=this.state.children;this.setState({children:r.mergeChildMappings(n,t)});var a;for(a in t){var i=n&&n.hasOwnProperty(a);!t[a]||i||this.currentlyTransitioningKeys[a]||this.keysToEnter.push(a)}for(a in n){var o=t&&t.hasOwnProperty(a);!n[a]||o||this.currentlyTransitioningKeys[a]||this.keysToLeave.push(a)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=r.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(e))this.performEnter(e);else{var a=i({},this.state.children);delete a[e],this.setState({children:a})}},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(o(this.props.childFactory(n),{ref:t,key:t}))}return a.createElement(this.props.component,this.props,e)}});e.exports=l},,function(e,t,n){(function(t){"use strict";function a(e,n){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?s(!e.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent."):null);var a=i.mergeProps(n,e.props);return!a.hasOwnProperty(l)&&e.props.hasOwnProperty(l)&&(a.children=e.props.children),r.createElement(e.type,a)}var r=n(19),i=n(848),o=n(36),s=n(20),l=o({children:null});e.exports=a}).call(t,n(10))},,,,,,,,,,,,,function(e,t,n){(function(t){"use strict";function a(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?o(new e.constructor,e):e}function r(e,n,a){"production"!==t.env.NODE_ENV?l(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",a,e):l(Array.isArray(e));var r=n[a];"production"!==t.env.NODE_ENV?l(Array.isArray(r),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",a,r):l(Array.isArray(r))}function i(e,n){if("production"!==t.env.NODE_ENV?l("object"==typeof n,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",g.join(", "),f):l("object"==typeof n),u.call(n,f))return"production"!==t.env.NODE_ENV?l(1===Object.keys(n).length,"Cannot have more than one key in an object with %s",f):l(1===Object.keys(n).length),n[f];var s=a(e);if(u.call(n,p)){var y=n[p];"production"!==t.env.NODE_ENV?l(y&&"object"==typeof y,"update(): %s expects a spec of type 'object'; got %s",p,y):l(y&&"object"==typeof y),"production"!==t.env.NODE_ENV?l(s&&"object"==typeof s,"update(): %s expects a target of type 'object'; got %s",p,s):l(s&&"object"==typeof s),o(s,n[p])}u.call(n,c)&&(r(e,n,c),n[c].forEach(function(e){s.push(e)})),u.call(n,d)&&(r(e,n,d),n[d].forEach(function(e){s.unshift(e)})),u.call(n,m)&&("production"!==t.env.NODE_ENV?l(Array.isArray(e),"Expected %s target to be an array; got %s",m,e):l(Array.isArray(e)),"production"!==t.env.NODE_ENV?l(Array.isArray(n[m]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",m,n[m]):l(Array.isArray(n[m])),n[m].forEach(function(e){"production"!==t.env.NODE_ENV?l(Array.isArray(e),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",m,n[m]):l(Array.isArray(e)),s.splice.apply(s,e)})),u.call(n,h)&&("production"!==t.env.NODE_ENV?l("function"==typeof n[h],"update(): expected spec of %s to be a function; got %s.",h,n[h]):l("function"==typeof n[h]),s=n[h](s));for(var b in n)v.hasOwnProperty(b)&&v[b]||(s[b]=i(e[b],n[b]));return s}var o=n(17),s=n(36),l=n(15),u={}.hasOwnProperty,c=s({$push:null}),d=s({$unshift:null}),m=s({$splice:null}),f=s({$set:null}),p=s({$merge:null}),h=s({$apply:null}),g=[c,d,m,f,p,h],v={};g.forEach(function(e){v[e]=!0}),e.exports=i}).call(t,n(10))},,,,,,function(e,t,n){"use strict";var a={Login:n(180)};e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(14),o=n(115),s=n(181),l=n(7),u=n(12),c=(n(34),n(4)),d=n(9);a=r.createClass({displayName:"Activity",mixins:[i.Navigation],getInitialState:function(){return{data:c.assign(s.getDefaultData(),{list:[]}),filter:s.getDefaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"list"===t.type&&e.setState({data:t.data})}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage))},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){o.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){o.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.transitionTo("/cms/activity-detail")},update:function(e){var t={id:e.id};this.state.data.currentPage>0&&(t=c.assign(t,{currentPage:this.state.data.currentPage})),this.transitionTo("/cms/activity-detail",{},t)},showDialog:function(){this.refs.dialog.show()},publish:function(e){var t=this;d.info({message:"确认设置为生效？",onConfirm:function(){o.publish(t.state,{id:e.id})}})},stop:function(e){var t=this;d.info({message:"确认设置为停止？",onConfirm:function(){o.stop(t.state,{id:e.id})}})},"delete":function(e){var t=this;d.warning({message:"确认删除？",onConfirm:function(){o["delete"](t.state,{id:e.id})}})},show:function(e){var t={id:e.id,show:!0};this.state.data.currentPage>0&&(t=c.assign(t,{currentPage:this.state.data.currentPage})),this.transitionTo("/cms/activity-detail",{},t);
},render:function(){return r.createElement("div",{className:"box"},r.createElement(u,{filters:[{name:"活动ID",field:"id"},{name:"活动名称",field:"name"},{name:"状态",field:"status",type:"select",options:[{name:"全部",value:"-1"},{name:"草稿",value:"0"},{name:"待上架",value:"1"},{name:"已上架",value:"2"},{name:"停止",value:"3"},{name:"已下架",value:"5"}],"default":"-1"}],onFilterData:this.filterData,onCreateData:this.create}),r.createElement(l,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"活动ID",field:"id"},{name:"活动名称",field:"name"},{name:"活动Banner",field:"pic",value:function(e){return r.createElement("img",{className:"preview",src:e.pic})}},{name:"活动开始时间",field:"beginTime"},{name:"活动结束时间",field:"endTime"},{name:"活动创建时间",field:"createTime"},{name:"状态",field:"statusValue"}],operations:[{name:"编辑",icon:"primary",callback:this.update,disabled:function(e){return 0!==e.status}},{name:"生效",icon:"wanrning",callback:this.publish,disabled:function(e){return 0!==e.status}},{name:"停止",icon:"wanrning",callback:this.stop,disabled:function(e){return 2!==e.status}},{name:"查看",icon:"default",callback:this.show},{name:"删除",icon:"danger",callback:this["delete"]}]}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(14),o=n(182),s=n(432),l=n(4),u=n(2),c=n(25),d=n(55),m=n(42),f=n(3),p=n(133);a=r.createClass({displayName:"ActivityDetail",mixins:[r.addons.LinkedStateMixin,i.Navigation],getInitialState:function(){return{id:null,name:"",status:0,pic:0,beginTime:"",endTime:"",activityDesc:"",rule:"",prizeSetting:"",podium:"",type:1,link:"",mode:"create",filter:s.getDefaultFilter(),currentPage:void 0}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"detail"===t.type?e.setState(l.assign(e.state,t.data)):"create"===t.type&&e.back()}),this.overlay=$(r.findDOMNode(this.refs.overlay)).hide(),this.props.query.id&&this.setState({mode:"update"},function(){o.queryById(this.props.query.id)}),this.props.query.currentPage&&this.setState(l.assign(this.state,{currentPage:this.props.query.currentPage})),this.props.query.show&&this.setState(l.assign(this.state,{show:!0}))},componentWillUnMount:function(){this.unsubscribe()},queryData:function(e){o.query({filter:this.state.filter})},back:function(){var e="/cms/activity-list";this.state.currentPage&&(e+="?currentPage="+this.state.currentPage),this.context.router.transitionTo(e)},handleConfirm:function(e){return e.preventDefault(),this.state.pic?(this.state.rule=this.refs["rich-rule"].getSource(),this.state.rule?(this.state.prizeSetting=this.refs["rich-prizeSetting"].getSource(),this.state.prizeSetting?(this.state.podium=this.refs["rich-podium"].getSource(),this.state.podium?this.state.beginTime&&this.state.endTime?void("create"===this.state.mode?o.create(this.state):o.update(this.state)):void f.fail({message:"起止时间不能为空"}):void f.fail({message:"请添写荣誉领奖台"})):void f.fail({message:"请添写奖品设置"})):void f.fail({message:"请添写活动规则"})):void f.fail({message:"请选择图片"})},render:function(){var e=this,t=!!this.state.show;return r.createElement("div",{className:"box"},r.createElement("div",{className:"box-header with-border"},r.createElement("h4",null,"create"===this.state.mode?"添加专题":"修改专题")),r.createElement("form",{ref:"edit-form",onSubmit:this.handleConfirm},"create"===this.state.mode?"":r.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),r.createElement("div",{className:"box-body"},r.createElement("fieldset",null,r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"活动名称"),r.createElement("input",{className:"form-control",type:"text",required:!0,readOnly:t,name:"name",valueLink:this.linkState("name"),placeholder:"名称"}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"活动Banner"),r.createElement("div",{className:"col-sm-10"},t?r.createElement(p,{item:{disabled:t},large:"large",value:this.state.pic}):r.createElement(c,{name:"pic",uploadField:"filedata",imageUrl:this.state.pic,uploadUrl:u.domain.cms+"/pic/upload",onChange:function(t){return e.state.pic=t.imageUrl}})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"活动规则"),r.createElement(d,{ref:"rich-rule",source:this.state.rule}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"奖品设置"),r.createElement(d,{ref:"rich-prizeSetting",source:this.state.prizeSetting}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"荣誉领奖台"),r.createElement(d,{ref:"rich-podium",source:this.state.podium}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"链接类型"),r.createElement("select",{className:"form-control",value:this.state.type,required:!0,onChange:function(t){e.setState(l.assign(e.state,{type:t.target.value}))},readOnly:t},[{name:"应用链接",value:1},{name:"外部链接",value:2}].map(function(e){return r.createElement("option",{value:e.value},e.name)})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"链接地址"),r.createElement("input",{className:"form-control",type:"text",name:"link",valueLink:this.linkState("link"),placeholder:"链接地址",required:!0}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"起止时间"),r.createElement(m,{item:{startField:"beginTime",endField:"endTime",format:"YYYY-MM-DD HH:mm:ss",disabled:t,timePicker:!0},startDate:this.state.beginTime,endDate:this.state.endTime,onDateChange:function(t){return e.setState({beginTime:t.startDate.format("YYYY-MM-DD HH:mm:ss"),endTime:t.endDate.format("YYYY-MM-DD HH:mm:ss")})},required:!0})),r.createElement("div",{className:"col-sm-6 form-group"})))),r.createElement("div",{className:"box-footer"},r.createElement("div",{className:"row"},t?"":r.createElement("input",{type:"submit",className:"btn btn-primary col-sm-offset-2 col-sm-3",value:"提交"}),r.createElement("input",{type:"button",className:"btn btn-info col-sm-offset-2 col-sm-3",value:"取消",onClick:this.back})))),r.createElement("div",{ref:"overlay",className:"overlay"},r.createElement("i",{className:"fa fa-refresh fa-spin"})))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(182),o=n(4),s=(n(16),n(8)),l=n(2),u=l.domain.cms,c=n(3);a=r.createStore({listenables:i,getDefaultFilter:function(){return{serviceId:""}},getPickFiled:function(){return["name","pic","beginTime","endTime","rule","prizeSetting","podium","type","link"]},createOrUpdate:function(e,t,n){var a=this,r="活动创建成功",i=u+"/active/insert";"update"===t&&(r="活动修改成功",i=u+"/active/update");var o=function(e){1e3===e.responseCode?(a.trigger({type:"create",data:!0}),c.success({message:r})):c.fail({message:e.errorMsg})};s(i,e,o)},onQueryById:function(e){var t=this,n=u+"/active/selectPageByConditions",a=function(e){1e3===e.responseCode?1===e.data.list.length?t.trigger({type:"detail",data:o.assign(e.data.list[0])}):c.fail({message:"没有匹配的数据"}):c.fail({message:e.errorMsg})};s(n,{id:e},a,"GET")},onCreate:function(e){var t=o.pick(e,["filter"]),n=o.pick(e,this.getPickFiled());this.createOrUpdate(n,"",t)},onUpdate:function(e){var t=o.pick(e,["filter"]),n=o.pick(e,this.getPickFiled().concat(["id"]));this.createOrUpdate(n,"update",t)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(14),o=n(116),s=n(183),l=n(79),u=n(117),c=n(7),d=n(12),m=(n(34),n(4)),f=n(9),p=n(23);a=r.createClass({displayName:"App",mixins:[i.Navigation],getInitialState:function(){return{data:m.assign(s.getDefaultData(),{list:[]}),filter:s.getDefaultFilter(),appTypes:[]}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"list"===t.type&&e.setState({data:t.data})}),this.apptypeunsubscribe=u.listen(function(t){if("list"===t.type){var n=p.getTreeToPlain(t.data).map(function(e){return{level:e.level,name:e.typeAttrName,value:e.typeAttrCode}});e.setState({appTypes:m.filter(n,function(e){return 2===e.level})})}}),l.query(),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage))},componentWillUnMount:function(){this.unsubscribe(),this.apptypeunsubscribe()},filterData:function(e){this.setState({filter:e},function(){o.query({data:m.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){o.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},update:function(e){var t={serviceId:e.serviceId};this.state.data.currentPage>0&&(t=m.assign(t,{currentPage:this.state.data.currentPage})),this.transitionTo("/cms/app-detail",{},t)},show:function(e){var t={serviceId:e.serviceId,show:!0};this.state.data.currentPage>0&&(t=m.assign(t,{currentPage:this.state.data.currentPage})),this.transitionTo("/cms/app-detail",{},t)},showDialog:function(){this.refs.dialog.show()},publish:function(e){this.handlePublish({serviceId:e.serviceId,publish:2},2)},down:function(e){this.handlePublish({serviceId:e.serviceId,publish:0},0)},pause:function(e){this.handlePublish({serviceId:e.serviceId,publish:1},1)},"delete":function(e){var t=this;f.info({message:"确认删除此应用？",onConfirm:function(){o["delete"](t.state,e.serviceId)}})},handlePublish:function(e,t){var n=this,a="";switch(t){case 0:a="确认设置为下架？";break;case 2:a="确认设置为上架？";break;case 1:a="确认设置为暂时下线？"}f.info({message:a,onConfirm:function(){o.publish(n.state,e)}})},render:function(){return r.createElement("div",{className:"box"},r.createElement(d,{filters:[{name:"资源ID",field:"serviceId"},{name:"资源名称",field:"appName"},{type:"select",name:"资源类型",field:"appType1",options:[{name:"全部",value:""}].concat(this.state.appTypes)},{name:"状态",field:"status",type:"select",options:[{name:"全部",value:""},{name:"上架",value:2},{name:"下架",value:0},{name:"暂时下线",value:1}]}],onFilterData:this.filterData}),r.createElement(c,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"资源ID",field:"serviceId"},{name:"资源名称",field:"appName"},{name:"ICON",field:"appIcon",value:function(e){return r.createElement("img",{className:"preview",src:e.appIcon})}},{name:"资源类型",field:"appType1Str"},{name:"开发商简称",field:"merchantName"},{name:"创建时间",field:"createTime"},{name:"更新时间",field:"updateTime"},{name:"状态",field:"statusStr"}],operations:[{name:"编辑",icon:"primary",callback:this.update},{name:"查看",icon:"primary",callback:this.show},{name:"上架",icon:"wanrning",callback:this.publish,disabled:function(e){return 1!==e.status}},{name:"暂时下线",icon:"wanrning",callback:this.pause,disabled:function(e){return 2!==e.status}},{name:"删除",icon:"danger",callback:this["delete"]}]}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(14),o=n(184),s=n(435),l=n(7),u=n(12),c=(n(34),n(4)),d=n(9);a=r.createClass({displayName:"AppComments",mixins:[i.Navigation],getInitialState:function(){return{data:c.assign(s.getDefaultData(),{list:[]}),filter:s.getDefaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"list"===t.type&&e.setState({data:t.data})}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage))},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){o.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){o.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},audit:function(e){o.audit(this.state,e.id)},"delete":function(e){var t=this,n=[];n.push(e.id),d.info({message:"确认删除？",onConfirm:function(){o["delete"](t.state,n)}})},batchDelete:function(e){var t=this,n=e.map(function(e){return e.id});d.info({message:"确认删除？",onConfirm:function(){o["delete"](t.state,n)}})},render:function(){return r.createElement("div",{className:"box"},r.createElement(u,{filters:[{name:"资源名称",field:"serviceName"},{name:"评论内容",field:"content"},{type:"date",name:"评论时间",startField:"begDate",endField:"endDate",format:"YYYY-MM-DD"},{name:"状态",field:"status",type:"select",options:[{name:"全部",value:""},{name:"待审核",value:0},{name:"审核通过",value:1}]}],onFilterData:this.filterData}),r.createElement(l,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"资源ID",field:"serviceId"},{name:"资源名称",field:"appName"},{name:"用户ID",field:"userId"},{name:"内容",field:"content"},{name:"设备供应商",field:"equipmentVendor"},{name:"设备型号",field:"equipmentModel"},{name:"创建时间",field:"createTime"},{name:"更新时间",field:"updateTime"},{name:"状态",field:"statusDesc"}],operations:[{name:"审核",icon:"primary",callback:this.audit,disabled:function(e){return 1===e.status}},{name:"删除",icon:"danger",callback:this["delete"]}],groupOperations:[{name:"批量删除",icon:"primary",callback:this.batchDelete}]}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(184),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{serviceName:"",content:"",status:null,beginTime:"",endTime:""}},onQuery:function(e){var t=this,n=c+"/appComments/selectAppCommentsPageByParam",a=function(n){t.trigger({type:"list",filter:e.filter,data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}})},r=o.pick(e.filter,function(e){return 0===e?!0:!!e});r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onDelete:function(e,t){var n=c+"/appComments/deleteAppComments",a={appCommentsIds:t},r=function(t){1e3===t.responseCode?(d.success({message:"资源删除成功"}),i.query(e)):d.fail({message:t.errorMsg})};l(n,a,r)},onAudit:function(e,t){var n=c+"/appComments/checkAppCommentsStatus",a={id:t},r=function(t){d.success({message:"审核通过"}),i.query(e)};l(n,a,r)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(14),o=n(185),s=n(437),l=n(79),u=n(117),c=n(133),d=n(25),m=n(577),f=n(55),p=n(4),h=n(2),g=n(23),v=n(3);a=r.createClass({displayName:"AppDetail",mixins:[r.addons.LinkedStateMixin,i.Navigation],getInitialState:function(){return{data:{id:null,serviceId:"",merchantName:"",appName:"",appCode:"",appIcon:"",appUrl:null,introduction:"",status:0,delFlag:0,updateTime:null,createTime:null,runPlatform:null,appType0:"",appType1:"",appType2:"",appKeyword:"",appApkName:"",appApkSize:"",appApkVersion:"",appApkFileName:"",downloadNum:"",score:0,appDesc:"",picUrls:[]},filter:p.assign(s.getDefaultFilter(),{serviceId:this.props.query.serviceId||""}),mode:"create",appType1:[],appType2:[]}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"detail"===t.type?e.setState({data:p.assign(e.state.data,t.data)}):"update"===t.type&&t.data&&e.back()}),o.query(this.state),this.apptypeunsubscribe=u.listen(function(t){if("list"===t.type){var n=g.getTreeToPlain(t.data).map(function(e){return{level:e.level,name:e.typeAttrName,typeAttrCode:e.typeAttrCode,typeAttrParentCode:e.typeAttrParentCode}});e.setState({appType1:p.filter(n,function(e){return 2===e.level}),appType2:p.filter(n,function(e){return 3===e.level})})}}),l.queryLevel(),this.props.query.serviceId&&this.setState({mode:"update"}),this.overlay=$(r.findDOMNode(this.refs.overlay)).hide()},componentWillUnMount:function(){this.unsubscribe(),this.apptypeunsubscribe()},filterData:function(e){this.setState({filter:e},function(){o.query({filter:this.state.filter})}.bind(this))},queryData:function(e){o.query({filter:this.state.filter})},back:function(){var e="/cms/app-list";this.props.query.currentPage&&(e+="?currentPage="+this.props.query.currentPage),this.context.router.transitionTo(e)},changeValue:function(e){this.state.data[e.target.name]=e.target.value,this.forceUpdate()},changePicUrls:function(e,t){var n=this.state.data.picUrls,a=n.length;if(e+1>a)for(var r=0;e+1-a>r;r++)n.push({serviceId:this.state.data.serviceId,picUrl:""});n[e].picUrl=t.imageUrl},clearPic:function(e){var t=this.state.data.picUrls;t[e].picUrl=""},handleConfirm:function(e){return e.preventDefault(),this.state.data.appIcon?this.state.data.picUrls?this.state.data.appType1?this.state.data.appType2?(this.state.data.appDesc=this.refs.richEditor.getSource(),this.state.data.appDesc?(this.state.data.pics=this.state.data.picUrls.filter(function(e){return e.picUrl}).map(function(e){return e.picUrl}),void o.update(this.state.data)):void v.fail({message:"详细描述不能为空"})):void v.fail({message:"请选择小类"}):void v.fail({message:"请选择大类"}):void v.fail({message:"截图不能为空"}):void v.fail({message:"图标不能为空"})},render:function(){var e=this,t=this.props.query.show;return r.createElement("div",{className:"box"},r.createElement("div",{className:"box-header with-border"},r.createElement("h4",null,"create"===this.state.mode?"添加详细信息":"修改详细信息")),r.createElement("form",{ref:"edit-form",onSubmit:this.handleConfirm},"create"===this.state.mode?"":r.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),r.createElement("div",{className:"box-body"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"软件包"),r.createElement("input",{type:"text",className:"form-control",name:"appApkFileName",readOnly:!0,value:this.state.data.appApkFileName,placeholder:"软件包"})),r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"图标"),r.createElement("div",{className:"col-sm-10"},t?r.createElement(c,{value:this.state.data.appIcon,large:"icon"}):r.createElement(d,{name:"appIcon",imageUrl:this.state.data.appIcon,uploadUrl:h.domain.cms+"/pic/upload",uploadField:"filedata",onChange:function(t){return e.state.data.appIcon=t.imageUrl}})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"包名"),r.createElement("input",{type:"text",className:"form-control",name:"appApkName",readOnly:!0,value:this.state.data.appApkName})),r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"APK包体大小"),r.createElement("input",{type:"text",className:"form-control",name:"appApkSize",readOnly:!0,value:this.state.data.appApkSize}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"资源名称"),r.createElement("input",{type:"text",className:"form-control",name:"appName",readOnly:t,value:this.state.data.appName,onChange:function(t){e.setState({data:p.assign(e.state.data,{appName:t.target.value})})}})),r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"软件版本"),r.createElement("input",{type:"text",className:"form-control",name:"appApkName",readOnly:!0,value:this.state.data.appApkVersion}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",{className:"col-sm-1 control-label"},"截图"),r.createElement("div",{className:"col-sm-11"},t?r.createElement(c,{value:this.state.data.picUrls,large:"screen"}):r.createElement(m,{name:"files",max:10,images:this.state.data.picUrls,onClear:this.clearPic,uploadUrl:h.domain.cms+"/pic/upload",uploadField:"filedata",onChange:this.changePicUrls})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"开发商"),r.createElement("input",{type:"text",className:"form-control",name:"merchantName",readOnly:!0,value:this.state.data.merchantName}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",{className:"col-sm-1 control-label"},"分类"),r.createElement("div",{className:"col-sm-5"},r.createElement("select",{className:"form-control",value:this.state.data.appType1,required:!0,onChange:function(t){e.setState({data:p.assign(e.state.data,{appType1:t.target.value})})},readOnly:t},[{name:"请选择大类",value:null}].concat(this.state.appType1).map(function(e){return r.createElement("option",{value:e.typeAttrCode},e.name)}))),r.createElement("div",{className:"col-sm-5"},r.createElement("select",{className:"form-control",value:this.state.data.appType2,required:!0,onChange:function(t){e.setState({data:p.assign(e.state.data,{appType2:t.target.value})})},readOnly:t},[{name:"请选择小类",value:null}].concat(p.filter(this.state.appType2,function(t){return t.typeAttrParentCode===e.state.data.appType1})).map(function(e){return r.createElement("option",{value:e.typeAttrCode},e.name)}))))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"简介"),r.createElement("input",{type:"text",className:"form-control",name:"introduction",value:this.state.data.introduction,onChange:this.changeValue,required:!0,readOnly:t}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"详细描述"),r.createElement(f,{ref:"richEditor",source:this.state.data.appDesc}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"关键字"),r.createElement("input",{type:"text",className:"form-control",name:"appKeyword",value:this.state.data.appKeyword,onChange:this.changeValue,required:!0,readOnly:t}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"下载量"),r.createElement("input",{type:"number",className:"form-control",name:"downloadNum",value:this.state.data.downloadNum,onChange:this.changeValue,required:!0,readOnly:t}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"\b游戏评分"),r.createElement("select",{className:"form-control",value:this.state.data.score,onChange:function(t){return e.setState({data:p.assign(e.state.data,{score:t.target.value})})},readOnly:t},[{name:"请选择",value:null},{name:"1星",value:1},{name:"2星",value:2},{name:"3星",value:3},{name:"4星",value:4},{name:"5星",value:5}].map(function(e){return r.createElement("option",{value:e.value},e.name)}))))),r.createElement("div",{className:"box-footer"},r.createElement("div",{className:"row"},t?null:r.createElement("input",{type:"submit",className:"btn btn-primary col-sm-offset-2 col-sm-3",value:"提交"}),r.createElement("input",{type:"button",className:"btn btn-info col-sm-offset-2 col-sm-3",value:"取消",onClick:this.back})))),r.createElement("div",{ref:"overlay",className:"overlay"},r.createElement("i",{className:"fa fa-refresh fa-spin"})))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(185),o=n(4),s=(n(16),n(8)),l=n(2),u=l.domain.cms,c=n(3);a=r.createStore({listenables:i,getDefaultFilter:function(){return{serviceId:""}},onQuery:function(e){var t=this,n=u+"/appInfo/getAppInfo",a=function(e){1e3===e.responseCode?t.trigger({type:"detail",data:e.data}):c.fail({message:e.errorMsg})},r=e.filter;s(n,r,a,"GET")},onUpdate:function(e){var t=this,n=u+"/appInfo/updateAppInfo",a=o.pick(e,["appIcon","appName","introduction","appDesc","pics","serviceId","appType1","appType2","score","downloadNum","appKeyword"]),r=function(e){setTimeout(function(){t.trigger({type:"update",data:!0})},500),c.success({message:"资源修改成功"})};s(n,JSON.stringify(a),r,void 0,void 0,"application/json;charset=UTF-8")}}),e.exports=a},function(e,t,n){"use strict";var a=n(11),r=(n(4),n(9),n(3),n(2),n(117)),i=n(79),o=n(134);n(87),n(23);n(178);var s=a.createClass({displayName:"Role",getInitialState:function(){return{data:[]}},componentDidMount:function(){var e=this;this.unsubscribe=r.listen(function(t){"list"===t.type&&e.setState({data:t.data})}),i.query()},componentWillUnMount:function(){this.unsubscribe()},render:function(){return a.createElement("div",{className:"box"},a.createElement("div",{className:"box-body"},a.createElement(o,{data:this.state.data})))}});e.exports=s},function(e,t,n){"use strict";var a,r=n(5),i=n(14),o=n(118),s=n(186),l=n(7),u=n(12),c=(n(34),n(4)),d=n(9);a=r.createClass({displayName:"Banner",mixins:[i.Navigation],getInitialState:function(){return{data:c.assign(s.getDefaultData(),{list:[]}),filter:s.getDefaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"list"===t.type&&e.setState({data:t.data})}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage))},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){o.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){o.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.transitionTo("/cms/banner-detail")},update:function(e){var t={id:e.id};this.state.data.currentPage>0&&(t=c.assign(t,{currentPage:this.state.data.currentPage})),this.transitionTo("/cms/banner-detail",{},t)},showDialog:function(){this.refs.dialog.show()},putaway:function(e){var t=this;d.info({message:"确认设置为上架？",onConfirm:function(){o.upDown(t.state,{id:e.id,status:1})}})},soldOut:function(e){var t=this;d.info({message:"确认设置为下架？",onConfirm:function(){o.upDown(t.state,{id:e.id,status:0})}})},"delete":function(e){var t=this;d.warning({message:"确认删除？",onConfirm:function(){o["delete"](t.state,{id:e.id})}})},render:function(){return r.createElement("div",{className:"box"},r.createElement(u,{filters:[{name:"BannerID",field:"bannerId"},{name:"Banner名称",field:"bannerName"},{name:"Banner描述",field:"bannerDesc"},{field:"bannerStatus",type:"select",name:"状态",options:[{name:"全部",value:"-1"},{name:"已下架",value:"0"},{name:"已上架",value:"1"}],"default":"-1"}],onFilterData:this.filterData,onCreateData:this.create}),r.createElement(l,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"BannerID",field:"id"},{name:"Banner名称",field:"name"},{name:"类型",field:"referenceTypeDesc"},{name:"Banner图",field:"pic",value:function(e){return r.createElement("img",{className:"preview",src:e.pic})}},{name:"描述",field:"bannerDesc",value:function(e){return r.createElement("div",{dangerouslySetInnerHTML:{__html:e.bannerDesc}})}},{name:"关联对象",field:"referenceName"},{name:"状态",field:"statusDesc"}],operations:[{name:"编辑",icon:"primary",callback:this.update},{name:"下架",icon:"wanrning",callback:this.soldOut,disabled:function(e){return 0===e.status}},{name:"上架",icon:"wanrning",callback:this.putaway,disabled:function(e){return 1===e.status}},{name:"删除",icon:"danger",callback:this["delete"]}]}))}}),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r=n(5),i=n(14),o=(n(1),n(64)),s=n(189),l=n(190),u=(n(119),n(187)),c=n(441),d=n(81),m=n(121),f=n(25),p=n(55),h=(n(42),n(4)),g=n(2),v=n(3);a=r.createClass({displayName:"BannerDetail",mixins:[r.addons.LinkedStateMixin,i.Navigation],getInitialState:function(){return{id:null,name:"",pic:"",bannerDesc:"",createTime:"",status:0,referenceId:0,referenceName:"",referenceType:-1,updateTime:"",mode:"create",filter:c.getDefaultFilter(),bannerTypeList:[],currentPage:void 0}},onBannerType:function(e){this.setState({bannerTypeList:e})},componentDidMount:function(){var e=this;this.unsubscribe=m.listen(function(t){"list"===t.type&&e.setState({bannerTypeList:t.data})}),this.subscribe=c.listen(function(t){switch(t.type){case"detail":e.setState(h.assign(e.state,t.data));break;case"create":e.back()}}),d.query(),this.overlay=$(r.findDOMNode(this.refs.overlay)).hide(),this.props.query.id&&this.setState({mode:"update"},function(){u.queryById(this.props.query.id)}),this.props.query.currentPage&&this.setState({currentPage:this.props.query.currentPage})},componentWillUnMount:function(){this.unsubscribe(),this.subscribe()},showPickerDialog:function(){switch(parseInt(this.state.referenceType)){case 1:this.refs["app-picker"].show();break;case 3:this.refs["activity-picker"].show();break;case 2:this.refs["subject-picker"].show()}},selected:function(e){var t="";switch(parseInt(this.state.referenceType)){case 1:t=e.appName,this.refs["app-picker"].hide();break;case 3:t=e.name,this.refs["activity-picker"].hide();break;case 2:t=e.name,this.refs["subject-picker"].hide()}this.setState({data:h.assign(this.state,{referenceId:e.id,referenceName:t})})},handleConfirm:function(e){return e.preventDefault(),this.state.pic?(this.state.bannerDesc=this.refs["rich-desc"].getSource(),this.state.bannerDesc?this.state.referenceId?void("create"===this.state.mode?u.create(this.state):u.update(this.state)):void v.fail({message:"请选择关联对象"}):void v.fail({message:"请添写Banner描述"})):void v.fail({message:"请选择图片"})},back:function(){var e="/cms/banner-list";this.state.currentPage&&(e+="?currentPage="+this.state.currentPage),this.context.router.transitionTo(e)},bannerChange:function(e){this.setState({referenceType:e.target.value,referenceId:0,referenceIdDesc:""})},render:function(){var e=this;return r.createElement("div",{className:"box"},r.createElement("div",{className:"box-header with-border"},r.createElement("h4",null,"create"===this.state.mode?"添加详细信息":"修改详细信息")),r.createElement("form",{ref:"edit-form",onSubmit:this.handleConfirm},"create"===this.state.mode?"":r.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),r.createElement("div",{className:"box-body"},r.createElement("fieldset",null,r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"名称"),r.createElement("input",{className:"form-control",type:"text",required:!0,name:"name",valueLink:this.linkState("name"),placeholder:"名称"}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"Banner图"),r.createElement("div",{className:"col-sm-10"},r.createElement(f,{name:"pic",imageUrl:this.state.pic,uploadField:"filedata",uploadUrl:g.domain.cms+"/pic/upload",onChange:function(t){return e.state.pic=t.imageUrl}})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"描述"),r.createElement(p,{ref:"rich-desc",source:this.state.bannerDesc}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"Banner类型"),r.createElement("select",{className:"form-control",value:this.state.referenceType,onChange:this.bannerChange},this.state.bannerTypeList?[{id:-1,name:"请选择"}].concat(this.state.bannerTypeList).map(function(e,t){return r.createElement("option",{key:t,value:e.id},e.name)}):null)),r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"关联对象"),r.createElement("input",{className:"form-control",type:"text",required:!0,disabled:!0,name:"referenceName",onClick:this.showPickerDialog,valueLink:this.linkState("referenceName"),placeholder:"关联对象"}),r.createElement("input",{type:"hidden",name:"referenceId",valueLink:this.linkState("referenceId")}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"状态"),r.createElement("select",{className:"form-control",value:this.state.status,onChange:function(t){return e.setState({status:t.target.value})}},r.createElement("option",{key:"1",value:"1"},"已上架"),r.createElement("option",{key:"0",value:"0"},"已下架"),"}"))))),r.createElement("div",{className:"box-footer"},r.createElement("div",{className:"row"},r.createElement("input",{type:"submit",className:"btn btn-primary col-sm-offset-2 col-sm-3",value:"提交"}),r.createElement("input",{type:"button",className:"btn btn-info col-sm-offset-2 col-sm-3",value:"返回",onClick:this.back})))),r.createElement("div",{ref:"overlay",className:"overlay"},r.createElement("i",{className:"fa fa-refresh fa-spin"})),r.createElement(o,{ref:"app-picker",onSelected:this.selected}),r.createElement(s,{
ref:"activity-picker",onSelected:this.selected}),r.createElement(l,{ref:"subject-picker",onSelected:this.selected}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(187),o=n(4),s=(n(16),n(8)),l=n(2),u=l.domain.cms,c=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return{appCode:"",appName:""}},getDefaultFilter:function(){return{id:""}},getPickFiled:function(){return["name","pic","bannerDesc","createTime","status","referenceId","referenceType","updateTime"]},createOrUpdate:function(e,t,n){var a=this,r="Banner创建成功";"update"===t&&(r="Banner修改成功");var i=u+"/banner/addOrEditBanner",o=function(e){1e3===e.responseCode?(a.trigger({type:"create",data:!0}),c.success({message:r})):c.fail({message:e.errorMsg})};s(i,e,o)},onQuery:function(e){var t="/banner/selectBannerById",n=function(e){1e3===e.responseCode?me.trigger({type:"detail",data:{data:e.data}}):c.fail({message:e.errorMsg})},a=e.filter;s(t,a,n)},onQueryById:function(e){var t=this,n=u+"/banner/selectBannerById",a=function(e){1e3===e.responseCode&&t.trigger({type:"detail",data:o.assign(e.data,{referenceIdDesc:e.data.referenceId})})};s(n,{id:e},a,"GET")},onCreate:function(e){var t=o.pick(e,["filter"]),n=o.pick(e,this.getPickFiled());this.createOrUpdate(n,"",t)},onUpdate:function(e){var t=o.pick(e,["filter"]),n=o.pick(e,this.getPickFiled().concat(["id"]));this.createOrUpdate(n,"update",t)}}),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r,i=n(5),o=n(7),s=n(12),l=n(188),u=n(443),c=n(119),d=n(27),m=n(31),f=n(4),p=n(3);n(33),a=i.createClass({displayName:"BannerManage",getInitialState:function(){return{data:u.getDefaultData(),filter:f.assign(u.getDefaultFilter(),{bannerType:this.props.query.bannerType||1})}},handleOperation:function(e,t){var n=$(i.findDOMNode(this.refs.save)),a=$(i.findDOMNode(this.refs.create)),r=$(i.findDOMNode(this.refs.enbaleSort)),o=$(i.findDOMNode(this.refs.sortable)),s=$(i.findDOMNode(this.refs.table)),u=$(i.findDOMNode(this.refs.cancle));if(e?(n.show(),a.show(),r.hide(),o.show(),s.hide(),u.show()):(n.hide(),a.hide(),r.show(),o.hide(),s.show(),u.hide()),t){var c=!0;e&&(c=!1),l.query({data:f.assign(this.state.data,{currentPage:0}),filter:f.assign(this.state.filter,{isPage:c})})}},componentDidMount:function(){var e=this;this.unsubscribe=u.listen(function(t){"list"===t.type?e.setState({data:f.assign(t.data,{list:t.data.list.map(function(e,t){return e.index=t+1,e})})}):"save"===t.type&&t.data&&e.handleOperation(!1,!0)}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage)),this.handleOperation(!1,!1)},componentWillUnMount:function(){this.unsubscribe()},componentWillReceiveProps:function(e){this.setState({filter:f.assign(this.state.filter,{bannerType:e.query.bannerType})},function(){l.query({data:f.assign(this.state.data,{currentPage:0}),filter:this.state.filter})})},filterData:function(e){this.setState({filter:f.assign(this.state.filter,e)},function(){l.query({data:f.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){l.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.refs.picker.show()},selected:function(e,t){(0===t||void 0===t)&&(t=!0);var n=f.findIndex(this.state.data.list,function(t){return t.bannerId===e.id});return n>-1?void(t&&p.fail({message:"Banner："+e.name+"，已在列表中"})):(this.state.data.list.push({bannerId:e.id,bannerName:e.name,pic:e.pic,bannerDesc:e.bannerDesc,statusDesc:e.statusDesc}),this.setState({data:f.assign(this.state.data,{list:this.state.data.list.map(function(e,t){return e.index=t+1,e})})}),void(t&&this.refs.picker.hide()))},batchSelect:function(e){var t=this;e.forEach(function(e){t.selected(e,!1)}),this.refs.picker.hide()},handleSorted:function(e){this.setState({data:f.assign(this.state.data,{list:e.map(function(e,t){return e.index=t+1,e})})})},removeItem:function(e){var t=f.findIndex(this.state.data.list,function(t){return t.id===e.id});f.pullAt(this.state.data.list,t);this.setState({data:f.assign(this.state.data,{list:this.state.data.list.map(function(e,t){return e.index=t+1,e})})})},enbaleSort:function(){this.handleOperation(!0,!1)},save:function(){var e=this.state.data.list.map(function(e){return e.bannerId});l.save({location:parseInt(this.state.filter.bannerType),locationBanners:e})},cancle:function(){this.handleOperation(!1,!0)},render:function(){return i.createElement("div",{className:"box"},i.createElement(c,{ref:"picker",allowMutilSelect:!0,onBatchSelect:this.batchSelect,onSelected:this.selected}),i.createElement(s,{filters:[{name:"BannerID",field:"bannerId"},{name:"Banner名称",field:"bannerName"},{name:"Banner描述",field:"bannerDesc"}],onFilterData:this.filterData}),i.createElement("div",{className:"box-footer clearfix"},i.createElement("div",{className:"col-sm-3 col-sm-offset-3"},i.createElement("button",{ref:"create",className:"btn btn-primary btn-block",onClick:this.create},"添加")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"save",className:"btn btn-success btn-block",onClick:this.save},"保存")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"cancle",className:"btn btn-default btn-block",onClick:this.cancle},"取消"),i.createElement("button",{ref:"enbaleSort",className:"btn btn-default btn-block",onClick:this.enbaleSort},"编辑"))),i.createElement(o,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"BannerID",field:"bannerId"},{name:"Banner名称",field:"bannerName"},{name:"Banner图",field:"pic",value:function(e){return i.createElement("img",{className:"preview",src:e.pic})}},{name:"描述",field:"bannerDesc",value:function(e){return i.createElement("div",{dangerouslySetInnerHTML:{__html:e.bannerDesc}})}},{name:"状态",field:"statusDesc"}]}),i.createElement("div",{className:"box-body clearfix"},i.createElement(m,{ref:"sortable",container:"table",className:"table table-bordered table-hover text-center sortedCollection",collection:this.state.data.list,onSorted:this.handleSorted,thead:[{name:"排序"},{name:"BannerID"},{name:"Banner名称"},{name:"Banner图"},{name:"描述"},{name:"状态"},{name:"操作"}]},i.createElement(r,{onRemoveItem:this.removeItem}))))}}),r=i.createClass({displayName:"SortableItem",render:function(){return i.createElement("tr",{className:this._classNames()},i.createElement("td",null,this.props.index),i.createElement("td",null,this.props.bannerId),i.createElement("td",null,this.props.bannerName),i.createElement("td",null,i.createElement("img",{className:"preview",src:this.props.pic})),i.createElement("td",null,this.props.bannerDesc),i.createElement("td",null,this.props.statusDesc),i.createElement("td",null,i.createElement("button",{className:"btn btn-sm btn-danger",onClick:this.props.onRemoveItem.bind(null,this.props),style:{cursor:"pointer"}},"删除")))},_classNames:function(){return d({item:!0,over:this.props.isOver})}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(188),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{isPage:!0,bannerId:null,bannerName:"",bannerDesc:"",referenceType:null,bannerType:null}},onQuery:function(e){var t=this,n=c+"/banner/selectLocationBannerPageByParam",a=function(n){1e3===n.responseCode?t.trigger({type:"list",filter:e.filter,data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}}):d.fail({message:n.errorMsg})},r=e.filter;r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onSave:function(e){var t=this,n=c+"/banner/addOrUpdateBatchLocationBanner",a=function(e){1e3===e.responseCode?(d.success({message:"保存成功"}),t.trigger({type:"save",data:!0})):d.fail({message:e.errorMsg})};l(n,e,a)}}),e.exports=a},function(e,t,n){"use strict";e.exports={Developer:n(445),App:n(433),AppDetail:n(436),Banner:n(439),BannerDetail:n(440),BannerManage:n(442),Subject:n(460),SubjectDetail:n(464),SubjectApp:n(462),Activity:n(430),ActivityDetail:n(431),ModularManage:n(447),ModularManageApp:n(450),ModularManageSubject:n(451),ModularManageActivity:n(449),RankInfo:n(452),RankInfoApp:n(454),RankInfoDetail:n(456),AppComments:n(434),SensitiveWord:n(458),TabApp:n(466),AppType:n(438)}},function(e,t,n){"use strict";var a,r=n(5),i=n(191),o=n(446),s=n(7),l=n(12);a=r.createClass({displayName:"Developre",getInitialState:function(){return{data:o.getDefaultData(),filter:o.getDefaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=o.listen(function(t){"list"===t.type&&e.setState({data:t.data})})},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){i.query({data:_.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){i.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},render:function(){return r.createElement("div",{className:"box"},r.createElement(l,{filters:[{name:"开发商名称",field:"merchantFullName"},{name:"联系人",field:"contacts"},{name:"联系电话",field:"phoneNum"}],onFilterData:this.filterData}),r.createElement(s,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"开发商ID",field:"merchantCode"},{name:"开发商全称",field:"merchantFullName"},{name:"联系地址",field:"address"},{name:"联系电话",field:"mobilePhoneNum"},{name:"联系人姓名",field:"contacts"},{name:"联系人邮箱",field:"email"}]}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(191),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{merchantFullName:"",contacts:"",phoneNum:""}},onQuery:function(e){var t=this,n=c+"/merchantInfo/getMerchantInfoList",a=function(n){1e3===n.responseCode?t.trigger({type:"list",filter:e.filter,data:{list:n.data.aaData,totalCount:n.data.itotalRecords,perPage:e.data.perPage,currentPage:e.data.currentPage}}):d.fail({message:n.errorMsg})},r=o.pick(e.filter,function(e){return 0===e?!0:!!e});r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")}}),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r,i=n(5),o=n(14),s=n(7),l=n(12),u=n(13),c=n(192),d=n(448),m=n(123),f=n(201),p=n(81),h=n(121),g=n(119),v=n(27),y=n(31),b=n(4),_=n(2),D=n(3),E=n(9);n(33),a=i.createClass({displayName:"ModularManage",mixins:[o.Navigation],getInitialState:function(){return{data:d.getDefaultData(),filter:d.getDefaultFilter(),locationList:[],referenceTypeList:[]}},handleOperation:function(e,t){var n=$(i.findDOMNode(this.refs.save)),a=$(i.findDOMNode(this.refs.enbaleSort)),r=$(i.findDOMNode(this.refs.sortable)),o=$(i.findDOMNode(this.refs.table)),s=$(i.findDOMNode(this.refs.cancel));if(e?(n.show(),a.hide(),r.show(),o.hide(),s.show()):(n.hide(),a.show(),r.hide(),o.show(),s.hide()),t){var l=!0;e&&(l=!1),c.query({data:b.assign(this.state.data,{currentPage:0}),filter:b.assign(this.state.filter,{isPage:l})})}},getDefaultItem:function(){return{createTime:"",id:null,index:null,location:null,locationStr:"",name:"",pic:"",referenceType:null,referenceTypeStr:"",seq:null,status:null,statusStr:"",type:null,updateTime:""}},componentDidMount:function(){var e=this;this.unsubscribe=d.listen(function(t){"list"===t.type?e.setState({data:b.assign(t.data,{list:t.data.list.map(function(e,t){return e.index=t+1,e})})}):"save"===t.type&&t.data&&e.handleOperation(!1,!0)}),this.refunsubscribe=f.listen(function(t){"list"===t.type&&e.setState({locationList:t.data.map(function(e){return{name:e.name,value:e.id}})})}),m.query(),this.referenceunsubscribe=h.listen(function(t){"list"===t.type&&e.setState({referenceTypeList:t.data.map(function(e){return{name:e.name,value:e.id}})})}),p.query(),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage)),this.handleOperation(!1,!1)},componentWillUnMount:function(){this.unsubscribe(),this.refunsubscribe(),this.referenceunsubscribe()},filterData:function(e){this.setState({filter:b.assign(this.state.filter,e)},function(){c.query({data:b.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){c.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},appList:function(e){var t={id:e.id,referenceType:e.referenceType};this.state.data.currentPage>0&&(t=b.assign(t,{currentPage:this.state.data.currentPage}));var n=e.referenceType;1===n?this.transitionTo("/cms/modular-manage-app",{},t):2===n?this.transitionTo("/cms/modular-manage-subject",{},t):3===n&&this.transitionTo("/cms/modular-manage-activity",{},t)},create:function(){0===this.state.locationList.length&&D.info({message:"模块组位置正在加载中，请稍后再试"}),0===this.state.referenceTypeList.length&&D.info({message:"模块组类型正在加载中，请稍后再试"}),this.refs.edit.create(this.getDefaultItem())},update:function(e){this.refs.edit.update(e)},"delete":function(e){var t=this;E.info({message:"确认删除？",onConfirm:function(){c["delete"](t.state,{id:e.id})}})},selected:function(e,t){(0===t||void 0===t)&&(t=!0);var n=b.findIndex(this.state.data.list,function(t){return t.bannerId===e.id});return n>-1?void(t&&D.fail({message:"Banner："+e.name+"，已在列表中"})):(this.state.data.list.push({bannerId:e.id,bannerName:e.name,bannerPic:e.pic,desc:e.desc,referenceType:e.referenceType,referenceId:e.referenceId,statusDesc:e.status}),this.setState({data:b.assign(this.state.data,{list:this.state.data.list.map(function(e,t){return e.index=t+1,e})})}),void(t&&this.refs.picker.hide()))},batchSelect:function(e){var t=this;e.forEach(function(e){t.selected(e,!1)}),this.refs.picker.hide()},handleSorted:function(e){this.setState({data:b.assign(this.state.data,{list:e.map(function(e,t){return e.index=t+1,e})})})},removeItem:function(e){var t=b.findIndex(this.state.data.list,function(t){return t.id===e.id});b.pullAt(this.state.data.list,t);this.setState({data:b.assign(this.state.data,{list:this.state.data.list.map(function(e,t){return e.index=t+1,e})})})},enbaleSort:function(){this.handleOperation(!0,!0)},save:function(){var e=this.state.data.list.map(function(e){return{id:e.id}});return 0===e.length?void D.fail({message:"请添加Banner"}):void c.save(e)},cancel:function(){this.handleOperation(!1,!0)},render:function(){return i.createElement("div",{className:"box"},i.createElement(u,{ref:"edit",title:"模块",items:[{name:"名称",field:"name",required:!0},{name:"图片",type:"image",field:"pic",imageUrl:"pic",urlField:"pic",uploadField:"filedata",uploadUrl:_.domain.cms+"/pic/upload",required:!0},{name:"位置",field:"location",type:"select",options:[{name:"请选择",value:""}].concat(this.state.locationList),required:!0},{name:"类型",field:"referenceType",type:"select",options:[{name:"请选择",value:""}].concat(this.state.referenceTypeList),required:!0},{name:"状态",field:"status",type:"select",options:[{name:"请选择",value:""},{name:"上架",value:"1"},{name:"下架",value:"0"}],required:!0}],onCreate:c.create.bind(this,this.state),onUpdate:c.update.bind(this,this.state)}),i.createElement(g,{ref:"picker",allowMutilSelect:!0,onBatchSelect:this.batchSelect,onSelected:this.selected}),i.createElement(l,{filters:[{name:"模块组名",field:"name"},{name:"状态",field:"status",type:"select",options:[{name:"全部",value:""},{name:"已下架",value:"0"},{name:"已上架",value:"1"}],"default":""}],onFilterData:this.filterData,onCreateData:this.create}),i.createElement("div",{className:"box-footer clearfix"},i.createElement("div",{className:"col-sm-3 col-sm-offset-6"},i.createElement("button",{ref:"save",className:"btn btn-success btn-block",onClick:this.save},"保存")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"cancel",className:"btn btn-default btn-block",onClick:this.cancel},"取消"),i.createElement("button",{ref:"enbaleSort",className:"btn btn-default btn-block",onClick:this.enbaleSort},"排序"))),i.createElement(s,{key:"table1",ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"模块组ID",field:"id"},{name:"模块组名",field:"name"},{name:"模块组图片",field:"pic",value:function(e){return i.createElement("img",{className:"preview",src:e.pic})}},{name:"关联对象",field:"referenceTypeStr"},{name:"模块组位置",field:"locationStr"},{name:"状态",field:"statusStr"},{name:"创建时间",field:"createTime"}],operations:[{name:"进入内容",icon:"success",callback:this.appList},{name:"编辑",icon:"primary",callback:this.update},{name:"删除",icon:"danger",callback:this["delete"]}]}),i.createElement("div",{className:"box-body clearfix"},i.createElement(y,{key:"sortedCollection1",ref:"sortable",container:"table",className:"table table-bordered table-hover text-center sortedCollection",collection:this.state.data.list,onSorted:this.handleSorted,thead:[{name:"排序"},{name:"模块组ID"},{name:"模块组名"},{name:"模块组图片"},{name:"关联对象"},{name:"模块组位置"},{name:"状态"},{name:"创建时间"}]},i.createElement(r,{onRemoveItem:this.removeItem}))))}}),r=i.createClass({displayName:"SortableItem",render:function(){return i.createElement("tr",{className:this._classNames()},i.createElement("td",null,this.props.index),i.createElement("td",null,this.props.id),i.createElement("td",null,this.props.name),i.createElement("td",null,i.createElement("img",{className:"preview",src:this.props.pic})),i.createElement("td",null,this.props.referenceTypeStr),i.createElement("td",null,this.props.locationStr),i.createElement("td",null,this.props.statusStr),i.createElement("td",null,this.props.createTime))},_classNames:function(){return v({item:!0,over:this.props.isOver})}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(192),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{name:"",status:null,isPage:!0}},getPickFiled:function(){return["name","pic","referenceType","location","status"]},handleSaveOrUpdate:function(e,t,n){var a=c+"/module/addModule",r="模块添加成功";"update"===n&&(a=c+"/module/updateModule",r="模块修改成功");var o=function(t){d.success({message:r}),i.query(e)};l(a,t,o)},onQuery:function(e){var t=this,n=c+"/module/getModuleList",a=function(n){t.trigger({type:"list",filter:e.filter,data:{list:n.data.aaData,totalCount:n.data.itotalRecords,perPage:e.data.perPage,currentPage:e.data.currentPage}})},r=o.pick(e.filter,function(e){return 0===e?!0:!!e});r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onSave:function(e){var t=this,n=c+"/module/sortModuleList",a=function(e){d.success({message:"保存成功"}),t.trigger({type:"save",data:!0})};l(n,JSON.stringify(e),a,void 0,void 0,"application/json;charset=UTF-8")},onCreate:function(e,t){this.handleSaveOrUpdate(e,o.pick(t,this.getPickFiled()),"")},onUpdate:function(e,t){this.handleSaveOrUpdate(e,o.pick(t,this.getPickFiled().concat(["id"])),"update")},onDelete:function(e,t){var n=c+"/module/deleteModule",a=function(t){d.success({message:"删除成功"}),i.query(e)};l(n,t,a)}}),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r,i=n(5),o=n(14),s=n(7),l=(n(12),n(80)),u=n(120),c=n(189),d=n(27),m=n(31),f=n(4),p=n(3);n(33),a=i.createClass({displayName:"ModularManageActivity",mixins:[o.Navigation],getInitialState:function(){return{data:u.getDefaultData(),filter:f.assign(u.getDefaultFilter(),{id:this.props.query.id||1})}},handleOperation:function(e,t){var n=$(i.findDOMNode(this.refs.save)),a=$(i.findDOMNode(this.refs.create)),r=$(i.findDOMNode(this.refs.enbaleSort)),o=$(i.findDOMNode(this.refs.sortable)),s=$(i.findDOMNode(this.refs.table)),u=$(i.findDOMNode(this.refs.cancle));if(e?(n.show(),a.show(),r.hide(),o.show(),s.hide(),u.show()):(n.hide(),a.hide(),r.show(),o.hide(),s.show(),u.hide()),t){var c=!0;e&&(c=!1),l.query({data:f.assign(this.state.data,{currentPage:0}),filter:f.assign(this.state.filter,{isPage:c})})}},componentDidMount:function(){var e=this;this.unsubscribe=u.listen(function(t){"list"===t.type?e.setState({data:f.assign(t.data,{list:t.data.list.map(function(e,t){return e.index=t+1,e})})}):"save"===t.type&&t.data&&e.handleOperation(!1,!0)}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage)),this.handleOperation(!1,!1)},componentWillUnMount:function(){this.unsubscribe()},componentWillReceiveProps:function(e){this.setState({filter:f.assign(this.state.filter,{id:e.query.id||1})})},filterData:function(e){this.setState({filter:e},function(){l.query({data:f.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){l.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.refs.picker.show()},selected:function(e,t){(0===t||void 0===t)&&(t=!0);var n=f.findIndex(this.state.data.list,function(t){return t.id===e.id});return n>-1?void(t&&p.fail({message:"活动"+e.name+"，已在列表中"})):(this.state.data.list.push({id:e.id,name:e.name,pic:e.pic,statusValue:e.statusValue}),this.setState({data:f.assign(this.state.data,{list:this.state.data.list.map(function(e,t){return e.index=t+1,e})})}),void(t&&this.refs.picker.hide()))},batchSelect:function(e){var t=this;e.forEach(function(e){t.selected(e,!1)}),this.refs.picker.hide()},handleSorted:function(e){this.setState({data:f.assign(this.state.data,{list:e.map(function(e,t){return e.index=t+1,e})})})},removeItem:function(e){var t=f.findIndex(this.state.data.list,function(t){return t.id===e.id});f.pullAt(this.state.data.list,t);this.setState({data:f.assign(this.state.data,{list:this.state.data.list.map(function(e,t){return e.index=t+1,e})})})},enbaleSort:function(){this.handleOperation(!0,!0)},save:function(){var e=this.state.data.list.map(function(e){return e.id});l.save({id:parseInt(this.props.query.id),referenceIds:e})},cancle:function(){this.handleOperation(!1,!0)},back:function(){var e="/cms/modular-manage-list";this.state.currentPage&&(e+="?currentPage="+this.state.currentPage),this.unsubscribe(),this.context.router.transitionTo(e)},render:function(){return i.createElement("div",{className:"box"},i.createElement(c,{ref:"picker",allowMutilSelect:!0,onBatchSelect:this.batchSelect,onSelected:this.selected}),i.createElement("div",{className:"box-footer clearfix"},i.createElement("div",{className:"col-sm-3 col-sm-offset-3"},i.createElement("button",{ref:"create",className:"btn btn-primary btn-block",onClick:this.create},"新建")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"save",className:"btn btn-success btn-block",onClick:this.save},"保存"),i.createElement("button",{ref:"cancle",className:"btn btn-default btn-block",onClick:this.cancle},"取消"),i.createElement("button",{ref:"enbaleSort",className:"btn btn-primary btn-block",onClick:this.enbaleSort},"编辑")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{className:"btn btn-success btn-block hidden"}),i.createElement("button",{className:"btn btn-default btn-block",onClick:this.back},"返回"))),i.createElement(s,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"排序",field:"index"},{name:"活动ID",field:"id"},{name:"活动名称",field:"name"},{name:"活动图片",field:"pic",value:function(e){return i.createElement("img",{className:"preview",src:e.pic})}},{name:"状态",field:"statusValue"}]}),i.createElement("div",{className:"box-body clearfix"},i.createElement(m,{ref:"sortable",container:"table",className:"table table-bordered table-hover text-center sortedCollection",collection:this.state.data.list,onSorted:this.handleSorted,thead:[{name:"排序"},{name:"活动ID"},{name:"活动名称"},{name:"活动图片"},{name:"状态"},{name:"操作"}]},i.createElement(r,{onRemoveItem:this.removeItem}))))}}),r=i.createClass({displayName:"SortableItem",render:function(){return i.createElement("tr",{className:this._classNames()},i.createElement("td",null,this.props.index),i.createElement("td",null,this.props.id),i.createElement("td",null,this.props.name),i.createElement("td",null,i.createElement("img",{className:"preview",src:this.props.pic})),i.createElement("td",null,this.props.statusValue),i.createElement("td",null,i.createElement("button",{className:"btn btn-sm btn-danger",onClick:this.props.onRemoveItem.bind(null,this.props),style:{cursor:"pointer"}},"删除")))},_classNames:function(){return d({item:!0,over:this.props.isOver})}}),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r,i=n(5),o=n(14),s=n(7),l=(n(12),n(80)),u=n(120),c=n(64),d=n(27),m=n(31),f=n(4),p=n(3);n(33),a=i.createClass({displayName:"ModularManageApp",mixins:[o.Navigation],getInitialState:function(){return{data:u.getDefaultData(),filter:f.assign(u.getDefaultFilter(),{id:this.props.query.id||1})}},handleOperation:function(e,t){var n=$(i.findDOMNode(this.refs.save)),a=$(i.findDOMNode(this.refs.create)),r=$(i.findDOMNode(this.refs.enbaleSort)),o=$(i.findDOMNode(this.refs.sortable)),s=$(i.findDOMNode(this.refs.table)),u=$(i.findDOMNode(this.refs.cancle)),c=$(i.findDOMNode(this.refs.back));if(e?(n.show(),a.show(),r.hide(),o.show(),s.hide(),u.show(),c.hide()):(n.hide(),a.hide(),r.show(),o.hide(),s.show(),u.hide(),c.show()),t){var d=!0;e&&(d=!1),l.query({data:f.assign(this.state.data,{currentPage:0}),filter:f.assign(this.state.filter,{isPage:d})})}},componentDidMount:function(){var e=this;this.unsubscribe=u.listen(function(t){"list"===t.type?e.setState({data:f.assign(t.data,{list:t.data.list.map(function(e,t){return e.index=t+1,e})})}):"save"===t.type&&t.data&&e.handleOperation(!1,!0)}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage)),this.handleOperation(!1,!1)},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){l.query({data:f.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){l.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.refs.picker.show()},selected:function(e,t){(0===t||void 0===t)&&(t=!0);var n=f.findIndex(this.state.data.list,function(t){return t.serviceId===e.serviceId});return n>-1?void(t&&p.fail({message:"\b应用"+e.serviceId+"，已在列表中"})):(this.state.data.list.push({serviceId:e.serviceId,appName:e.appName,appIcon:e.appIcon,appType1Str:e.appType1Str,merchantName:e.merchantName,statusStr:e.statusStr}),this.setState({data:f.assign(this.state.data,{list:this.state.data.list.map(function(e,t){return e.index=t+1,e})})}),void(t&&this.refs.picker.hide()))},batchSelect:function(e){var t=this;e.forEach(function(e){t.selected(e,!1)}),this.refs.picker.hide()},handleSorted:function(e){this.setState({data:f.assign(this.state.data,{list:e.map(function(e,t){return e.index=t+1,e})})})},removeItem:function(e){var t=f.findIndex(this.state.data.list,function(t){return t.id===e.id});f.pullAt(this.state.data.list,t);this.setState({data:f.assign(this.state.data,{list:this.state.data.list.map(function(e,t){return e.index=t+1,e})})})},enbaleSort:function(){this.handleOperation(!0,!0)},save:function(){var e=this.state.data.list.map(function(e){return e.serviceId});l.save({id:parseInt(this.props.query.id),referenceIds:e})},cancle:function(){this.handleOperation(!1,!0)},back:function(){var e="/cms/modular-manage-list";this.state.currentPage&&(e+="?currentPage="+this.state.currentPage),this.unsubscribe(),this.context.router.transitionTo(e)},render:function(){return i.createElement("div",{className:"box"},i.createElement(c,{ref:"picker",allowMutilSelect:!0,onBatchSelect:this.batchSelect,onSelected:this.selected}),i.createElement("div",{className:"box-footer clearfix"},i.createElement("div",{className:"col-sm-3 col-sm-offset-3"},i.createElement("button",{ref:"create",className:"btn btn-primary btn-block",onClick:this.create},"新建")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"save",className:"btn btn-success btn-block",onClick:this.save},"保存"),i.createElement("button",{ref:"enbaleSort",className:"btn btn-primary btn-block",onClick:this.enbaleSort},"编辑")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"cancle",className:"btn btn-default btn-block",onClick:this.cancle},"取消"),i.createElement("button",{ref:"back",className:"btn btn-default btn-block",onClick:this.back},"返回"))),i.createElement(s,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"应用ID",field:"serviceId"},{name:"应用名称",field:"appName"},{name:"ICON图片",field:"appIcon",value:function(e){return i.createElement("img",{className:"preview",src:e.appIcon})}},{name:"应用类型",field:"appType1Str"},{name:"开发商名称",field:"merchantName"},{name:"状态",field:"statusStr"}]}),i.createElement("div",{className:"box-body clearfix"},i.createElement(m,{ref:"sortable",container:"table",className:"table table-bordered table-hover text-center sortedCollection",collection:this.state.data.list,onSorted:this.handleSorted,thead:[{name:"排序"},{name:"应用ID"},{name:"应用名称"},{name:"ICON图片"},{name:"应用类型"},{name:"开发商名称"},{name:"状态"},{name:"操作"}]},i.createElement(r,{onRemoveItem:this.removeItem}))))}}),r=i.createClass({displayName:"SortableItem",render:function(){return i.createElement("tr",{className:this._classNames()},i.createElement("td",null,this.props.index),i.createElement("td",null,this.props.serviceId),i.createElement("td",null,this.props.appName),i.createElement("td",null,i.createElement("img",{className:"preview",src:this.props.appIcon})),i.createElement("td",null,this.props.appType1Str),i.createElement("td",null,this.props.merchantName),i.createElement("td",null,this.props.statusStr),i.createElement("td",null,i.createElement("button",{className:"btn btn-sm btn-danger",onClick:this.props.onRemoveItem.bind(null,this.props),style:{cursor:"pointer"}},"删除")))},_classNames:function(){return d({item:!0,over:this.props.isOver})}}),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r,i=n(5),o=n(14),s=n(7),l=(n(12),n(80)),u=n(120),c=n(190),d=n(27),m=n(31),f=n(4),p=n(3);n(33),a=i.createClass({displayName:"ModularManageActivity",mixins:[o.Navigation],getInitialState:function(){return{data:u.getDefaultData(),filter:f.assign(u.getDefaultFilter(),{id:this.props.query.id||1})}},handleOperation:function(e,t){var n=$(i.findDOMNode(this.refs.save)),a=$(i.findDOMNode(this.refs.create)),r=$(i.findDOMNode(this.refs.enbaleSort)),o=$(i.findDOMNode(this.refs.sortable)),s=$(i.findDOMNode(this.refs.table)),u=$(i.findDOMNode(this.refs.cancle));if(e?(n.show(),a.show(),r.hide(),o.show(),s.hide(),u.show()):(n.hide(),a.hide(),r.show(),o.hide(),s.show(),u.hide()),t){var c=!0;e&&(c=!1),l.query({data:f.assign(this.state.data,{currentPage:0}),filter:f.assign(this.state.filter,{isPage:c})})}},componentDidMount:function(){var e=this;this.unsubscribe=u.listen(function(t){"list"===t.type?e.setState({data:f.assign(t.data,{list:t.data.list.map(function(e,t){return e.index=t+1,e})})}):"save"===t.type&&t.data&&e.handleOperation(!1,!0)}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage)),this.handleOperation(!1,!1)},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){l.query({data:f.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){l.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.refs.picker.show()},selected:function(e,t){(0===t||void 0===t)&&(t=!0);var n=f.findIndex(this.state.data.list,function(t){return t.id===e.id});return n>-1?void(t&&p.fail({message:"专题："+e.name+"，已在列表中"})):(this.state.data.list.push({id:e.id,name:e.name,pic:e.pic,statusDesc:e.statusDesc}),this.setState({data:f.assign(this.state.data,{list:this.state.data.list.map(function(e,t){return e.index=t+1,e})})}),void(t&&this.refs.picker.hide()))},batchSelect:function(e){var t=this;e.forEach(function(e){t.selected(e,!1)}),this.refs.picker.hide()},handleSorted:function(e){this.setState({data:f.assign(this.state.data,{list:e.map(function(e,t){return e.index=t+1,e})})})},removeItem:function(e){var t=f.findIndex(this.state.data.list,function(t){return t.id===e.id});f.pullAt(this.state.data.list,t);
this.setState({data:f.assign(this.state.data,{list:this.state.data.list.map(function(e,t){return e.index=t+1,e})})})},enbaleSort:function(){this.handleOperation(!0,!0)},save:function(){var e=this.state.data.list.map(function(e){return e.id});l.save({id:parseInt(this.props.query.id),referenceIds:e})},cancle:function(){this.handleOperation(!1,!0)},back:function(){var e="/cms/modular-manage-list";this.state.currentPage&&(e+="?currentPage="+this.state.currentPage),this.unsubscribe(),this.context.router.transitionTo(e)},render:function(){return i.createElement("div",{className:"box"},i.createElement(c,{ref:"picker",allowMutilSelect:!0,onBatchSelect:this.batchSelect,onSelected:this.selected}),i.createElement("div",{className:"box-footer clearfix"},i.createElement("div",{className:"col-sm-3 col-sm-offset-3"},i.createElement("button",{ref:"create",className:"btn btn-primary btn-block",onClick:this.create},"新建")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"save",className:"btn btn-success btn-block",onClick:this.save},"保存"),i.createElement("button",{ref:"cancle",className:"btn btn-default btn-block",onClick:this.cancle},"取消"),i.createElement("button",{ref:"enbaleSort",className:"btn btn-primary btn-block",onClick:this.enbaleSort},"编辑")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{className:"btn btn-success btn-block hidden"}),i.createElement("button",{className:"btn btn-default btn-block",onClick:this.back},"返回"))),i.createElement(s,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"排序",field:"index"},{name:"专题ID",field:"id"},{name:"专题名称",field:"name"},{name:"专题图片",field:"pic",value:function(e){return i.createElement("img",{className:"preview",src:e.pic})}},{name:"状态",field:"statusDesc"}]}),i.createElement("div",{className:"box-body clearfix"},i.createElement(m,{ref:"sortable",container:"table",className:"table table-bordered table-hover text-center sortedCollection",collection:this.state.data.list,onSorted:this.handleSorted,thead:[{name:"排序"},{name:"专题ID"},{name:"专题名称"},{name:"专题图片"},{name:"状态"},{name:"操作"}]},i.createElement(r,{onRemoveItem:this.removeItem}))))}}),r=i.createClass({displayName:"SortableItem",render:function(){return i.createElement("tr",{className:this._classNames()},i.createElement("td",null,this.props.index),i.createElement("td",null,this.props.id),i.createElement("td",null,this.props.name),i.createElement("td",null,i.createElement("img",{className:"preview",src:this.props.pic})),i.createElement("td",null,this.props.statusDesc),i.createElement("td",null,i.createElement("button",{className:"btn btn-sm btn-danger",onClick:this.props.onRemoveItem.bind(null,this.props),style:{cursor:"pointer"}},"删除")))},_classNames:function(){return d({item:!0,over:this.props.isOver})}}),e.exports=a},function(e,t,n){"use strict";var a,r,i=n(5),o=n(14),s=n(193),l=n(453),u=n(7),c=n(12),d=(n(34),n(81),n(121),n(31)),m=n(4),f=n(27),p=n(3),h=n(9);n(33),a=i.createClass({displayName:"RankInfo",mixins:[o.Navigation],getInitialState:function(){return{data:m.assign(l.getDefaultData(),{list:[]}),filter:l.getDefaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=l.listen(function(t){"list"===t.type?e.setState({data:m.assign(t.data,{list:t.data.list.map(function(e,t){return e.index=t+1,e})})}):"save"===t.type&&t.data&&e.handleOperation(!1,!0)}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage)),this.handleOperation(!1,!1)},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){s.query({data:m.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},handleOperation:function(e,t){var n=$(i.findDOMNode(this.refs.save)),a=$(i.findDOMNode(this.refs.enbaleSort)),r=$(i.findDOMNode(this.refs.sortable)),o=$(i.findDOMNode(this.refs.table)),l=$(i.findDOMNode(this.refs.cancel));if(e?(n.show(),a.hide(),r.show(),o.hide(),l.show()):(n.hide(),a.show(),r.hide(),o.show(),l.hide()),t){var u=!0;e&&(u=!1),s.query({data:m.assign(this.state.data,{currentPage:0}),filter:m.assign(this.state.filter,{isPage:u})})}},queryData:function(e){s.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},detail:function(e){var t={id:e.id,name:e.name};this.state.data.currentPage>0&&(t=m.assign(t,{currentPage:this.state.data.currentPage})),this.transitionTo("/cms/rankInfo-app",{},t)},enbaleSort:function(){this.handleOperation(!0,!0)},handleSorted:function(e){this.setState({data:m.assign(this.state.data,{list:e.map(function(e,t){return e.index=t+1,e})})})},save:function(){var e=this.state.data.list.map(function(e){return e.id});return 0===e.length?void p.fail({message:"请添加Banner"}):void s.save({ids:e})},cancel:function(){this.handleOperation(!1,!0)},create:function(){this.transitionTo("/cms/rankInfo-detail")},update:function(e){var t={id:e.id};this.state.data.currentPage>0&&(t=m.assign(t,{currentPage:this.state.data.currentPage})),this.transitionTo("/cms/rankInfo-detail",{},t)},showDialog:function(){this.refs.dialog.show()},"delete":function(e){var t=this;h.warning({message:"确认删除？",onConfirm:function(){s["delete"](t.state,{id:e.id})}})},render:function(){return i.createElement("div",{className:"box"},i.createElement(c,{filters:[{name:"榜单名称",field:"name"}],onFilterData:this.filterData,onCreateData:this.create}),i.createElement("div",{className:"box-footer clearfix"},i.createElement("div",{className:"col-sm-3 col-sm-offset-6"},i.createElement("button",{ref:"save",className:"btn btn-success btn-block",onClick:this.save},"保存")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"cancel",className:"btn btn-default btn-block",onClick:this.cancel},"取消"),i.createElement("button",{ref:"enbaleSort",className:"btn btn-default btn-block",onClick:this.enbaleSort},"排序"))),i.createElement(u,{key:"table1",ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"榜单ID",field:"id"},{name:"榜单名称",field:"name"},{name:"榜单位置",field:"locaName"},{name:"创建时间",field:"createTime"}],operations:[{name:"进入内容",icon:"success",callback:this.detail},{name:"编辑",icon:"primary",callback:this.update},{name:"删除",icon:"danger",callback:this["delete"]}]}),i.createElement("div",{className:"box-body clearfix"},i.createElement(d,{key:"sortedCollection1",ref:"sortable",container:"table",className:"table table-bordered table-hover text-center sortedCollection",collection:this.state.data.list,onSorted:this.handleSorted,thead:[{name:"排序"},{name:"榜单ID"},{name:"榜单名称"},{name:"榜单位置"},{name:"创建时间"}]},i.createElement(r,{onRemoveItem:this.removeItem}))))}}),r=i.createClass({displayName:"SortableItem",render:function(){return i.createElement("tr",{className:this._classNames()},i.createElement("td",null,this.props.index),i.createElement("td",null,this.props.id),i.createElement("td",null,this.props.name),i.createElement("td",null,this.props.locaName),i.createElement("td",null,this.props.createTime))},_classNames:function(){return f({item:!0,over:this.props.isOver})}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(193),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{rankInfoName:"",rankInfoStatus:""}},onQuery:function(e){var t=this,n=c+"/rank/selectRankInfo",a=function(n){1e3===n.responseCode?t.trigger({type:"list",filter:e.filter,data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}}):d.fail({message:n.errorMsg})},r=e.filter;"-1"===r.rankInfoStatus&&(r.rankInfoStatus=""),r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onSave:function(e){var t=this,n=c+"/rank/updateSort",a=function(e){d.success({message:"保存成功"}),t.trigger({type:"save",data:!0})};l(n,e,a)},onDelete:function(e,t){var n=c+"/rank/delete",a=t,r=function(t){1e3===t.responseCode?(d.success({message:"已删除"}),i.query(e)):d.fail({message:t.errorMsg})};l(n,a,r)}}),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r,i=n(5),o=n(14),s=n(7),l=n(12),u=n(194),c=n(455),d=n(64),m=n(27),f=n(31),p=n(4),h=n(3);n(33),a=i.createClass({displayName:"RankInfoApp",mixins:[o.Navigation],getInitialState:function(){return{data:c.getDefaultData(),filter:p.assign(c.getDefaultFilter(),{id:this.props.query.id||1})}},handleOperation:function(e,t){var n=$(i.findDOMNode(this.refs.save)),a=$(i.findDOMNode(this.refs.create)),r=$(i.findDOMNode(this.refs.enbaleSort)),o=$(i.findDOMNode(this.refs.sortable)),s=$(i.findDOMNode(this.refs.table)),l=$(i.findDOMNode(this.refs.cancle)),c=$(i.findDOMNode(this.refs.back));if(e?(n.show(),a.show(),r.hide(),o.show(),s.hide(),l.show(),c.hide()):(n.hide(),a.hide(),r.show(),o.hide(),s.show(),l.hide(),c.show()),t){var d=!0;e&&(d=!1),u.query({data:p.assign(this.state.data,{currentPage:0}),filter:p.assign(this.state.filter,{isPage:d})})}},componentDidMount:function(){var e=this;this.unsubscribe=c.listen(function(t){"list"===t.type?e.setState({data:p.assign(t.data,{list:t.data.list.map(function(e,t){return e.index=t+1,e})})}):"save"===t.type&&t.data&&e.handleOperation(!1,!0)}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage)),this.handleOperation(!1,!1)},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:p.assign(this.state.filter,e)},function(){u.query({data:p.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){u.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.refs.picker.show()},selected:function(e,t){(0===t||void 0===t)&&(t=!0);var n=p.findIndex(this.state.data.list,function(t){return t.serviceId===e.serviceId});return n>-1?void(t&&h.fail({message:"应用"+e.serviceId+"，已在列表中"})):(this.state.data.list.push({serviceId:e.serviceId,appName:e.appName,icon:e.appIcon,typeName:e.appType1,merchantName:e.merchantName,statusStr:e.statusStr}),this.setState({data:p.assign(this.state.data,{list:this.state.data.list})}),void(t&&this.refs.picker.hide()))},batchSelect:function(e){var t=this;e.forEach(function(e){t.selected(e,!1)}),this.refs.picker.hide()},handleSorted:function(e){this.setState({data:p.assign(this.state.data,{list:e.map(function(e,t){return e.index=t+1,e})})})},removeItem:function(e){var t=p.findIndex(this.state.data.list,function(t){return t.id===e.id});p.pullAt(this.state.data.list,t);this.setState({data:p.assign(this.state.data,{list:this.state.data.list})})},enbaleSort:function(){this.handleOperation(!0,!0)},save:function(){var e=this.state.data.list.map(function(e){return e.serviceId});u.save({rankingId:parseInt(this.props.query.id),serviceIds:e})},cancle:function(){this.handleOperation(!1,!0)},back:function(){var e="/cms/rankInfo-list";this.state.currentPage&&(e+="?currentPage="+this.state.currentPage),this.context.router.transitionTo(e)},render:function(){return i.createElement("div",{className:"box"},this.props.query.name?i.createElement("div",{className:"box-header",style:{marginLeft:"15px",marginRight:"15px",borderBottom:"1px solid #f4f4f4"}},i.createElement("h4",null," 榜单名称：",this.props.query.name," ")):null,i.createElement(d,{ref:"picker",allowMutilSelect:!0,onBatchSelect:this.batchSelect,onSelected:this.selected}),i.createElement(l,{filters:[{name:"游戏ID",field:"serviceId"},{name:"游戏名称",field:"name"}],onFilterData:this.filterData}),i.createElement("div",{className:"box-footer clearfix"},i.createElement("div",{className:"col-sm-3 col-sm-offset-3"},i.createElement("button",{ref:"create",className:"btn btn-primary btn-block",onClick:this.create},"新建")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"save",className:"btn btn-success btn-block",onClick:this.save},"保存"),i.createElement("button",{ref:"enbaleSort",className:"btn btn-default btn-block",onClick:this.enbaleSort},"编辑")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"cancle",className:"btn btn-default btn-block",onClick:this.cancle},"取消"),i.createElement("button",{ref:"back",className:"btn btn-default btn-block",onClick:this.back},"返回"))),i.createElement(s,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"游戏ID",field:"serviceId"},{name:"游戏名称",field:"appName"},{name:"ICON图片",field:"icon",value:function(e){return i.createElement("img",{className:"preview",src:e.icon})}},{name:"游戏类型",field:"typeName"},{name:"开发商名称",field:"merchantName"},{name:"状态",field:"statusStr"}]}),i.createElement("div",{className:"box-body clearfix"},i.createElement(f,{ref:"sortable",container:"table",className:"table table-bordered table-hover text-center sortedCollection",collection:this.state.data.list,onSorted:this.handleSorted,thead:[{name:"排序"},{name:"游戏ID"},{name:"游戏名称"},{name:"ICON图片"},{name:"游戏类型"},{name:"开发商名称"},{name:"状态"},{name:"操作"}]},i.createElement(r,{onRemoveItem:this.removeItem}))))}}),r=i.createClass({displayName:"SortableItem",render:function(){return i.createElement("tr",{className:this._classNames()},i.createElement("td",null,this.props.index),i.createElement("td",null,this.props.serviceId),i.createElement("td",null,this.props.appName),i.createElement("td",null,i.createElement("img",{className:"preview",src:this.props.icon})),i.createElement("td",null,this.props.typeName),i.createElement("td",null,this.props.merchantName),i.createElement("td",null,this.props.statusStr),i.createElement("td",null,i.createElement("button",{className:"btn btn-sm btn-danger",onClick:this.props.onRemoveItem.bind(null,this.props),style:{cursor:"pointer"}},"删除")))},_classNames:function(){return m({item:!0,over:this.props.isOver})}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(194),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{name:null,serviceId:null,id:null}},onQuery:function(e){var t=this,n=c+"/rankApp/selectRankApp",a=function(n){1e3===n.responseCode&&t.trigger({type:"list",filter:e.filter,data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}})},r=o.pick(e.filter,function(e){return 0===e?!0:o.isBoolean(e)?!0:!!e});r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onSave:function(e){var t=this,n=c+"/rankApp/edit",a=function(e){1e3===e.responseCode?(d.success({message:"保存成功"}),t.trigger({type:"save",data:!0})):d.fail({message:e.errorMsg})};l(n,e,a)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(14),o=n(195),s=n(457),l=n(4),u=(n(25),n(2),n(123)),c=n(201),d=n(3);a=r.createClass({displayName:"RankInfoDetail",mixins:[r.addons.LinkedStateMixin,i.Navigation],getInitialState:function(){return{id:null,name:"",mode:"create",locationList:[],location:"",filter:s.getDefaultFilter(),currentPage:void 0}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"detail"===t.type?e.setState(l.assign(e.state,t.data)):"create"===t.type&&e.back()}),this.overlay=$(r.findDOMNode(this.refs.overlay)).hide(),this.props.query.id&&this.setState({mode:"update"},function(){o.queryById(this.props.query.id)}),this.props.query.currentPage&&this.setState(l.assign(this.state,{currentPage:this.props.query.currentPage})),this.refunsubscribe=c.listen(function(t){"list"===t.type&&e.setState({locationList:t.data.map(function(e){return{name:e.name,value:e.id}})})}),u.query()},componentWillUnMount:function(){this.unsubscribe()},queryData:function(e){o.query({filter:this.state.filter})},back:function(){var e="/cms/rankInfo-list";this.state.currentPage&&(e+="?currentPage="+this.state.currentPage),this.context.router.transitionTo(e)},handleConfirm:function(e){return e.preventDefault(),this.state.location?void("create"===this.state.mode?o.create(this.state):o.update(this.state)):void d.fail({message:"请选择榜单位置!"})},render:function(){var e=this;return r.createElement("div",{className:"box"},r.createElement("div",{className:"box-header with-border"},r.createElement("h4",null,"create"===this.state.mode?"新增榜单":"修改榜单")),r.createElement("form",{ref:"edit-form",onSubmit:this.handleConfirm},"create"===this.state.mode?"":r.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),r.createElement("div",{className:"box-body"},r.createElement("fieldset",null,r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"榜单名称"),r.createElement("input",{className:"form-control",type:"text",required:!0,name:"name",valueLink:this.linkState("name"),placeholder:"名称"})),r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"榜单位置"),r.createElement("select",{className:"form-control",value:this.state.location,onChange:function(t){return e.setState({location:t.target.value})}},this.state.locationList?[{id:-1,name:"请选择"}].concat(this.state.locationList).map(function(e,t){return r.createElement("option",{key:t,value:e.value},e.name)}):null))))),r.createElement("div",{className:"box-footer"},r.createElement("div",{className:"row"},r.createElement("input",{type:"submit",className:"btn btn-primary col-sm-offset-2 col-sm-3",value:"提交"}),r.createElement("input",{type:"button",className:"btn btn-info col-sm-offset-2 col-sm-3",value:"返回",onClick:this.back})))),r.createElement("div",{ref:"overlay",className:"overlay"},r.createElement("i",{className:"fa fa-refresh fa-spin"})))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(195),o=n(4),s=(n(16),n(8)),l=n(2),u=l.domain.cms,c=n(3);a=r.createStore({listenables:i,getDefaultFilter:function(){return{serviceId:""}},getPickFiled:function(){return["name","location"]},createOrUpdate:function(e,t,n){var a=this,r="榜单新增成功",i=u+"/rank/insertRankInfo";"update"===t&&(r="榜单修改成功",i=u+"/rank/updateRank");var o=function(e){1e3===e.responseCode?(a.trigger({type:"create",data:!0}),c.success({message:r})):c.fail({message:e.errorMsg})};s(i,e,o)},onQueryById:function(e){var t=this,n=u+"/rank/selectRankInfo",a=function(e){if(1e3===e.responseCode){var n=e.data.list,a={};0!==n.length&&(a=n[0]),t.trigger({type:"detail",data:a})}};s(n,{id:e},a,"GET")},onCreate:function(e){var t=o.pick(e,["filter"]),n=o.pick(e,this.getPickFiled());this.createOrUpdate(n,"",t)},onUpdate:function(e){var t=o.pick(e,["filter"]),n=o.pick(e,this.getPickFiled().concat(["id"]));this.createOrUpdate(n,"update",t)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(14),o=n(196),s=n(459),l=n(7),u=n(12),c=n(13),d=n(45),m=n(4),f=(n(9),n(3)),p=n(2);a=r.createClass({displayName:"SensitiveWord",mixins:[i.Navigation],getInitialState:function(){return{data:m.assign(s.getDefaultData(),{list:[]}),filter:s.getDefaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"list"===t.type&&e.setState({data:t.data})}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage))},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){o.query({data:m.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){o.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.refs.dialog.create({word:""})},imports:function(e){e.success&&(f.success({message:"导入成功"}),o.query({data:$.extend(this.state.data,{currentPage:0}),filter:this.state.filter}))},render:function(){var e=this;return r.createElement("div",{className:"box"},r.createElement(u,{filters:[{name:"敏感词",field:"word"}],onFilterData:this.filterData}),r.createElement("div",{className:"box-body clearfix"},r.createElement("div",{className:"col-sm-3 col-sm-offset-6"},r.createElement("button",{className:"btn btn-primary btn-block",onClick:this.create},"新增")),r.createElement("div",{className:"col-sm-3"},r.createElement(d,{ref:"file-uploader",item:{},uploadField:"file",uploadUrl:p.domain.cms+"/sensitiveWord/importSensitiveWords",extension:["csv"],buttonName:"批量导入",onChange:function(t){return e.imports(t)}}))),r.createElement(l,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"敏感词",field:"word"},{name:"创建时间",field:"createTime"}]}),r.createElement(c,{ref:"dialog",title:"敏感词",items:[{name:"敏感词",field:"word",required:!0}],onCreate:o.create.bind(this,this.state)}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(196),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{word:""}},onQuery:function(e){var t=this,n=c+"/sensitiveWord/selectSensitiveWordPageByParam",a=function(n){t.trigger({type:"list",filter:e.filter,data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}})},r=o.pick(e.filter,function(e){return 0===e?!0:!!e});r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onCreate:function(e,t){var n=c+"/sensitiveWord/addSensitiveWord",a=function(t){d.success({message:"添加成功"}),i.query(e)};l(n,t,a)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(14),o=n(122),s=n(197),l=n(7),u=n(12),c=n(9);a=r.createClass({displayName:"Subject",mixins:[i.Navigation],getInitialState:function(){return{data:s.getDefaultData(),filter:s.getDefaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"list"===t.type&&e.setState({data:t.data})})},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){o.query({data:_.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){o.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},detail:function(e){var t={id:e.id};this.state.data.currentPage>0&&(t=_.assign(t,{currentPage:this.state.data.currentPage})),this.transitionTo("/cms/subject-app",{},t)},create:function(){this.transitionTo("/cms/subject-detail")},update:function(e){var t={id:e.id};this.state.data.currentPage>0&&(t=_.assign(t,{currentPage:this.state.data.currentPage})),this.transitionTo("/cms/subject-detail",{},t)},"delete":function(e){var t=this;c.warning({message:"确认删除？",onConfirm:function(){o["delete"](t.state,{id:e.id})}})},up:function(e){var t=this;c.info({message:"确认设置为上架？",onConfirm:function(){o.upDown(t.state,{id:e.id,status:1})}})},down:function(e){var t=this;c.info({message:"确认设置为下架？",onConfirm:function(){o.upDown(t.state,{id:e.id,status:0})}})},render:function(){return r.createElement("div",{className:"box"},r.createElement(u,{filters:[{name:"专题ID",field:"subjectId"},{name:"专题名称",field:"subjectName"},{name:"状态",field:"subjectStatus",type:"select",options:[{name:"全部",value:"-1"},{name:"已下架",value:"0"},{name:"已上架",value:"1"}],"default":"-1"}],onFilterData:this.filterData,onCreateData:this.create}),r.createElement(l,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"专题ID",field:"id"},{name:"专题名称",field:"name"},{name:"专题图片",field:"pic",value:function(e){return r.createElement("img",{className:"preview",src:e.pic})}},{name:"专题描述",field:"subjectDesc",value:function(e){return r.createElement("div",{dangerouslySetInnerHTML:{__html:e.subjectDesc}})}},{name:"创建时间",field:"createTime"},{name:"状态",field:"statusDesc"}],operations:[{name:"进入内容",icon:"success",callback:this.detail},{name:"编辑",icon:"primary",callback:this.update},{name:"上架",icon:"warning",callback:this.up,disabled:function(e){return 1===e.status}},{name:"下架",icon:"warning",callback:this.down,disabled:function(e){return 0===e.status}},{name:"删除",icon:"danger",callback:this["delete"]}]}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(198),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{subjectId:null,secviceId:null,appName:"",isPage:!0}},onQuery:function(e){var t=this,n=c+"/subject/selectSubjectAppPageByParam",a=function(n){1e3===n.responseCode&&t.trigger({type:"list",filter:e.filter,data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}})},r=o.pick(e.filter,function(e){return 0===e?!0:o.isBoolean(e)?!0:!!e});r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onSave:function(e){var t=this,n=c+"/subject/addOrUpdateBatchSubjectApp",a=function(e){1e3===e.responseCode?(d.success({message:"保存成功"}),t.trigger({type:"save",data:!0})):d.fail({message:e.errorMsg})};l(n,e,a)}}),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r,i=n(5),o=n(14),s=n(7),l=n(12),u=n(198),c=n(461),d=n(64),m=n(27),f=n(31),p=n(4),h=n(3);n(33),a=i.createClass({displayName:"SubjectApp",mixins:[o.Navigation],getInitialState:function(){return{data:c.getDefaultData(),filter:p.assign(c.getDefaultFilter(),{subjectId:this.props.query.id||1})}},handleOperation:function(e,t){var n=$(i.findDOMNode(this.refs.save)),a=$(i.findDOMNode(this.refs.create)),r=$(i.findDOMNode(this.refs.enbaleSort)),o=$(i.findDOMNode(this.refs.sortable)),s=$(i.findDOMNode(this.refs.table)),l=$(i.findDOMNode(this.refs.cancle)),c=$(i.findDOMNode(this.refs.back));if(e?(n.show(),a.show(),r.hide(),o.show(),s.hide(),l.show(),c.hide()):(n.hide(),a.hide(),r.show(),o.hide(),s.show(),l.hide(),c.show()),t){var d=!0;e&&(d=!1),u.query({data:p.assign(this.state.data,{currentPage:0}),filter:p.assign(this.state.filter,{isPage:d})})}},componentDidMount:function(){var e=this;this.unsubscribe=c.listen(function(t){"list"===t.type?e.setState({data:t.data}):"save"===t.type&&t.data&&e.handleOperation(!1,!0)}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage)),this.handleOperation(!1,!1)},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){u.query({data:p.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){u.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.refs.picker.show()},selected:function(e,t){(0===t||void 0===t)&&(t=!0);var n=p.findIndex(this.state.data.list,function(t){return t.serviceId===e.serviceId});return n>-1?void(t&&h.fail({message:"应用"+e.serviceId+"，已在列表中"})):(this.state.data.list.push({serviceId:e.serviceId,appName:e.appName,appIcon:e.appIcon,appType:e.appType1,merchantFullName:e.merchantName,statusDesc:e.statusStr}),this.setState({data:p.assign(this.state.data,{list:this.state.data.list})}),void(t&&this.refs.picker.hide()))},batchSelect:function(e){var t=this;e.forEach(function(e){t.selected(e,!1)}),this.refs.picker.hide()},handleSorted:function(e){this.setState({data:p.assign(this.state.data,{list:e})})},removeItem:function(e){var t=p.findIndex(this.state.data.list,function(t){return t.id===e.id});p.pullAt(this.state.data.list,t);this.setState({data:p.assign(this.state.data,{list:this.state.data.list})})},enbaleSort:function(){this.handleOperation(!0,!0)},save:function(){var e=this.state.data.list.map(function(e){return e.serviceId});u.save({subjectId:this.state.filter.subjectId,serviceIds:e})},cancle:function(){this.handleOperation(!1,!0)},back:function(){var e="/cms/subject-list";this.state.currentPage&&(e+="?currentPage="+this.state.currentPage),this.context.router.transitionTo(e)},render:function(){return i.createElement("div",{className:"box"},i.createElement(d,{ref:"picker",allowMutilSelect:!0,onBatchSelect:this.batchSelect,onSelected:this.selected}),i.createElement(l,{filters:[{name:"应用ID",field:""},{name:"应用名称",field:""}],onFilterData:this.filterData}),i.createElement("div",{className:"box-footer clearfix"},i.createElement("div",{className:"col-sm-3 col-sm-offset-3"},i.createElement("button",{ref:"create",className:"btn btn-primary btn-block",onClick:this.create},"新建")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"save",className:"btn btn-success btn-block",onClick:this.save},"保存"),i.createElement("button",{ref:"enbaleSort",className:"btn btn-primary btn-block",onClick:this.enbaleSort},"编辑")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"cancle",className:"btn btn-default btn-block",onClick:this.cancle},"取消"),i.createElement("button",{ref:"back",className:"btn btn-default btn-block",onClick:this.back},"返回"))),i.createElement(s,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"应用ID",field:"serviceId"},{name:"应用名称",field:"appName"},{name:"ICON图片",field:"appIcon",value:function(e){return i.createElement("img",{className:"preview",src:e.appIcon})}},{name:"应用类型",field:"typeAttrName"},{name:"开发商名称",field:"merchantFullName"},{name:"状态",field:"statusDesc"}]}),i.createElement("div",{className:"box-body clearfix"},i.createElement(f,{ref:"sortable",container:"table",className:"table table-bordered table-hover text-center sortedCollection",collection:this.state.data.list,onSorted:this.handleSorted,thead:[{name:"应用ID"},{name:"应用名称"},{name:"ICON图片"},{name:"应用类型"},{name:"开发商名称"},{name:"状态"},{name:"操作"}]},i.createElement(r,{onRemoveItem:this.removeItem}))))}}),r=i.createClass({displayName:"SortableItem",render:function(){return i.createElement("tr",{className:this._classNames()},i.createElement("td",null,this.props.serviceId),i.createElement("td",null,this.props.appName),i.createElement("td",null,i.createElement("img",{className:"preview",src:this.props.appIcon})),i.createElement("td",null,this.props.typeAttrName),i.createElement("td",null,this.props.merchantFullName),i.createElement("td",null,this.props.statusDesc),i.createElement("td",null,i.createElement("button",{className:"btn btn-sm btn-danger",onClick:this.props.onRemoveItem.bind(null,this.props),style:{cursor:"pointer"}},"删除")))},_classNames:function(){return m({item:!0,over:this.props.isOver})}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(199),o=n(4),s=(n(16),n(8)),l=n(2),u=l.domain.cms,c=n(3);a=r.createStore({listenables:i,getDefaultFilter:function(){return{serviceId:""}},getPickFiled:function(){return["name","pic","status","subjectDesc"]},createOrUpdate:function(e,t,n){var a=this,r="专题创建成功";"update"===t&&(r="专题修改成功");var i=u+"/subject/addOrEditSubject",o=function(e){1e3===e.responseCode?(a.trigger({type:"create",data:!0}),c.success({message:r})):c.fail({message:e.errorMsg})};s(i,e,o)},onQueryById:function(e){var t=this,n=u+"/subject/selectSubjectById",a=function(e){1e3===e.responseCode&&t.trigger({type:"detail",data:o.assign(e.data)})};s(n,{id:e},a,"GET")},onCreate:function(e){var t=o.pick(e,["filter"]),n=o.pick(e,this.getPickFiled());this.createOrUpdate(n,"",t)},onUpdate:function(e){var t=o.pick(e,["filter"]),n=o.pick(e,this.getPickFiled().concat(["id"]));this.createOrUpdate(n,"update",t)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(14),o=n(199),s=n(463),l=n(4),u=n(25),c=n(55),d=n(2),m=n(3);a=r.createClass({displayName:"SubjectDetail",mixins:[r.addons.LinkedStateMixin,i.Navigation],getInitialState:function(){return{id:null,name:"",status:0,pic:0,subjectDesc:"",mode:"create",filter:s.getDefaultFilter(),currentPage:void 0}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"detail"===t.type?e.setState(l.assign(e.state,t.data)):"create"===t.type&&e.back()}),this.overlay=$(r.findDOMNode(this.refs.overlay)).hide(),this.props.query.id&&this.setState({mode:"update"},function(){o.queryById(this.props.query.id)}),this.props.query.currentPage&&this.setState(l.assign(this.state,{currentPage:this.props.query.currentPage}))},componentWillUnMount:function(){this.unsubscribe()},queryData:function(e){o.query({filter:this.state.filter})},back:function(){var e="/cms/subject-list";this.state.currentPage&&(e+="?currentPage="+this.state.currentPage),
this.context.router.transitionTo(e)},handleConfirm:function(e){return e.preventDefault(),this.state.pic?(this.state.subjectDesc=this.refs["rich-desc"].getSource(),this.state.subjectDesc?void("create"===this.state.mode?o.create(this.state):o.update(this.state)):void m.fail({message:"请添写专题描述"})):void m.fail({message:"请选择图片"})},render:function(){var e=this;return r.createElement("div",{className:"box"},r.createElement("div",{className:"box-header with-border"},r.createElement("h4",null,"create"===this.state.mode?"添加专题":"修改专题")),r.createElement("form",{ref:"edit-form",onSubmit:this.handleConfirm},"create"===this.state.mode?"":r.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),r.createElement("div",{className:"box-body"},r.createElement("fieldset",null,r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"专题名称"),r.createElement("input",{className:"form-control",type:"text",required:!0,name:"name",valueLink:this.linkState("name"),placeholder:"名称"}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"专题图片"),r.createElement("div",{className:"col-sm-10"},r.createElement(u,{name:"pic",imageUrl:this.state.pic,uploadField:"filedata",uploadUrl:d.domain.cms+"/pic/upload",onChange:function(t){return e.state.pic=t.imageUrl}})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"专题描述"),r.createElement(c,{ref:"rich-desc",source:this.state.subjectDesc}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"状态"),r.createElement("select",{className:"form-control",value:this.state.status,onChange:function(t){return e.setState({status:t.target.value})}},r.createElement("option",{key:"1",value:"1"},"已上架"),r.createElement("option",{key:"0",value:"0"},"已下架"),"}"))))),r.createElement("div",{className:"box-footer"},r.createElement("div",{className:"row"},r.createElement("input",{type:"submit",className:"btn btn-primary col-sm-offset-2 col-sm-3",value:"提交"}),r.createElement("input",{type:"button",className:"btn btn-info col-sm-offset-2 col-sm-3",value:"返回",onClick:this.back})))),r.createElement("div",{ref:"overlay",className:"overlay"},r.createElement("i",{className:"fa fa-refresh fa-spin"})))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(200),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.cms,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{isPage:!0,serviceId:null,name:"",location:0}},onQuery:function(e){var t=this,n=c+"/recommend/selectTabApp",a=function(n){1e3===n.responseCode?t.trigger({type:"list",filter:e.filter,data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}}):d.fail({message:n.errorMsg})},r=e.filter;r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onSave:function(e){var t=this,n=c+"/recommend/edit",a=function(e){1e3===e.responseCode?(d.success({message:"保存成功"}),t.trigger({type:"save",data:!0})):d.fail({message:e.errorMsg})};l(n,e,a)}}),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r,i=n(5),o=n(7),s=n(12),l=n(200),u=n(465),c=n(64),d=n(27),m=n(31),f=n(4),p=n(3);n(33),a=i.createClass({displayName:"TabApp",getInitialState:function(){return{data:u.getDefaultData(),filter:f.assign(u.getDefaultFilter(),{location:this.props.query.location||1})}},handleOperation:function(e,t){var n=$(i.findDOMNode(this.refs.save)),a=$(i.findDOMNode(this.refs.create)),r=$(i.findDOMNode(this.refs.enbaleSort)),o=$(i.findDOMNode(this.refs.sortable)),s=$(i.findDOMNode(this.refs.table)),u=$(i.findDOMNode(this.refs.cancle));if(e?(n.show(),a.show(),r.hide(),o.show(),s.hide(),u.show()):(n.hide(),a.hide(),r.show(),o.hide(),s.show(),u.hide()),t){var c=!0;e&&(c=!1),l.query({data:f.assign(this.state.data,{currentPage:0}),filter:f.assign(this.state.filter,{isPage:c})})}},componentDidMount:function(){var e=this;this.unsubscribe=u.listen(function(t){"list"===t.type?e.setState({data:f.assign(t.data,{list:t.data.list.map(function(e,t){return e.index=t+1,e})})}):"save"===t.type&&t.data&&e.handleOperation(!1,!0)}),this.handleOperation(!1,!1)},componentWillUnMount:function(){this.unsubscribe()},componentWillReceiveProps:function(e){this.setState({filter:f.assign(this.state.filter,{location:e.query.location})},function(){l.query({data:f.assign(this.state.data,{currentPage:0}),filter:this.state.filter})})},filterData:function(e){this.setState({filter:f.assign(this.state.filter,e)},function(){l.query({data:f.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){l.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.refs.picker.show()},selected:function(e,t){(0===t||void 0===t)&&(t=!0);var n=f.findIndex(this.state.data.list,function(t){return t.serviceId===e.serviceId});return n>-1?void(t&&p.fail({message:"应用"+e.serviceId+"已在列表中"})):(this.state.data.list.push({serviceId:e.serviceId,appName:e.appName,icon:e.appIcon,typeName:e.appType1Str,merchantName:e.merchantName,statusStr:e.statusStr}),this.setState({data:f.assign(this.state.data,{list:this.state.data.list.map(function(e,t){return e.index=t+1,e})})}),void(t&&this.refs.picker.hide()))},batchSelect:function(e){var t=this;e.forEach(function(e){t.selected(e,!1)}),this.refs.picker.hide()},handleSorted:function(e){this.setState({data:f.assign(this.state.data,{list:e.map(function(e,t){return e.index=t+1,e})})})},removeItem:function(e){var t=f.findIndex(this.state.data.list,function(t){return t.serviceId===e.serviceId});f.pullAt(this.state.data.list,t);this.setState({data:f.assign(this.state.data,{list:this.state.data.list.map(function(e,t){return e.index=t+1,e})})})},enbaleSort:function(){this.handleOperation(!0,!1)},save:function(){var e=this.state.data.list.map(function(e){return e.serviceId});l.save({location:parseInt(this.state.filter.location),serviceIds:e})},cancle:function(){this.handleOperation(!1,!0)},render:function(){return i.createElement("div",{className:"box"},i.createElement(c,{ref:"picker",allowMutilSelect:!0,onBatchSelect:this.batchSelect,onSelected:this.selected}),i.createElement(s,{filters:[{name:"应用ID",field:"serviceId"},{name:"应用名称",field:"name"}],onFilterData:this.filterData}),i.createElement("div",{className:"box-footer clearfix"},i.createElement("div",{className:"col-sm-3 col-sm-offset-3"},i.createElement("button",{ref:"create",className:"btn btn-primary btn-block",onClick:this.create},"添加")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"save",className:"btn btn-success btn-block",onClick:this.save},"保存")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{ref:"cancle",className:"btn btn-default btn-block",onClick:this.cancle},"取消"),i.createElement("button",{ref:"enbaleSort",className:"btn btn-default btn-block",onClick:this.enbaleSort},"编辑"))),i.createElement(o,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"应用ID",field:"serviceId"},{name:"应用名称",field:"appName"},{name:"ICON",field:"icon",value:function(e){return i.createElement("img",{className:"preview",src:e.icon})}},{name:"类型",field:"typeName"},{name:"开发商全称",field:"merchantName"},{name:"状态",field:"statusStr"}]}),i.createElement("div",{className:"box-body clearfix"},i.createElement(m,{ref:"sortable",container:"table",className:"table table-bordered table-hover text-center sortedCollection",collection:this.state.data.list,onSorted:this.handleSorted,thead:[{name:"排序"},{name:"应用ID"},{name:"应用名称"},{name:"ICON"},{name:"类型"},{name:"开发商全称"},{name:"状态"},{name:"操作"}]},i.createElement(r,{onRemoveItem:this.removeItem}))))}}),r=i.createClass({displayName:"SortableItem",render:function(){return i.createElement("tr",{className:this._classNames()},i.createElement("td",null,this.props.index),i.createElement("td",null,this.props.serviceId),i.createElement("td",null,this.props.appName),i.createElement("td",null,i.createElement("img",{className:"preview",src:this.props.icon})),i.createElement("td",null,this.props.typeName),i.createElement("td",null,this.props.merchantName),i.createElement("td",null,this.props.statusStr),i.createElement("td",null,i.createElement("button",{className:"btn btn-sm btn-danger",onClick:this.props.onRemoveItem.bind(null,this.props),style:{cursor:"pointer"}},"删除")))},_classNames:function(){return d({item:!0,over:this.props.isOver})}}),e.exports=a},function(e,t,n){"use strict";e.exports={STORAGE_KEY:"bqauth"}},function(e,t,n){"use strict";var a={backoffice:"http://backoffice.qianbao666.com",qbao:"http://backoffice.qianbao666.com",order:"http://ocba.qbao.com",goods:"http://goodsba.qbao.com",task:"http://taskba.qbao.com",market:"http://storeba.domestore.cn",local:"http://local.qbao.com:8000",square:"https://mp.qbao.com",weixin:"http://wxba.qbao.com",pay:"http://pay.qbao.com",enterprise:"http://enba.qbao.com",usercenter:"http://ucba.qbao.com",events:"http://eventsba.qbao.com",root:"domestore.cn",sdkba:"http://openba.domestore.cn",cms:"http://appba.domestore.cn",publish:"http://publishba.domestore.cn"};e.exports=a},function(e,t,n){"use strict";e.exports={getParam:function(e){var t=(RegExp(e+"=(.+?)(&|$)").exec(location.hash)||[,null])[1];return decodeURIComponent(t)}}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function D(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:D(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=(a(n(12)),a(n(7))),p=a(n(13)),h=a(n(471)),g=a(n(202)),v=a(n(9)),y=a(n(3)),b=(a(n(2)),function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=h.getInitialState(),this.state.id=n.router.getCurrentQuery().id}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;h.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)}),g.get({id:this.state.id})}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(h.getDefaultItem())}},showUpdate:{value:function(e){g.get(e)}},showDelete:{value:function(e){v.warning({message:"是否删除奖励发放 "+e.name,onConfirm:g["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){g.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return _.isEmpty(e.beginDate)?(y.fail({message:"请输入起止时间"}),!1):!0}},render:{value:function(){var e=this;return u.createElement("div",{className:"box"},u.createElement("div",{className:"box-header"},u.createElement("h3",{className:"box-title"}),u.createElement("button",{className:"btn btn-info pull-right",onClick:function(){return e.context.router.transitionTo("/market/award-list")}},"返回")),u.createElement(f,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"活动日期",field:"name"},{name:"发放人数",field:"appId"},{name:"宝券数量",field:"appName"},{name:"累计发放人数",field:"qbCur"},{name:"累计发放宝券数量",field:"award"},{name:"发放时间",field:"beginDateStr"}]}),u.createElement(p,{ref:"dialog",title:"奖励发放",items:[{field:"name",name:"活动名称",maxLength:50,required:!0},{field:"appId",name:"游戏ID",required:!0},{type:"date",startField:"beginDate",endField:"endDate",format:"YYYY-MM-DD HH:mm:ss",name:"起止时间",required:!0},{field:"openId",name:"开放平台对应商户ID",required:!0},{field:"openAppId",name:"开放平台对应应用ID",required:!0},{type:"number",field:"qbCur",min:0,name:"消费条件(钱宝币)",required:!0},{type:"number",field:"award",min:0,name:"奖励(宝券)",required:!0},{type:"select",field:"isRepeat",name:"是否重复发送",options:[{name:"否",value:"0"},{name:"是",value:"1"}]}],onCheck:this.checkInput.bind(this),onCreate:g.create.bind(this,this.state),onUpdate:g.update.bind(this,this.state)}))}}}),t}(c));e.exports=b,b.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(202)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{type:"select",field:"publish",name:"活动状态",options:[{name:"全部活动",value:""},{name:"已上架",value:"1"},{name:"已下架",value:"0"}]},{type:"date",startField:"beginDateStr",endField:"endDateStr",name:"起止时间",format:"YYYY-MM-DD"},{field:"name",name:"游戏ID或名称"}]},getDefaultItem:function(){return{name:"",openId:"",openAppId:"",qbCur:"",award:"",beginDate:"",endDate:"",appId:"",isRepeat:0}},onCreate:function(e,t){var n=l.domain.market+"/app/coupon/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"添加奖励发放配置成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["name","openId","openAppId","qbCur","award","beginDate","endDate","appId","isRepeat"]);s(n,r,a)},onQuery:function(e){var t=this;this.trigger({data:{list:[{id:1,name:"1"}],totalCount:100,perPage:20,currentPage:3}});var n=l.domain.market+"/app/coupon/selectPaged",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.aaData,totalCount:n.data.itotalRecords,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})},r=_.pick(_.pick(e,["name","publish","beginDateStr","endDateStr"]),function(e){return!_.isEmpty(e)});r.pageNo=e.currentPage+1,r.pageSize=e.perPage,s(n,r,a)},onUpdate:function(e,t){var n=l.domain.market+"/app/coupon/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"修改奖励发放配置成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["id","name","openId","openAppId","qbCur","award","beginDate","endDate","appId","isRepeat"]);s(n,r,a)},onDelete:function(e,t){var n=l.domain.market+"/app/coupon/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"删除奖励发放配置成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=(l.domain.market+"/app/coupon/publish",{id:t.id,publish:1}),a=function(t){1e3===t.responseCode?(o.success({message:"奖励配置上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(rul,n,a)},onDeactive:function(e,t){var n=l.domain.market+"/app/coupon/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(o.success({message:"奖励配置下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/coupon/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function M(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:M(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(473)),v=a(n(203)),y=a(n(9)),b=a(n(3)),D=(a(n(2)),a(n(26))),E=function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)}),D.loadState(this)}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){v.get(e)}},showDelete:{value:function(e){y.warning({message:"是否删除奖励发放 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){D.saveState(this),this.context.router.transitionTo("/market/award-history",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return _.isEmpty(e.beginDate)?(b.fail({message:"请输入起止时间"}),!1):!0}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onFilterData:this.filterData.bind(this),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"排序",field:"rank"},{name:"活动名称",field:"name"},{name:"游戏ID",field:"appId"},{name:"游戏名称",field:"appName"},{name:"消费条件(钱宝币)",field:"qbCur"},{name:"奖励(宝券)",field:"award"},{name:"开始时间",field:"beginDateStr"},{name:"结束时间",field:"endDateStr"},{name:"状态",field:"status",value:function(e){switch(e.status){case"1":return"已上架";case"0":return"已下架";case"2":return"已到期"}}}],operations:[{name:"上架",icon:"success",disabled:function(e){return"0"!==e.status},callback:v.active.bind(this,this.state)},{name:"下架",icon:"warning",disabled:function(e){return"1"!==e.status},callback:v.deactive.bind(this,this.state)},{name:"编辑",icon:"info",callback:this.showUpdate.bind(this)},{name:"删除",icon:"danger",callback:this.showDelete.bind(this)},{name:"发放记录",icon:"default",callback:this.showHistory.bind(this),disabled:function(){return!0}}]}),u.createElement(h,{ref:"dialog",title:"奖励发放",items:[{field:"name",name:"活动名称",maxLength:50,required:!0},{field:"appId",name:"游戏ID",required:!0},{type:"number",field:"rank",name:"排序",required:!0,min:0},{type:"select",field:"iconFlag",name:"小图标",options:[{value:"0",name:"无"},{value:"1",name:"最新"},{value:"2",name:"最热"}]},{type:"date",startField:"iconExpireTime",timePicker:!0,format:"YYYY-MM-DD HH:mm:ss",name:"标识下架时间"},{type:"date",startField:"beginDate",endField:"endDate",format:"YYYY-MM-DD HH:mm:ss",name:"起止时间",required:!0},{field:"openId",name:"开放平台对应商户ID",required:!0},{field:"openAppId",name:"开放平台对应应用ID",required:!0},{type:"number",field:"qbCur",min:0,name:"消费条件(钱宝币)",required:!0},{type:"number",field:"award",min:0,name:"奖励(宝券)",required:!0},{type:"select",field:"isRepeat",name:"是否重复发送",options:[{name:"否",value:"0"},{name:"是",value:"1"}]}],onCheck:this.checkInput.bind(this),onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=E,E.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(203)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{type:"select",field:"publish",name:"活动状态",options:[{name:"全部活动",value:""},{name:"已上架",value:"1"},{name:"已下架",value:"0"}]},{type:"date",startField:"beginDateStr",endField:"endDateStr",name:"起止时间",format:"YYYY-MM-DD"},{field:"name",name:"游戏ID或名称"}]},getDefaultItem:function(){return{name:"",openId:"",openAppId:"",qbCur:"",award:"",beginDate:"",endDate:"",appId:"",isRepeat:0,rank:0,iconFlag:0,iconExpireTime:""}},onCreate:function(e,t){var n=l.domain.market+"/app/coupon/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"添加奖励发放配置成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["name","openId","openAppId","qbCur","award","beginDate","endDate","appId","isRepeat","rank","iconFlag","iconExpireTime"]);s(n,r,a)},onQuery:function(e){var t=this,n=l.domain.market+"/app/coupon/selectPaged",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.aaData,totalCount:n.data.itotalRecords,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})},r=_.pick(_.pick(e,["name","publish","beginDateStr","endDateStr"]),function(e){return!_.isEmpty(e)});r.pageNo=e.currentPage+1,r.pageSize=e.perPage,s(n,r,a)},onUpdate:function(e,t){var n=l.domain.market+"/app/coupon/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"修改奖励发放配置成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["id","name","openId","openAppId","qbCur","award","beginDate","endDate","appId","isRepeat","rank","iconFlag","iconExpireTime"]);s(n,r,a)},onDelete:function(e,t){var n=l.domain.market+"/app/coupon/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"删除奖励发放配置成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/app/coupon/publish",a={id:t.id,publish:1},r=function(t){1e3===t.responseCode?(o.success({message:"奖励配置上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/app/coupon/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(o.success({message:"奖励配置下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/coupon/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function M(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:M(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(475)),v=a(n(204)),y=a(n(9)),b=a(n(3)),D=(a(n(2)),a(n(26))),E=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=g.getInitialState(),this.state.mode="create"}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)}),D.loadState(this)}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){var e=this;this.setState({mode:"create"},function(){e.refs.dialog.create(g.getDefaultItem())})}},showUpdate:{value:function(e){var t=this;this.setState({mode:"update"},function(){t.refs.dialog.update(e)})}},showDelete:{value:function(e){y.warning({message:"是否删除浏览送红包机会 "+e.activityName,onConfirm:v["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){D.saveState(this),this.context.router.transitionTo("/market/share-history",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return _.isEmpty(e.beginTime)?(b.fail({message:"请输入起止时间"}),!1):!0}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onFilterData:this.filterData.bind(this),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"活动ID",field:"id"},{name:"活动名称",field:"activityName"},{name:"概率",field:"probability"},{name:"活跃值",field:"leastActive"},{name:"奖励红包机会数",field:"winNum"},{name:"最低收集数",field:"leastNum"},{name:"开始时间",field:"beginTime"},{name:"结束时间",field:"endTime"},{name:"状态",field:"status",value:function(e){switch(e.status){case 1:return"已上架";case 0:return"已下架"}}}],operations:[{name:"上架",icon:"success",disabled:function(e){return 0!==e.status},callback:v.active.bind(this,this.state)},{name:"下架",icon:"warning",disabled:function(e){return 1!==e.status},callback:v.deactive.bind(this,this.state)},{name:"编辑",icon:"info",disabled:function(e){return 0!==e.status},callback:this.showUpdate.bind(this)},{name:"删除",icon:"danger",disabled:function(e){return 0!==e.status},callback:this.showDelete.bind(this)},{name:"历史查询",icon:"primary",callback:this.showHistory.bind(this),disabled:function(e){return!0}}]}),u.createElement(h,{ref:"dialog",title:"浏览送红包机会",useFormData:!0,items:[{field:"activityName",name:"活动名称",maxLength:50,required:!0},{type:"date",startField:"beginTime",endField:"endTime",format:"YYYY-MM-DD HH:mm:ss",name:"起止时间",disable:"update"===this.state.mode},{field:"leastActive",name:"活跃值",type:"number",min:0,required:!0},{field:"probability",name:"中奖概率(%)",type:"number",step:"0.01",min:0,required:!0},{type:"number",field:"leastNum",name:"最低收集个数",min:0,required:!0,readOnly:"update"===this.state.mode},{type:"number",field:"winNum",name:"奖励红包机会数",min:0,required:!0,readOnly:"update"===this.state.mode},{type:"image",field:"bannerPic",urlField:"bannerPicUrl",name:"Banner图"},{type:"image",field:"activityIcon",urlField:"activityIconUrl",name:"活动图标"},{type:"rich",field:"activityDesc",name:"活动说明"},{type:"rich",field:"activityRule",name:"活动规则"},{type:"rich",field:"activityAttention",name:"注意事项"},{type:"hidden",field:"activityDescId"},{type:"hidden",field:"activityRuleId"},{type:"hidden",field:"activityAttentionId"}],onCheck:this.checkInput.bind(this),onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=E,E.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(204)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{type:"select",field:"status",name:"活动状态",options:[{name:"全部活动",value:""},{name:"已上架",value:"1"},{name:"已下架",value:"0"}]},{type:"date",startField:"beginTime",endField:"endTime",name:"起止时间",format:"YYYY-MM-DD HH:mm:ss"},{field:"activityName",name:"活动名称"}]},getDefaultItem:function(){return{name:"",gameId:"",softId:"",beginDate:"",endDate:"",ipCount:0,activeUpper:0,awardUpper:0,activeFloor:0,awardFloor:0,awardLimit:0,attentionDesc:"",ruleDesc:"",awardDesc:"",createTime:"",updateTime:"",publish:0}},onCreate:function(e,t){var n=l.domain.market+"/web/browseBonusActivity/insertOrUpdate.do",a=t,r=function(t){1e3===t.responseCode?(o.success({message:"添加浏览送红包机会成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onQuery:function(e){var t=this,n=l.domain.market+"/web/browseBonusActivity/list.do",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})},r=_.pick(_.pick(e,["status","beginTime","endTime","activityName"]),function(e){return!_.isEmpty(e)});r.pageno=e.currentPage+1,r.pagesize=e.perPage,s(n,r,a)},onUpdate:function(e,t){var n=l.domain.market+"/web/browseBonusActivity/insertOrUpdate.do",a=t,r=function(t){1e3===t.responseCode?(o.success({message:"修改浏览送红包成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onDelete:function(e,t){var n=l.domain.market+"/web/browseBonusActivity/deleteById.do",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"删除浏览送红包机会成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/web/browseBonusActivity/publish.do",a={id:t.id,status:1},r=function(t){1e3===t.responseCode?(o.success({message:"浏览送红包机会上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/web/browseBonusActivity/publish.do",a={id:t.id,status:0},r=function(t){1e3===t.responseCode?(o.success({message:"浏览送红包机会下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/web/browseBonusActivity/queryForBean.do",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function D(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:D(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(206)),v=a(n(205)),y=a(n(9)),b=a(n(2)),_=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)})}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否删除游戏资讯 "+e.title,onConfirm:v["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onFilterData:this.filterData.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"时间",field:"startTime"},{name:"类型",field:"type",value:function(e){switch(e.type){
case 1:return"消费";case 2:return"奖励"}}},{name:"游戏名称",field:"title"},{name:"用户名",field:"createTime"},{name:"钱宝币",field:"resource"},{name:"宝券",field:"bq"},{name:"活动",field:"activity"}]}),u.createElement(h,{ref:"dialog",title:"游戏资讯",items:[{type:"select",field:"type",name:"分类",options:[{name:"请选择",value:""},{name:"新闻",value:"1"},{name:"公告",value:"2"},{name:"活动",value:"3"}],required:!0},{field:"title",name:"标题",maxLength:50,required:!0},{field:"resource",name:"来源",required:!0},{type:"url",field:"outUrl",name:"外部链接"},{type:"rich",field:"detail",name:"详情",upImgUrl:b.domain.market+"/pic/upload"}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=_},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function M(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:M(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(478)),v=a(n(207)),y=a(n(9)),b=a(n(3)),D=(a(n(2)),a(n(26))),E=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)}),D.loadState(this)}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){e.beginDate=e.start,e.endDate=e.end,this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否删除奖励发放 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){D.saveState(this),this.context.router.transitionTo("/market/download-history",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return _.isEmpty(e.gameId)&&_.isEmpty(e.softId)?(b.fail({message:"请输入游戏ID或者软件ID"}),!1):_.isEmpty(e.beginDate)?(b.fail({message:"请输入起止时间"}),!1):parseInt(e.perCoupon,10)>parseInt(e.totalCoupon,10)?(b.fail({message:""}),!1):!0}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onFilterData:this.filterData.bind(this),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"ID",field:"id"},{name:"活动名称",field:"name"},{name:"相关游戏",field:"gameNames",value:function(e){return u.createElement("div",null,e.gameNames.split(",").map(function(e,t){return u.createElement("p",{key:t},e)}))}},{name:"相关软件",field:"softNames",value:function(e){return u.createElement("div",null,e.softNames.split(",").map(function(e,t){return u.createElement("p",{key:t},e)}))}},{name:"活跃值",field:"activeValue"},{name:"送宝券",field:"perCoupon"},{name:"单日最多",field:"totalCoupon"},{name:"开始时间",field:"start"},{name:"结束时间",field:"end"},{name:"状态",field:"publish",value:function(e){switch(e.publish){case 1:return"已上架";case 0:return"已下架";case 2:return"已到期"}}}],operations:[{name:"上架",icon:"success",disabled:function(e){return 0!==e.publish},callback:v.active.bind(this,this.state)},{name:"下架",icon:"warning",disabled:function(e){return 1!==e.publish},callback:v.deactive.bind(this,this.state)},{name:"编辑",icon:"info",callback:this.showUpdate.bind(this)},{name:"删除",icon:"danger",callback:this.showDelete.bind(this)},{name:"历史查询",icon:"primary",callback:this.showHistory.bind(this)}]}),u.createElement(h,{ref:"dialog",title:"下载安装送宝券",items:[{field:"name",name:"活动名称",maxLength:50,required:!0},{field:"gameId",name:"相关游戏",placeholder:'支持多个游戏ID，中间用","隔开'},{field:"softId",name:"相关软件",placeholder:'支持多个软件ID，中间用","隔开'},{type:"date",startField:"beginDate",endField:"endDate",format:"YYYY-MM-DD HH:mm:ss",name:"起止时间",required:!0},{type:"number",field:"perCoupon",min:0,name:"单次安装送宝券",required:!0},{type:"number",field:"totalCoupon",min:0,name:"每日累计最多送",required:!0},{type:"number",field:"activeValue",min:0,name:"活跃值大于等于",required:!0},{type:"number",field:"lastId",name:"上期活动ID"},{type:"rich",field:"ruleDesc",name:"活动规则描述"},{type:"rich",field:"awardDesc",name:"奖励规则描述"},{type:"rich",field:"attentionDesc",name:"注意事项描述"}],onCheck:this.checkInput.bind(this),onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=E,E.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(207)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{type:"select",field:"publish",name:"活动状态",options:[{name:"全部活动",value:""},{name:"已上架",value:"1"},{name:"已下架",value:"0"}]},{type:"date",startField:"start",endField:"end",name:"起止时间",format:"YYYY-MM-DD"},{field:"search",name:"游戏ID或名称"}]},getDefaultItem:function(){return{name:"",openId:"",openAppId:"",qbCur:"",award:"",beginDate:"",endDate:"",appId:"",isRepeat:0,lastId:"",ruleDesc:"",awardDesc:"",attentionDesc:""}},onCreate:function(e,t){var n=l.domain.market+"/app/downcouponconf/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"添加下载奖励成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["name","gameId","softId","perCoupon","totalCoupon","activeValue","endDate","beginDate","endDate","lastId","ruleDesc","awardDesc","attentionDesc"]);s(n,r,a)},onQuery:function(e){var t=this,n=l.domain.market+"/app/downcouponconf/query",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})},r=_.pick(_.pick(e,["publish","start","end","search"]),function(e){return!_.isEmpty(e)});r.currentPage=e.currentPage+1,r.pageSize=e.perPage,s(n,r,a)},onUpdate:function(e,t){var n=l.domain.market+"/app/downcouponconf/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"修改下载奖励成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["id","name","gameId","softId","perCoupon","totalCoupon","activeValue","endDate","beginDate","endDate","lastId","ruleDesc","awardDesc","attentionDesc"]);s(n,r,a)},onDelete:function(e,t){var n=l.domain.market+"/app/downcouponconf/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"删除下载奖励成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/app/downcouponconf/publish",a={id:t.id,publish:1},r=function(t){1e3===t.responseCode?(o.success({message:"下载奖励上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/app/downcouponconf/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(o.success({message:"下载奖励下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/coupon/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function D(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:D(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(126)),v=a(n(125)),y=a(n(9)),b=a(n(2)),_=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)})}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否删除游戏资讯 "+e.title,onConfirm:v["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onFilterData:this.filterData.bind(this)}),u.createElement(p,{disableAutoLoad:this,onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"时间",field:"sendTime"},{name:"相关游戏/软件",field:"appName",value:function(e){return u.createElement("div",null,e.apps.map(function(e,t){return u.createElement("p",{key:t},e.appName)}))}},{name:"下载时间",field:"downTime",value:function(e){return u.createElement("div",null,e.apps.map(function(e,t){return u.createElement("p",{key:t},e.downTime)}))}},{name:"安装时间",field:"installTime",value:function(e){return u.createElement("div",null,e.apps.map(function(e,t){return u.createElement("p",{key:t},e.installTime)}))}},{name:"宝券",field:"bqAmount"},{name:"活动",field:"activityName"}]}),u.createElement(h,{ref:"dialog",title:"游戏资讯",items:[{type:"select",field:"type",name:"分类",options:[{name:"请选择",value:""},{name:"新闻",value:"1"},{name:"公告",value:"2"},{name:"活动",value:"3"}],required:!0},{field:"title",name:"标题",maxLength:50,required:!0},{field:"resource",name:"来源",required:!0},{type:"url",field:"outUrl",name:"外部链接"},{type:"rich",field:"detail",name:"详情",upImgUrl:b.domain.market+"/pic/upload"}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=_},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function M(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:M(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(208)),v=a(n(127)),y=a(n(9)),b=a(n(3)),D=(a(n(2)),a(n(26))),E=function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=g.getInitialState(),this.state.id=n.router.getCurrentQuery().id}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.setState(t.item)}),v.get({id:this.state.id})}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){e.beginDate=e.start,e.endDate=e.end,this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否删除奖励发放 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){D.saveState(this),this.context.router.transitionTo("/store/category-detail",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return _.isEmpty(e.month)?(b.fail({message:"请输入查询月份"}),!1):!0}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement("div",{className:"box-header"},u.createElement("h4",{style:{display:"inline-block"}},this.state.name," "),u.createElement("span",null," ",this.state.beginDate," - ",this.state.endDate)),u.createElement(f,{autoFilter:!0,filters:g.getDataFilter(),onFilterData:this.filterData.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),disableAutoLoad:!0,data:this.state,dataMap:[{name:"奖励发放时间",field:"sendTime"},{name:"发放人数",field:"count"},{name:"发放宝券数量",field:"baCount"}]}),u.createElement(h,{ref:"dialog",title:"下载安装送宝券",items:[{field:"name",name:"活动名称",maxLength:50,required:!0},{field:"gameId",name:"相关游戏",placeholder:'支持多个游戏ID，中间用","隔开'},{field:"softId",name:"相关软件",placeholder:'支持多个软件ID，中间用","隔开'},{type:"date",startField:"beginDate",endField:"endDate",format:"YYYY-MM-DD HH:mm:ss",name:"起止时间",required:!0},{type:"number",field:"perCoupon",min:0,name:"单次安装送宝券",required:!0},{type:"number",field:"totalCoupon",min:0,name:"每日累计最多送",required:!0},{type:"number",field:"activeValue",min:0,name:"活跃值大于等于",required:!0}],onCheck:this.checkInput.bind(this),onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=E,E.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(124),o=n(82),s=n(85),l=a.createClass({displayName:"FootballCategory",mixins:[r.connect(i,"categories")],getInitialState:function(){return i.getDefaultData()},componentDidMount:function(){o.query({type:"news"}),o.query({type:"images"})},saveData:function(e,t){o.save({type:e,data:t})},render:function(){return a.createElement("div",null,a.createElement(s,{title:"资讯分类",disableSubcategory:!0,categories:this.state.categories.news,onSaveData:this.saveData.bind(null,"news")}),a.createElement(s,{title:"图片分类",disableSubcategory:!0,categories:this.state.categories.images,onSaveData:this.saveData.bind(null,"images")}))}});e.exports=l},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(14),o=(n(4),n(7)),s=n(25),l=n(9),u=(n(2),n(483)),c=n(209),d=n(124),m=n(82),f=a.createClass({displayName:"EditDialog",mixins:[a.addons.LinkedStateMixin,r.connect(d,"data")],getInitialState:function(){return $.extend(u.getDefaultItem(),{data:d.getDefaultData().categories})},handleConfirm:function(e){e.preventDefault();var t=new FormData(a.findDOMNode(this.refs["edit-form"]));"create"===this.state.mode?this.props.onCreate(t):this.props.onUpdate(t),this.dialog.modal("hide")},create:function(){this.setState($.extend({},u.getDefaultItem(),{mode:"create"}),function(){this.dialog.modal("show")}.bind(this))},update:function(e){this.setState($.extend({},e,{mode:"update"}),function(){this.dialog.modal("show")}.bind(this))},componentDidMount:function(){this.dialog=$(a.findDOMNode(this.refs["edit-dialog"])),this.dialog.on("hidden.bs.modal",function(){this.refs["image-uploader"].clearImage()}.bind(this)),m.query({type:"images"})},render:function(){return a.createElement("div",{className:"modal fade",ref:"edit-dialog"},a.createElement("div",{className:"modal-dialog modal-lg"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},a.createElement("span",null,"×")),a.createElement("h4",{className:"modal-title"},"create"===this.state.mode?"添加游戏图片":"修改游戏图片")),a.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},"create"===this.state.mode?"":a.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"分类"),a.createElement("div",{className:"col-sm-10"},a.createElement("select",{className:"form-control",name:"categoryId",valueLink:this.linkState("categoryId")},this.state.data.images.map(function(e){return a.createElement("option",{key:e.id,value:e.id},e.name)})))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"标题"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control",type:"text",required:!0,maxLength:"30",name:"title",valueLink:this.linkState("title"),placeholder:"标题"}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"图片"),a.createElement("div",{className:"col-sm-10"},a.createElement(s,{ref:"image-uploader",name:"picFile",imageUrl:this.state.url}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"是否设为封面"),a.createElement("div",{className:"col-sm-10"},a.createElement("select",{className:"form-control",name:"folderFlag",valueLink:this.linkState("folderFlag")},a.createElement("option",{value:0},"否"),a.createElement("option",{value:1},"是")))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"图片介绍"),a.createElement("div",{className:"col-sm-10"},a.createElement("textarea",{name:"description",className:"form-control",valueLink:this.linkState("description")})))),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),a.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}),p=a.createClass({displayName:"DataFilter",mixins:[a.addons.LinkedStateMixin,r.connect(d,"data")],getInitialState:function(){return $.extend(u.getFilter(),{data:d.getDefaultData().categories})},componentDidMount:function(){m.query({type:"images"})},render:function(){return a.createElement("div",{className:"data-filter"},a.createElement("div",{className:"box-header"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"图片分类"),a.createElement("select",{className:"form-control",valueLink:this.linkState("categoryId")},a.createElement("option",{value:0},"全部"),this.state.data.images.map(function(e){return a.createElement("option",{key:e.id,value:e.id},e.name)}))),a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"图片标题"),a.createElement("input",{type:"text",className:"form-control",placeholder:"图片标题",valueLink:this.linkState("title")})),a.createElement("div",{className:"col-sm-3"},a.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询")),a.createElement("div",{className:"col-sm-3"},a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.props.onCreateData},"创建"))))}}),h=a.createClass({displayName:"FootballImage",mixins:[r.connect(u,"data"),i.Navigation],getInitialState:function(){return{data:u.getDefaultData(),filter:u.getFilter()}},showCreate:function(){this.refs.dialog.create()},showUpdate:function(e){this.refs.dialog.update(e)},showDelete:function(e){l.warning({message:"是否删除本图片 "+e.title,onConfirm:this.deleteData.bind(null,e)})},createData:function(e){c.create({item:e,filter:this.state.filter,data:this.state.data})},queryData:function(e){c.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},updateData:function(e){c.update({item:e,filter:this.state.filter,data:this.state.data})},deleteData:function(e){c["delete"]({item:e,filter:this.state.filter,data:this.state.data})},render:function(){return a.createElement("div",{className:"box"},a.createElement(p,{onFilterData:this.filterData,onCreateData:this.showCreate}),a.createElement(o,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"分类",field:"categoryName"},{name:"图片",value:function(e){return a.createElement("img",{src:e.thumbUrl,className:"preview"})},field:"thumbUrl"},{name:"标题",field:"title"},{name:"封面",value:function(e){return e.folderFlag?a.createElement("i",{className:"fa fa-check"}):""},field:"folderFlag"},{name:"发布时间",field:"issueTime"}],operations:[{name:"编辑",icon:"primary",callback:this.showUpdate},{name:"删除",icon:"danger",callback:this.showDelete}]}),a.createElement(f,{ref:"dialog",item:this.state.item,onCreate:this.createData,onUpdate:this.updateData}))}});e.exports=h},function(e,t,n){"use strict";var a=n(1),r=n(209),i=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDefaultItem:function(){return{categoryId:0,title:"",picFile:"",url:"",description:"",folderFlag:0}},getFilter:function(){return{title:"",categoryId:0}},onQueryCompleted:function(e){e.list.forEach(function(e){e.thumbUrl=e.url+"?imageView2/1/w/60/h/50"}),this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(14),o=(n(4),n(7)),s=n(25),l=n(9),u=n(2),c=n(485),d=n(210),m=n(124),f=n(82),p=a.createClass({displayName:"EditDialog",mixins:[a.addons.LinkedStateMixin,r.connect(m,"data")],getInitialState:function(){return $.extend(c.getDefaultItem(),{data:m.getDefaultData().categories})},handleConfirm:function(e){e.preventDefault();var t=new FormData(a.findDOMNode(this.refs["edit-form"]));t.append("txt",this.editor.getSource()),"create"===this.state.mode?this.props.onCreate(t):this.props.onUpdate(t),this.refs["image-uploader"].clearImage(),$(a.findDOMNode(this.refs["edit-dialog"])).modal("hide")},create:function(){this.setState($.extend({},c.getDefaultItem(),{mode:"create"}),function(){this.dialog.modal("show"),this.editor.setSource("")})},update:function(e){this.setState($.extend({},e,{mode:"update"}),function(){this.dialog.modal("show"),this.editor.setSource(this.state.txt||"")}.bind(this))},componentDidMount:function(){var e=["Cut","Copy","Paste","Pastetext","Blocktag","Fontface","FontSize","Bold","Italic","Underline","Strikethrough","FontColor","BackColor","SelectAll","Removeformat","Align","List","Outdent","Indent","Link","Unlink","Anchor","Img","Hr","Table","Source","Preview","Print"];this.editor=$(a.findDOMNode(this.refs["rich-editor"])).xheditor({width:"100%",height:400,tools:e.join(","),skin:"default",upMultiple:!0,upImgUrl:u.domain.market+"/pic/upload",upImgExt:"jpg,jpeg,gif,bmp,png,JPG,JPEG,GIF,BMP,PNG",onUpload:function(e){console.warn(e)},html5Upload:!1}),this.dialog=$(a.findDOMNode(this.refs["edit-dialog"])),this.dialog.on("hidden.bs.modal",function(){this.refs["image-uploader"].clearImage()}.bind(this)),f.query({type:"news"})},render:function(){return a.createElement("div",{className:"modal fade",ref:"edit-dialog"},a.createElement("div",{className:"modal-dialog modal-lg"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},a.createElement("span",null,"×")),a.createElement("h4",{className:"modal-title"},"create"===this.state.mode?"添加游戏资讯":"修改游戏资讯")),a.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},"create"===this.state.mode?"":a.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"分类"),a.createElement("div",{className:"col-sm-10"},a.createElement("select",{className:"form-control",name:"categoryId",valueLink:this.linkState("categoryId")},this.state.data.news.map(function(e){return a.createElement("option",{key:e.id,value:e.id},e.name)})))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"标题"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control",type:"text",required:!0,name:"title",maxLength:"50",valueLink:this.linkState("title"),placeholder:"标题"}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"封面图片"),a.createElement("div",{className:"col-sm-10"},a.createElement(s,{ref:"image-uploader",name:"folderFile",imageUrl:this.state.folderUrl}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"来源"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control",required:!0,type:"text",name:"origin",valueLink:this.linkState("origin"),placeholder:"钱宝网"}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"外部链接"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control",type:"url",name:"outsideUrl",valueLink:this.linkState("outsideUrl"),placeholder:"http://www.qbao.com"}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"详情"),a.createElement("div",{className:"col-sm-10"},a.createElement("textarea",{ref:"rich-editor"})))),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),a.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}),h=a.createClass({displayName:"DataFilter",mixins:[a.addons.LinkedStateMixin,r.connect(m,"data")],getInitialState:function(){return $.extend(c.getFilter(),{data:m.getDefaultData().categories})},componentDidMount:function(){f.query({type:"news"})},render:function(){return a.createElement("div",{className:"data-filter"},a.createElement("div",{className:"box-header"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"资讯分类"),a.createElement("select",{className:"form-control",valueLink:this.linkState("categoryId")},a.createElement("option",{value:0},"全部"),this.state.data.news.map(function(e){return a.createElement("option",{key:e.id,value:e.id},e.name)}))),a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"资讯标题"),a.createElement("input",{type:"text",className:"form-control",placeholder:"资讯标题",valueLink:this.linkState("title")})),a.createElement("div",{className:"col-sm-3"},a.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询")),a.createElement("div",{className:"col-sm-3"},a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.props.onCreateData},"创建"))))}}),g=a.createClass({displayName:"FootballNews",mixins:[r.connect(c,"data"),i.Navigation],getInitialState:function(){return{data:c.getDefaultData(),filter:c.getFilter()}},showCreate:function(){this.refs.dialog.create()},showUpdate:function(e){this.refs.dialog.update(e)},showDelete:function(e){l.warning({message:"是否删除本条资讯 "+e.title,onConfirm:this.deleteData.bind(null,e)})},createData:function(e){d.create({item:e,filter:this.state.filter,data:this.state.data})},queryData:function(e){d.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},updateData:function(e){d.update({item:e,filter:this.state.filter,data:this.state.data})},deleteData:function(e){d["delete"]({item:e,filter:this.state.filter,data:this.state.data})},render:function(){return a.createElement("div",{className:"box"},a.createElement(h,{onFilterData:this.filterData,onCreateData:this.showCreate}),a.createElement(o,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"分类",field:"categoryName"},{name:"标题",field:"title"},{name:"发布时间",field:"issueTime"},{name:"来源",field:"origin"}],operations:[{name:"编辑",icon:"primary",callback:this.showUpdate},{name:"删除",icon:"danger",callback:this.showDelete}]}),a.createElement(p,{ref:"dialog",item:this.state.item,onCreate:this.createData,onUpdate:this.updateData}))}});e.exports=g},function(e,t,n){"use strict";var a=n(1),r=n(210),i=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDefaultItem:function(){return{categoryId:0,title:"",folderUrl:"",author:"",outsideUrl:"",origin:"钱宝网",txt:""}},getFilter:function(){return{title:"",categoryId:0}},onQueryCompleted:function(e){this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=n(11),r=n(4),i=n(1),o=n(487),s=n(211),l=a.createClass({displayName:"FootballSetting",mixins:[a.addons.LinkedStateMixin,i.connect(o,"data")],getInitialState:function(){return{data:o.getDefaultData()}},componentDidMount:function(){s.query()},handleChange:function(e,t){e.detail=t.target.value,this.forceUpdate()},handleConfirm:function(e){e.preventDefault(),s.update(this.state.data)},render:function(){var e=r.values(r.groupBy(this.state.data.list,function(e){return e.position}));return a.createElement("div",{className:"box"},a.createElement("div",{className:"box-header with-border"},a.createElement("h4",null,"其他设置")),a.createElement("form",{className:"form-horizontal",ref:"edit-form",onSubmit:this.handleConfirm},a.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),a.createElement("div",{className:"box-body"},e.map(function(e,t){return a.createElement("fieldset",{key:t},a.createElement("legend",null,r.result(r.find(o.getPositionMap(),"position",e[0].position),"name")),e.map(function(e){return a.createElement("div",{key:e.id,className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},e.description),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control",type:0===e.type?"url":"tel",placeholder:e.description,value:e.detail,onChange:this.handleChange.bind(this,e)})))}.bind(this)))}.bind(this))),a.createElement("div",{className:"box-footer"},a.createElement("div",{className:"row text-center"},a.createElement("input",{type:"submit",className:"btn btn-primary",value:"提交"})))))}});e.exports=l},function(e,t,n){"use strict";var a=n(1),r=n(211),i=[{position:1,name:"导航管理"},{position:2,name:"活动Banner管理"},{position:3,name:"游戏系统模块"},{position:4,name:"自媒体管理"}],o=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getFilter:function(){return{planName:"",sellerName:"",planStatus:0,startDate:"",endDate:""}},getPositionMap:function(){return i;
},getDefaultItem:function(){return{partnerId:0,name:"",img:"",urlGoto:""}},onQueryCompleted:function(e){this.trigger(e)}});e.exports=o},function(e,t,n){"use strict";var a=n(11),r=n(1),i=(n(2),n(489)),o=n(212),s=n(7),l=n(25),u=n(9),c=a.createClass({displayName:"EditDialog",mixins:[a.addons.LinkedStateMixin],getInitialState:function(){return i.getDefaultItem()},handleConfirm:function(e){e.preventDefault();var t=new FormData(a.findDOMNode(this.refs["edit-form"]));"create"===this.state.mode?this.props.onCreate(t):this.props.onUpdate(t),$(a.findDOMNode(this.refs["edit-dialog"])).modal("hide")},create:function(e){this.setState($.extend({},i.getDefaultItem(),{mode:"create",platform:e}),function(){$(a.findDOMNode(this.refs["edit-dialog"])).modal("show")})},update:function(e){this.setState($.extend({},e,{mode:"update"}),function(){this.dialog.modal("show")}.bind(this))},componentDidMount:function(){this.dialog=$(a.findDOMNode(this.refs["edit-dialog"]))},changeUrl:function(e){this.setState({url:e.target.value.toLowerCase()})},render:function(){return a.createElement("div",{className:"modal fade edit-dialog",ref:"edit-dialog"},a.createElement("div",{className:"modal-dialog modal-lg"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},a.createElement("span",null,"×")),a.createElement("h4",{className:"modal-title"},"create"===this.state.mode?"添加友情链接":"修改友情链接")),a.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},"create"===this.state.mode?"":a.createElement("input",{type:"hidden",name:"id",value:this.state.id}),a.createElement("input",{type:"hidden",name:"siteId",value:"1"}),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"分类"),a.createElement("div",{className:"col-sm-10"},a.createElement("select",{className:"form-control",name:"type",disabled:"create"!==this.state.mode,valueLink:this.linkState("type")},a.createElement("option",{value:"1"},"文字链接"),a.createElement("option",{value:"2"},"图片链接")))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"链接关键字"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{type:"text",className:"form-control",maxLength:"20",name:"name",placeholder:"链接关键字",valueLink:this.linkState("name")}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"排序"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control",min:"0",name:"sort",type:"number",placeholder:"0",valueLink:this.linkState("sort")}))),"2"===this.state.type?a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"图片上传(120X40)"),a.createElement("div",{className:"col-sm-10"},a.createElement(l,{ref:"image-uploader",name:"pic",imageUrl:this.state.picUrl}))):"",a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"链接地址"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control",required:!0,type:"url",name:"url",placeholder:"http://www.qbao.com",onChange:this.changeUrl,value:this.state.url})))),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),a.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}),d=a.createClass({displayName:"DataFilter",mixins:[a.addons.LinkedStateMixin],getInitialState:function(){return i.getFilter()},render:function(){return a.createElement("div",null,a.createElement("div",{className:"box-header"},a.createElement("div",{className:"col-sm-3 box-title"},a.createElement("h4",null,"友情链接")),a.createElement("div",{className:"col-sm-offset-6 col-sm-3"},a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.props.onCreateData},"创建"))))}}),m=a.createClass({displayName:"FriendsLink",mixins:[r.connect(i,"data")],getInitialState:function(){return i.getDefaultData()},showCreate:function(){this.refs.dialog.create()},showUpdate:function(e){this.refs.dialog.update(e)},showDelete:function(e){u.warning({message:"是否删除此友情链接 "+e.name,onConfirm:this.deleteData.bind(null,e)})},queryData:function(e){o.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},createData:function(e){o.create({item:e,filter:this.state.filter,data:this.state.data})},updateData:function(e){o.update({item:e,filter:this.state.filter,data:this.state.data})},deleteData:function(e){o["delete"]({item:e,filter:this.state.filter,data:this.state.data})},render:function(){return a.createElement("div",{className:"box"},a.createElement(d,{onFilterData:this.filterData,onCreateData:this.showCreate}),a.createElement(s,{data:this.state.data,onLoadPage:this.queryData,dataMap:[{name:"排序",field:"sort"},{name:"类型",value:function(e){return"1"===e.type?"文字链接":"2"===e.type?"图片链接":void 0},field:"type"},{name:"图片",value:function(e){return e.picUrl?a.createElement("img",{className:"preview",src:e.picUrl}):""},field:"picUrl"},{name:"链接名称",field:"name"},{name:"链接地址",field:"url"}],operations:[{name:"修改",icon:"info",callback:this.showUpdate},{name:"删除",icon:"danger",callback:this.showDelete}]}),a.createElement(c,{ref:"dialog",onCreate:this.createData,onUpdate:this.updateData}))}});e.exports=m},function(e,t,n){"use strict";var a=n(1),r=n(212),i=a.createStore({listenables:r,getDefaultData:function(){return{data:{list:[],totalCount:0,perPage:10,currentPage:0}}},getFilter:function(){return{}},getDefaultItem:function(){return{type:1,name:"",sort:"",url:"",pic:"",picUrl:""}},onQueryCompleted:function(e){e.list.forEach(function(e){e.type=e.type+""}),this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(2),o=n(12),s=n(7),l=n(13),u=n(491),c=n(213),d=n(9),m=a.createClass({displayName:"GameActivity",mixins:[r.connect(u),r.listenTo(u,"onDataChange")],onDataChange:function(e){e.item&&(null===e.item.expireTime&&(e.item.expireTime=""),this.refs.dialog.update(e.item))},showCreate:function(){this.refs.dialog.create(u.getDefaultItem())},showUpdate:function(e){c.get(e)},showDelete:function(e){d.warning({message:"是否删除此活动 "+e.name,onConfirm:c["delete"].bind(this,this.state,e)})},queryData:function(e){this.setState({currentPage:e.currentPage},function(){c.query(this.state)}.bind(this))},filterData:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))},render:function(){return a.createElement("div",{className:"box"},a.createElement(o,{filters:u.getDataFilter(),onFilterData:this.filterData,onCreateData:this.showCreate}),a.createElement(s,{onLoadPage:this.queryData,data:this.state,dataMap:[{name:"排序",field:"rank"},{name:"活动ID",field:"id"},{name:"活动名称",field:"name"},{name:"游戏",field:"appName"},{name:"发布时间",field:"createTime"},{name:"到期时间",field:"expireTime"},{name:"状态",field:"status",value:function(e){return"0"===e.status?"已下架":"1"===e.status?"已上架":"2"===e.status?"已过期":void 0}}],operations:[{name:"编辑",icon:"info",callback:this.showUpdate},{name:"删除",icon:"danger",callback:this.showDelete},{name:"上架",icon:"success",disabled:function(e){return"0"!==e.status},callback:c.putaway.bind(this,this.state)},{name:"下架",icon:"warning",disabled:function(e){return"1"!==e.status},callback:c.withdraw.bind(this,this.state)}]}),a.createElement(l,{ref:"dialog",title:"游戏活动",useFormData:!0,items:[{type:"image",field:"pic",urlField:"picUrl",keepUrlField:!0,name:"活动Banner"},{type:"number",field:"rank",name:"排序",min:0},{field:"name",name:"活动名称",required:!0},{type:"date",startField:"effectTime",endField:"expireTime",format:"YYYY-MM-DD HH:mm:ss",name:"上架时间",timePicker:!0},{type:"rich",field:"description",name:"活动说明",upImgUrl:i.domain.market+"/pic/upload"},{field:"appId",name:"关联游戏ID"}],onCreate:c.create.bind(this,this.state),onUpdate:c.update.bind(this,this.state)}))}});e.exports=m},function(e,t,n){"use strict";var a=n(1),r=n(213),i=n(3),o=n(8),s=n(2),l=a.createStore({listenables:r,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{field:"publish",type:"select",name:"活动状态","default":"",options:[{name:"全部",value:""},{name:"已下架",value:"0"},{name:"已上架",value:"1"},{name:"已过期",value:"2"}]},{field:"name",type:"text",name:"活动名称或ID","default":""}]},getDefaultItem:function(){return{appId:"",expireTime:"",description:"",rank:"",name:""}},onCreate:function(e,t){var n=s.domain.market+"/app/activity/insertOrUpdate",a=t,l=function(t){1e3===t.responseCode?(i.success({message:"添加活动成功"}),r.query(e)):(i.fail({message:t.errorMsg}),r.query(e))};o(n,a,l)},onQuery:function(e){var t=s.domain.market+"/app/activity/selectPaged",n=function(t){1e3===t.responseCode?this.trigger({list:t.data.aaData,totalCount:t.data.itotalRecords,perPage:e.perPage,currentPage:e.currentPage}):i.fail({message:t.errorMsg})}.bind(this),a=_.pick(_.pick(e,"name","publish"),function(e){return!_.isEmpty(e)});a.pageNo=e.currentPage+1,a.pageSize=e.perPage,o(t,a,n)},onUpdate:function(e,t){var n=s.domain.market+"/app/activity/insertOrUpdate",a=t,l=function(t){1e3===t.responseCode?(i.success({message:"修改活动成功"}),r.query(e)):i.fail({message:t.errorMsg})};o(n,a,l)},onDelete:function(e,t){var n=s.domain.market+"/app/activity/delete",a={id:t.id},l=function(t){1e3===t.responseCode?(i.success({message:"活动删除成功"}),r.query(e)):i.fail({message:t.errorMsg})};o(n,a,l)},onPutaway:function(e,t){var n=s.domain.market+"/app/activity/publish",a={id:t.id,publish:"1"},l=function(t){1e3===t.responseCode?(i.success({message:"活动上架成功"}),r.query(e)):i.fail({message:t.errorMsg})};o(n,a,l)},onWithdraw:function(e,t){var n=s.domain.market+"/app/activity/publish",a={id:t.id,publish:"0"},l=function(t){1e3===t.responseCode?(i.success({message:"活动下架成功"}),r.query(e)):i.fail({message:t.errorMsg})};o(n,a,l)},onGet:function(e){var t=s.domain.market+"/app/activity/selectById",n={id:e.id},a=function(e){1e3===e.responseCode?this.trigger({item:e.data}):i.fail({message:e.errorMsg})}.bind(this);o(t,n,a)}});e.exports=l},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function _(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:_(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(493)),v=a(n(214)),y=a(n(9)),b=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)})}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否删除游戏广告 "+e.id,onConfirm:v["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"广告区",field:"type",value:function(e){switch(e.type){case 1:return"首页广告";case 2:return"详情页广告";case 3:return"首页三叶广告";case 4:return"首页横幅广告"}}},{name:"链接图片",field:"picUrl",value:function(e){return u.createElement("img",{src:e.picUrl,className:"preview"})}},{name:"链接地址",field:"url"}],operations:[{name:"修改",icon:"info",callback:this.showUpdate.bind(this)},{name:"删除",icon:"danger",callback:this.showDelete.bind(this)}]}),u.createElement(h,{ref:"dialog",title:"游戏广告",small:!0,useFormData:!0,items:[{type:"select",field:"type",name:"广告区",required:!0,options:[{name:"请选择",value:""},{name:"首页三叶广告",value:"3"},{name:"首页横幅广告",value:"4"},{name:"详情页广告",value:"2"}]},{type:"image",field:"pic",urlField:"picUrl",name:"链接图片",required:!0},{field:"url",name:"链接地址",required:!0}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=b},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(214)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[]},getDefaultItem:function(){return{wifiName:"",mac:"",provinceId:"",cityId:"",regionId:"",longitude:"",latitude:"",status:"1",picUrl:"",shopDesc:"",address:""}},onCreate:function(e,t){var n=l.domain.market+"/web/advert/saveAdvert",a=t,r=function(t){(t.responseCode=1e3)?(o.success({message:"添加游戏广告成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onQuery:function(e){var t=this,n=l.domain.market+"/web/advert/queryList",a={pagesize:e.perPage,pageno:e.currentPage+1},r=function(n){(n.responseCode=1e3)?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})};s(n,a,r)},onUpdate:function(e,t){var n=l.domain.market+"/web/advert/saveAdvert",a=t,r=function(t){(t.responseCode=1e3)?(o.success({message:"修改游戏广告成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onDelete:function(e,t){var n=l.domain.market+"/web/advert/removeAdvert",a={id:t.id},r=function(t){(t.responseCode=1e3)?(o.success({message:"删除游戏广告成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.qbao+"/wifi/changeWifiStatus.html",a={id:t.id,status:1},r=function(t){(t.responseCode=1e3)?(o.success({message:"恢复服务成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.qbao+"/wifi/changeWifiStatus.html",a={id:t.id,status:2},r=function(t){(t.responseCode=1e3)?(o.success({message:"关闭服务成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/activity/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function _(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:_(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(495)),v=a(n(215)),y=a(n(9)),b=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)})}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否删除游戏Banner "+e.title,onConfirm:v["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onFilterData:this.filterData.bind(this),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"排序",field:"rank"},{name:"标题",field:"title"},{name:"图片",field:"picUrl",value:function(e){return u.createElement("img",{src:e.picUrl,className:"preview"})}},{name:"游戏ID",field:"appId"},{name:"链接",field:"url"},{name:"状态",field:"publish",value:function(e){switch(e.publish){case"0":return"已下架";case"1":return"已上架"}}}],operations:[{name:"编辑",icon:"info",callback:this.showUpdate.bind(this)},{name:"删除",icon:"danger",callback:this.showDelete.bind(this)},{name:"上架",icon:"success",disabled:function(e){return"0"!==e.publish},callback:v.active.bind(this,this.state)},{name:"下架",icon:"warning",disabled:function(e){return"1"!==e.publish},callback:v.deactive.bind(this,this.state)}]}),u.createElement(h,{ref:"dialog",title:"游戏Banner",useFormData:!0,items:[{type:"number",field:"rank",min:"0",name:"排序",required:!0},{field:"title",name:"标题"},{type:"select",field:"type",name:"链接类型",required:!0,options:[{name:"游戏ID",value:"0"},{name:"链接",value:"1"},{name:"无链接",value:"2"}]},{field:"appId",name:"游戏ID",required:!0,hide:function(e){return"0"!==e.type}},{type:"url",field:"url",name:"跳转链接",required:!0,hide:function(e){return"1"!==e.type}},{type:"image",field:"pic",urlField:"picUrl",name:"Banner图片",required:!0},{type:"date",name:"上架时间",startField:"effectTime",endField:"invalidTime",format:"YYYY-MM-DD HH:mm:ss",timePicker:!0,required:!0}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=b},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(215)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{name:"Banner标题",field:"title"}]},getDefaultItem:function(){return{type:"0",effectTime:"",invalidTime:""}},onCreate:function(e,t){t.append("platform",2);var n=l.domain.market+"/app/banner/save",a=t,r=function(t){1e3===t.responseCode?(o.success({message:"添加游戏Banner成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onQuery:function(e){var t=this,n=l.domain.market+"/app/banner/selectWeb",a={title:e.title||"",pageno:e.currentPage+1,pagesize:e.perPage},r=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})};s(n,a,r)},onUpdate:function(e,t){var n=l.domain.market+"/app/banner/save",a=t,r=function(t){1e3===t.responseCode?(o.success({message:"修改游戏Banner成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onDelete:function(e,t){var n=l.domain.market+"/app/banner/deleteById",a={id:t.id,platform:2},r=function(t){1e3===t.responseCode?(o.success({message:"删除游戏Banner成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/app/banner/publish",a={id:t.id,publish:"1"},r=function(t){1e3===t.responseCode?(o.success({message:"游戏Banner上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/app/banner/publish",a={id:t.id,publish:"0"},r=function(t){1e3===t.responseCode?(o.success({message:"游戏Banner下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/activity/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(2),o=n(12),s=n(7),l=n(13),u=n(497),c=n(216),d=n(9),m=a.createClass({displayName:"GameBenifit",mixins:[r.connect(u),r.listenTo(u,"onDataChange")],onDataChange:function(e){e.item&&(null===e.item.expireTime&&(e.item.expireTime=""),this.refs.dialog.update(e.item))},showCreate:function(){this.refs.dialog.create(u.getDefaultItem())},showUpdate:function(e){c.get(e)},showDelete:function(e){d.warning({message:"是否删除此礼包 "+e.name,onConfirm:c["delete"].bind(this,this.state,e)})},queryData:function(e){this.setState({currentPage:e.currentPage},function(){c.query(this.state)}.bind(this))},filterData:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))},render:function(){return a.createElement("div",{className:"box"},a.createElement(o,{filters:u.getDataFilter(),onFilterData:this.filterData,onCreateData:this.showCreate}),a.createElement(s,{onLoadPage:this.queryData,data:this.state,dataMap:[{name:"排序",field:"rank"},{name:"礼包ID",field:"id"},{name:"礼包名称",field:"name"},{name:"游戏",field:"gameName"},{name:"礼包数量",field:"totalAmount"},{name:"剩余",field:"remainAmount"},{name:"类型",field:"type",value:function(e){return"0"===e.type?"通用":"1"===e.type?"独立":void 0}},{name:"状态",field:"status",value:function(e){return"0"===e.status?"已下架":"1"===e.status?"已上架":"2"===e.status?"已到期":void 0}}],operations:[{name:"编辑",icon:"info",callback:this.showUpdate},{name:"删除",icon:"danger",callback:this.showDelete},{name:"上架",icon:"success",disabled:function(e){return"0"!==e.status},callback:c.putaway.bind(this,this.state)},{name:"下架",icon:"warning",disabled:function(e){return"1"!==e.status},callback:c.withdraw.bind(this,this.state)}]}),a.createElement(l,{ref:"dialog",title:"游戏礼包",items:[{type:"select",field:"type",name:"类型",options:[{name:"通用",value:"0"},{name:"独立",value:"1"}]},{type:"number",field:"rank",name:"排序",min:0},{field:"name",name:"礼包名称",required:!0},{type:"date",startField:"expireTime",name:"到期时间",format:"YYYY-MM-DD HH:mm:ss",required:!0},{field:"cdkeys",hide:function(e){return"1"===e.type},name:"礼包兑换码",required:!0},{type:"textarea",field:"cdkeys",hide:function(e){return"0"===e.type},name:"礼包兑换码",required:!0},{type:"rich",field:"description",name:"礼包说明",upImgUrl:i.domain.market+"/pic/upload"},{field:"appId",name:"关联游戏ID",required:!0}],onCreate:c.create.bind(this,this.state),onUpdate:c.update.bind(this,this.state)}))}});e.exports=m},function(e,t,n){"use strict";var a=n(1),r=n(216),i=n(3),o=n(8),s=n(2),l=a.createStore({listenables:r,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{type:"select",field:"publish",name:"礼包状态","default":"",options:[{name:"全部",value:""},{name:"已下架",value:"0"},{name:"已上架",value:"1"},{name:"已到期",value:"2"}]},{type:"select",field:"type",name:"礼包类型","default":"",options:[{name:"全部",value:""},{name:"通用",value:"0"},{name:"独立",value:"1"}]},{field:"name",type:"text",name:"礼包名称或ID","default":""}]},getDefaultItem:function(){return{appId:"",type:"0",expireTime:"",description:"",rank:"",cdkeys:[],name:""}},onCreate:function(e,t){var n=s.domain.market+"/app/gift/insertOrUpdate",a=_.pick(t,"appId","type","expireTime","description","rank","cdkeys","name"),l=function(t){1e3===t.responseCode?(i.success({message:"添加礼包成功"}),r.query(e)):i.fail({message:t.errorMsg})};a.cdkeys=a.cdkeys.split("\n").join(","),o(n,a,l)},onQuery:function(e){var t=s.domain.market+"/app/gift/selectPaged",n=function(t){1e3===t.responseCode?this.trigger({list:t.data.aaData,totalCount:t.data.itotalRecords,perPage:e.perPage,currentPage:e.currentPage}):i.fail({message:t.errorMsg})}.bind(this),a=_.pick(_.pick(e,"publish","type","name"),function(e){return!_.isEmpty(e)});a.pageNo=e.currentPage+1,a.pageSize=e.perPage,o(t,a,n)},onUpdate:function(e,t){var n=s.domain.market+"/app/gift/insertOrUpdate",a=function(t){1e3===t.responseCode?(i.success({message:"修改礼包成功"}),r.query(e)):i.fail({message:t.errorMsg})},l=_.pick(t,"id","appId","type","expireTime","description","rank","cdkeys","name");l.cdkeys=l.cdkeys.split("\n").join(","),o(n,l,a)},onDelete:function(e,t){var n=s.domain.market+"/app/gift/delete",a={id:t.id},l=function(t){1e3===t.responseCode?(i.success({message:"礼包删除成功"}),r.query(e)):i.fail({message:t.errorMsg})};o(n,a,l)},onPutaway:function(e,t){var n=s.domain.market+"/app/gift/publish",a={id:t.id,publish:"1"},l=function(t){1e3===t.responseCode?(i.success({message:"礼包上架成功"}),r.query(e)):i.fail({message:t.errorMsg})};o(n,a,l)},onWithdraw:function(e,t){var n=s.domain.market+"/app/gift/publish",a={id:t.id,publish:"0"},l=function(t){1e3===t.responseCode?(i.success({message:"礼包下架成功"}),r.query(e)):i.fail({message:t.errorMsg})};o(n,a,l)},onGet:function(e){var t=s.domain.market+"/app/gift/selectById",n={id:e.id},a=function(e){1e3===e.responseCode?(e.data.cdkeys=e.data.cdkeys.split(",").join("\n"),this.trigger({item:e.data})):i.fail({message:e.errorMsg})}.bind(this);o(t,n,a)}});e.exports=l},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(83),o=n(65),s=n(85),l=a.createClass({displayName:"GameCategory",mixins:[r.connect(i,"categories")],getInitialState:function(){return i.getDefaultData()},componentDidMount:function(){o.query({type:"game"})},saveData:function(e){o.save({type:"game",data:e})},render:function(){return a.createElement(s,{title:"游戏分类管理",categories:this.state.categories.game,onSaveData:this.saveData})}});e.exports=l},function(e,t,n){"use strict";var a=n(1),r=n(218),i=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getFilter:function(){return{planName:"",sellerName:"",planStatus:0,startDate:"",endDate:""}},getStatusMap:function(){return STATUS_MAP},getDefaultItem:function(){return{rowVersion:0,type:0,rank:0,barcode:"",appTitle:"",categoryId:"",subCategoryId:"",recommend:"0",specification:"",downloadCount:0,score:0,zoneUrl:"",forumUrl:"",pics:[],videoTitle:"",videoId:"",packUrl:"",androidSize:0,androidVersion:"",androidSupport:"Android2.0以上",androidSrc:"",androidPackName:"",iosSize:0,iosVersion:"",iosSupport:"iOS8",iosSrc:"",iosPackName:"",description:"",qbPay:"0",sdkAppCode:""}},onQueryCompleted:function(e){e.apkId=e.packUrl,e.detail.forEach(function(t){"0"===t.platform?$.extend(e,{iosId:t.id,iosSize:t.size,iosVersion:t.version,iosSupport:t.requirement,iosSrc:t.src,iosPackName:t.packName,iosStore:t.appStoreUrl}):"1"===t.platform&&$.extend(e,{androidId:t.id,androidSize:t.size,androidVersion:t.version,androidSupport:t.requirement,androidSrc:t.src,androidPackName:t.packName})}),this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=n(1),r=n(220),i=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getFilter:function(){return{name:"",categoryId:"",subCategoryId:"",platform:"2",title:"",order:"0"}},getStatusMap:function(){return STATUS_MAP},onQueryCompleted:function(e){e.list.forEach(function(e){e.id=e.appId}),this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function D(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:D(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(502)),v=a(n(221)),y=a(n(9)),b=a(n(2)),_=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)})}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否删除游戏资讯 "+e.title,onConfirm:v["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onFilterData:this.filterData.bind(this),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"分类",field:"type",value:function(e){switch(e.type){case 1:return"新闻";case 2:return"公告";case 3:return"活动"}}},{name:"标题",field:"title"},{name:"发布时间",field:"createTime"},{name:"来源",field:"resource"}],operations:[{name:"编辑",icon:"info",callback:this.showUpdate.bind(this)},{name:"删除",icon:"danger",callback:this.showDelete.bind(this)}]}),u.createElement(h,{ref:"dialog",title:"游戏资讯",items:[{type:"select",field:"type",name:"分类",options:[{name:"请选择",value:""},{name:"新闻",value:"1"},{name:"公告",value:"2"},{name:"活动",value:"3"}],required:!0},{field:"title",name:"标题",maxLength:50,required:!0},{field:"resource",name:"来源",required:!0},{type:"url",field:"outUrl",name:"外部链接"},{type:"rich",field:"detail",name:"详情",upImgUrl:b.domain.market+"/pic/upload"}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=_},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(221)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{field:"title",name:"资讯标题"}]},getDefaultItem:function(){return{type:"",title:"",resource:"",outUrl:"",detail:""}},onCreate:function(e,t){var n=l.domain.market+"/web/news/saveNews",a=t,r=function(t){1e3===t.responseCode?(o.success({message:"添加游戏资讯成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onQuery:function(e){var t=this,n=l.domain.market+"/web/news/queryList",a={title:e.title||"",pageno:e.currentPage+1,pagesize:e.perPage},r=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,
currentPage:e.currentPage}}):o.fail({message:n.errorMsg})};s(n,a,r)},onUpdate:function(e,t){var n=l.domain.market+"/web/news/saveNews",a={id:t.id,type:t.type,title:t.title,resource:t.resource,outUrl:t.outUrl,detail:t.detail,rowVersion:t.rowVersion},r=function(t){1e3===t.responseCode?(o.success({message:"修改游戏资讯成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onDelete:function(e,t){var n=l.domain.market+"/web/news/removeNews",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"删除游戏资讯成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.qbao+"/wifi/changeWifiStatus.html",a={id:t.id,status:1},r=function(t){t.success?(o.success({message:"恢复服务成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.qbao+"/wifi/changeWifiStatus.html",a={id:t.id,status:2},r=function(t){t.success?(o.success({message:"关闭服务成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/activity/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function _(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:_(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(504)),v=a(n(222)),y=a(n(9)),b=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)})}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){e.appid=e.appId,this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否删除游戏精品 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"排序",field:"rank"},{name:"游戏ID",field:"appId"},{name:"游戏图标",field:"icon",value:function(e){return u.createElement("img",{src:e.icon,className:"preview"})}},{name:"游戏名称",field:"name"}],operations:[{name:"修改",icon:"info",callback:this.showUpdate.bind(this)},{name:"移除精品",icon:"danger",callback:this.showDelete.bind(this)}]}),u.createElement(h,{ref:"dialog",title:"游戏精品",small:!0,items:[{field:"rank",type:"number",name:"排序",require:!0},{field:"appid",name:"游戏ID",required:!0}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=b},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(222)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[]},getDefaultItem:function(){return{rank:"",appid:""}},onCreate:function(e,t){var n=l.domain.market+"/web/appext/saveAppExt",a={type:1,rank:t.rank,appid:t.appid},r=function(t){1e3===t.responseCode?(o.success({message:"添加游戏精品成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onQuery:function(e){var t=this,n=l.domain.market+"/web/appext/queryList",a={pageno:e.currentPage+1,pagesize:e.perPage,type:1},r=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})};s(n,a,r)},onUpdate:function(e,t){var n=l.domain.market+"/web/appext/saveAppExt",a={id:t.id,type:t.type,appid:t.appid,rank:t.rank},r=function(t){1e3===t.responseCode?(o.success({message:"修改游戏精品成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onDelete:function(e,t){var n=l.domain.market+"/web/appext/removeAppExt",a={id:t.id,appid:t.appId,type:1},r=function(t){1e3===t.responseCode?(o.success({message:"移除游戏精品成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.qbao+"/wifi/changeWifiStatus.html",a={id:t.id,status:1},r=function(t){t.success?(o.success({message:"恢复服务成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.qbao+"/wifi/changeWifiStatus.html",a={id:t.id,status:2},r=function(t){t.success?(o.success({message:"关闭服务成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/activity/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(4),o=(n(2),n(223)),s=n(128),l=a.createClass({displayName:"GameStatistic",mixins:[r.connect(o,"data"),a.addons.LinkedStateMixin],getInitialState:function(){return{data:o.getDefaultData(),startDate:"",endDate:""}},queryData:function(e){s.query(this.state)},componentDidMount:function(){$(a.findDOMNode(this.refs["date-range-picker"])).daterangepicker({format:"YYYY/MM/DD",locale:{applyLabel:"确认",cancelLabel:"清除",fromLabel:"开始",toLabel:"截止",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]}}).on("apply.daterangepicker",function(e,t){this.setState({startDate:t.startDate.format("YYYY-MM-DD")+" 00:00:00",endDate:t.endDate.format("YYYY-MM-DD")+" 23:59:59"})}.bind(this)).on("cancel.daterangepicker",function(e,t){$(a.findDOMNode(this.refs["date-range-picker"])).val(""),this.setState({startDate:"",endDate:""})}.bind(this)),this.queryData()},componentDidUpdate:function(e,t){var n=i.pluck(this.state.data.ios,"date"),r=i.pluck(this.state.data.web,"download"),o=i.pluck(this.state.data.ios,"download"),s=i.pluck(this.state.data.android,"download"),l=i.pluck(t.data.web,"download"),u=i.pluck(t.data.ios,"download"),c=i.pluck(t.data.android,"download");0!==i.difference(r,l).length&&0!==i.difference(o,u).length&&0!==i.difference(s,c).length&&$(a.findDOMNode(this.refs.container)).highcharts({title:{text:"魔足学院",x:-20},subtitle:{text:"游戏数据",x:-20},xAxis:{categories:n},series:[{name:"Web",data:r},{name:"iOS",data:o},{name:"Android",data:s}],yAxis:{title:{text:"下载量"},min:0},legend:{layout:"vertical",align:"right",verticalAlign:"middle",borderWidth:0},credits:{enabled:!1}})},render:function(){return a.createElement("div",{className:"box data-filter"},a.createElement("div",{className:"box-header with-border"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"查询区间"),a.createElement("input",{readOnly:!0,type:"text",className:"form-control",ref:"date-range-picker",placeholder:"点击修改"})),a.createElement("div",{className:"col-sm-offset-6 col-sm-3"},a.createElement("button",{className:"btn btn-block btn-info",onClick:this.queryData},"查询"))),a.createElement("div",{ref:"container",className:"box-body"}))}});e.exports=l},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function _(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:_(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(507)),v=a(n(224)),y=a(n(9)),b=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)})}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){e.appid=e.appId,this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否移除游戏置顶 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"排序",field:"rank"},{name:"游戏ID",field:"appId"},{name:"游戏图标",field:"icon",value:function(e){return u.createElement("img",{src:e.icon,className:"preview"})}},{name:"游戏名称",field:"name"}],operations:[{name:"修改",icon:"info",callback:this.showUpdate.bind(this)},{name:"移除置顶",icon:"danger",callback:this.showDelete.bind(this)}]}),u.createElement(h,{ref:"dialog",title:"置顶游戏",small:!0,items:[{type:"number",field:"rank",name:"排序",required:!0},{field:"appid",name:"游戏ID",required:!0}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=b},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(224)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[]},getDefaultItem:function(){return{rank:"",appid:""}},onCreate:function(e,t){var n=l.domain.market+"/web/appext/saveAppExt",a={type:0,rank:t.rank,appid:t.appid},r=function(t){1e3===t.responseCode?(o.success({message:"添加游戏置顶成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onQuery:function(e){var t=this,n=l.domain.market+"/web/appext/queryList",a={pageno:e.currentPage+1,pagesize:e.perPage,type:0},r=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})};s(n,a,r)},onUpdate:function(e,t){var n=l.domain.market+"/web/appext/saveAppExt",a={id:t.id,type:t.type,appid:t.appid,rank:t.rank},r=function(t){1e3===t.responseCode?(o.success({message:"修改游戏置顶成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onDelete:function(e,t){var n=l.domain.market+"/web/appext/removeAppExt",a={id:t.id,appid:t.appId,type:0},r=function(t){1e3===t.responseCode?(o.success({message:"移除游戏置顶成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.qbao+"/wifi/changeWifiStatus.html",a={id:t.id,status:1},r=function(t){t.success?(o.success({message:"恢复服务成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.qbao+"/wifi/changeWifiStatus.html",a={id:t.id,status:2},r=function(t){t.success?(o.success({message:"关闭服务成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/activity/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function M(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:M(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(509)),v=a(n(225)),y=a(n(9)),b=a(n(3)),D=(a(n(2)),a(n(26))),E=function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.awardList&&e.setState({awardStore:t.awardList}),t.item&&e.refs.dialog.update(t.item)}),D.loadState(this),v.queryAward()}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){for(var e=[],t=0;12>t;t++)e.push({id:this.state.awardStore[0].id});this.refs.dialog.create(Object.assign({},g.getDefaultItem(),{awardList:{list:e}}))}},showView:{value:function(e){var t=_.isEmpty(e.prizeIds)?[]:e.prizeIds.split(",").map(function(e){return{id:e}});this.refs.dialog.show(Object.assign(e,{awardList:{list:t}}))}},showUpdate:{value:function(e){var t=_.isEmpty(e.prizeIds)?[]:e.prizeIds.split(",").map(function(e){return{id:e}});this.refs.dialog.update(Object.assign(e,{awardList:{list:t}}))}},showDelete:{value:function(e){y.warning({message:"是否删除大转盘活动 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){D.saveState(this),this.context.router.transitionTo("/market/lottery-history",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){var t=this;return 8!==e.awardList.list.length&&12!==e.awardList.list.length?(b.fail({message:"奖品数需要为8或者12"}),!1):e.awardList.list.reduce(function(e,n){var a=t.state.awardStore.filter(function(e){return e.id==n.id})[0].probability;return e+a},0)>100?(b.fail({message:"奖品总概率不可以超过100%"}),!1):!0}},render:{value:function(){var e=this;return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"ID",field:"id"},{name:"活动名称",field:"name"},{name:"开始时间",field:"startTime"},{name:"结束时间",field:"endTime"},{name:"状态",field:"publish",value:function(e){switch(e.publish){case 1:return"已上架";case 0:return"未上架"}}}],operations:[{name:"上架",icon:"success",disabled:function(e){return 0!==e.publish},callback:v.active.bind(this,this.state)},{name:"下架",icon:"warning",disabled:function(e){return 1!==e.publish},callback:v.deactive.bind(this,this.state)},{name:"编辑",icon:"info",disabled:function(e){return 0!==e.publish},callback:this.showUpdate.bind(this)},{name:"查看",icon:"default",disabled:function(e){return 0===e.publish},callback:this.showView.bind(this)},{name:"删除",icon:"danger",callback:this.showDelete.bind(this)},{name:"历史查询",icon:"primary",disabled:function(e){return!0},callback:this.showHistory.bind(this)}]}),u.createElement(h,{ref:"dialog",title:"大转盘活动",items:[{field:"name",name:"活动名称",maxLength:50,required:!0},{type:"date",startField:"startTime",endField:"endTime",format:"YYYY-MM-DD HH:mm:ss",name:"活动时间",required:!0},{type:"select",field:"conditionType",name:"参加条件类型",options:[{value:0,name:"活跃值"},{value:1,name:"成长值"},{value:2,name:"会员等级"}]},{type:"select",field:"conditionCompare",name:"比较条件",options:[{value:0,name:">="},{value:1,name:"<="},{value:2,name:">"},{value:3,name:"<"},{value:4,name:"="}]},{field:"conditionValue",type:"number",min:0,name:"参加条件值",required:!0},{type:"rich",field:"introduction",name:"活动简介"},{type:"number",field:"dailyLimit",min:-1,name:"每日抽奖上限(-1无上限)",required:!0},{type:"number",field:"dailyGive",min:0,name:"每日免费抽奖次数",required:!0},{type:"table",name:"奖品列表",field:"awardList",dataMap:[{name:"奖品ID",field:"id"},{name:"奖品名称",field:"name",value:function(t,n){return u.createElement("select",{className:"form-control",value:t.id,onChange:function(n){t.id=n.target.value,e.forceUpdate()}},e.state.awardStore.map(function(e,t){return u.createElement("option",{key:t,value:e.id},e.name,"(",e.probability,"%)")}))}}],operations:[{name:"删除",icon:"danger",disabled:function(){return!0},callback:function(t,n){e.refs.dialog.changeState({field:"awardList",callback:function(e){return e.list=e.list.filter(function(e,t){return n!==t}),e}})}}]}],customCallback:function(){e.refs.dialog.changeState({field:"awardList",callback:function(t){return t.list.length<12&&t.list.push({id:e.state.awardStore.length>0&&e.state.awardStore[0].id}),t}})},onCheck:this.checkInput.bind(this),onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=E,E.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(225)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0,awardStore:[]}},getDataFilter:function(){return[]},getDefaultItem:function(){return{name:"",startTime:"",endTime:"",conditionType:0,conditionCompare:0,conditionValue:0,introduction:"",dailyLimit:-1,dailyGive:0,prizeIds:""}},onCreate:function(e,t){var n=l.domain.market+"/turntable/activity/save",a=function(t){1e3===t.responseCode?(o.success({message:"添加大转盘活动成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["name","startTime","endTime","conditionType","conditionCompare","conditionValue","introduction","dailyLimit","dailyGive"]);r.prizeIds=t.awardList.list.map(function(e){return e.id}).join(","),s(n,r,a)},onQuery:function(e){var t=this,n=l.domain.market+"/turntable/activity/queryList",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})},r=_.pick(_.pick(e,["name","publish","beginDateStr","endDateStr"]),function(e){return!_.isEmpty(e)});r.pageNo=e.currentPage+1,r.pageSize=e.perPage,s(n,r,a)},onQueryAward:function(e){var t=this,n=l.domain.market+"/turntable/prize/queryAll",a={},r=function(e){1e3===e.responseCode?t.trigger({awardList:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)},onUpdate:function(e,t){var n=l.domain.market+"/turntable/activity/save",a=function(t){1e3===t.responseCode?(o.success({message:"修改大转盘活动成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["id","name","startTime","endTime","conditionType","conditionCompare","conditionValue","introduction","dailyLimit","dailyGive"]);r.prizeIds=t.awardList.list.map(function(e){return e.id}).join(","),s(n,r,a)},onDelete:function(e,t){var n=l.domain.market+"/turntable/activity/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"大转盘活动删除成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/turntable/activity/publish",a={id:t.id,publish:1},r=function(t){1e3===t.responseCode?(o.success({message:"大转盘活动上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/turntable/activity/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(o.success({message:"大转盘活动下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/coupon/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function M(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:M(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(511)),v=a(n(226)),y=a(n(9)),b=a(n(3)),D=(a(n(2)),a(n(26))),E=function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=g.getInitialState(),this.state.mode="create"}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.multi&&e.setState({multiStore:t.multi}),t.typeList&&e.setState({typeMap:t.typeList}),t.item&&e.refs.dialog.update(t.item)}),D.loadState(this),v.queryType()}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},showCreate:{value:function(){var e=this;this.setState({mode:"create"},function(){e.refs.dialog.create(g.getDefaultItem())})}},showUpdate:{value:function(e){var t=this;this.setState({mode:"update"},function(){var n=_.isEmpty(e.multipleIds)?[]:e.multipleIds.split(",").map(function(e){return{id:e}});t.refs.dialog.update(Object.assign(e,{multiList:{list:n}}))})}},showDelete:{value:function(e){y.warning({message:"是否删除大转盘奖品 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){D.saveState(this),this.context.router.transitionTo("/market/award-history",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){if(5==this.state.typeMap.filter(function(t){return t.id==e.type})[0].type){var t=e.multiList.list;if(t.length<3)return b.fail({message:"暴走奖品数量需要为3~8"}),!1;e.multipleIds=t.map(function(e){return e.id}).join(",")}return!0}},prependData:{value:function(e,t){e.append("multipleIds",t.multipleIds)}},render:{value:function(){var e=this;return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"ID",field:"id"},{name:"奖品名称",field:"name"},{name:"奖品类型",field:"type",value:function(t){if(e.state.typeMap.length>0){var n=function(){var n=e.state.typeMap.find(function(e){return e.value==t.type});return{v:n&&n.name}}();if("object"==typeof n)return n.v}}},{name:"数量",field:"amount"},{name:"中奖概率",field:"probability",value:function(e){return e.probability+"%"}},{name:"状态",field:"publish",value:function(e){switch(e.publish){case 1:return"已上架";case 0:return"未上架"}}}],operations:[{name:"上架",icon:"success",disabled:function(e){return 0!==e.publish},callback:v.active.bind(this,this.state)},{name:"下架",icon:"warning",disabled:function(e){return 1!==e.publish},callback:v.deactive.bind(this,this.state)},{name:"编辑",icon:"info",disabled:function(e){return 0!==e.publish},callback:this.showUpdate.bind(this)},{name:"删除",icon:"danger",callback:this.showDelete.bind(this)}]}),u.createElement(h,{ref:"dialog",useFormData:!0,title:"大转盘奖品",items:[{field:"name",name:"奖品名称",maxLength:50,required:!0,disabled:"update"===this.state.mode},{type:"select",field:"type",name:"奖品类型",options:this.state.typeMap,onValueChange:function(t,n){e.state.typeMap.length>0&&4==e.state.typeMap.filter(function(e){return e.id==t})[0].type&&n.setState({probability:0})},disabled:"update"===this.state.mode},{type:"number",min:0,field:"amount",name:"数量",required:!0,disabled:"update"===this.state.mode},{type:"number",field:"probability",name:"中奖概率(%)",readOnly:!0,step:.01,hide:function(t){return e.state.typeMap.length>0&&t.type?4!=e.state.typeMap.filter(function(e){return e.id==t.type})[0].type:!1}},{type:"number",min:0,field:"probability",name:"中奖概率(%)",step:.01,required:!0,hide:function(t){return e.state.typeMap.length>0&&t.type?4==e.state.typeMap.filter(function(e){return e.id==t.type})[0].type:!0}},{field:"introduction",name:"奖品描述",maxLength:200,required:!0},{type:"image",field:"pic",urlField:"picUrl",keepUrlField:!0,name:"奖品图片"},{type:"textarea",field:"remark",maxLength:200,name:"备注"},{type:"table",name:"暴走奖品列表",field:"multiList",dataMap:[{name:"奖品ID",field:"id"},{name:"奖品名称",field:"name",value:function(t,n){return u.createElement("select",{className:"form-control",value:t.id,onChange:function(n){t.id=n.target.value,e.forceUpdate()}},e.state.multiStore.map(function(e,t){return u.createElement("option",{key:t,value:e.id},e.name)}))}}],operations:[{name:"删除",icon:"danger",callback:function(t,n){e.refs.dialog.changeState({field:"multiList",callback:function(e){return e.list=e.list.filter(function(e,t){return n!==t}),e}})}}],hide:function(t){return e.state.typeMap.length>0&&t.type?5!=e.state.typeMap.filter(function(e){return e.id==t.type})[0].type:!0}}],customButton:"添加暴走奖品",customCallback:function(){e.refs.dialog.changeState({field:"multiList",callback:function(t,n){return t.list.length<8&&t.list.push({id:e.state.multiStore.length>0&&e.state.multiStore[0].id}),t}})},onCheck:this.checkInput.bind(this),onPrepend:this.prependData.bind(this),onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=E,E.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(226)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0,multiStore:[],typeMap:[]}},getDataFilter:function(){return[]},getDefaultItem:function(){return{name:"",type:1,rechargeGameIds:"",rechargeStartTime:"",rechargeEndTime:"",multipleIds:"",multiList:{list:[]},amount:0,probability:0,introduction:"",picUrl:"",remark:""}},onCreate:function(e,t){var n=l.domain.market+"/turntable/prize/save",a=t,r=function(t){1e3===t.responseCode?(o.success({message:"添加大转盘奖励成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onQuery:function(e){var t=this,n=l.domain.market+"/turntable/prize/queryList",a=function(n){1e3===n.responseCode?(t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}),i.queryMulti()):o.fail({message:n.errorMsg})},r=_.pick(_.pick(e,["name","publish","beginDateStr","endDateStr"]),function(e){return!_.isEmpty(e)});r.pageNo=e.currentPage+1,r.pageSize=e.perPage,s(n,r,a)},onQueryMulti:function(){var e=this,t=l.domain.market+"/turntable/prize/queryMulti",n={},a=function(t){1e3===t.responseCode?e.trigger({multi:t.data}):o.fail({message:t.errorMsg})};s(t,n,a)},onQueryType:function(){var e=this,t=l.domain.market+"/turntable/prize/type",n={},a=function(t){1e3===t.responseCode?e.trigger({typeList:t.data.map(function(e){return e.value=e.id,e})}):o.fail({message:t.errorMsg})};s(t,n,a)},onUpdate:function(e,t){var n=l.domain.market+"/turntable/prize/save",a=t,r=function(t){1e3===t.responseCode?(o.success({message:"修改大转盘奖励成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onDelete:function(e,t){var n=l.domain.market+"/turntable/prize/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"删除大转盘奖品成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/turntable/prize/publish",a={id:t.id,publish:1},r=function(t){1e3===t.responseCode?(o.success({message:"奖励配置上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/turntable/prize/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(o.success({message:"奖励配置下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/coupon/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function D(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:D(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=(a(n(13)),a(n(513))),g=a(n(227)),v=a(n(9)),y=a(n(3)),b=(a(n(2)),function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=h.getInitialState(),this.state.id=n.router.getCurrentQuery().id}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=h.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)}),g.get({id:this.state.id})}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(h.getDefaultItem())}},showUpdate:{value:function(e){g.get(e)}},showDelete:{value:function(e){v.warning({message:"是否删除奖励发放 "+e.name,onConfirm:g["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){g.query(this.state);
}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return _.isEmpty(e.beginDate)?(y.fail({message:"请输入起止时间"}),!1):!0}},render:{value:function(){var e=this;return u.createElement("div",null,u.createElement("div",{className:"box box-success"},u.createElement("div",{className:"box-header"},u.createElement("h3",{className:"box-title"},"小胖的百宝箱 20160124 - 20160125"),u.createElement("button",{className:"btn btn-info pull-right",onClick:function(){return e.context.router.transitionTo("/market/award-list")}},"返回"))),u.createElement("div",{className:"box"},u.createElement(f,{filters:[{type:"date",startField:"beginDateStr",name:"查询时间",format:"YYYY-MM-DD"}],createText:"导出",onCreateData:this.showCreate.bind(this),filterText:"查询活动指标",onFilterData:this.filterData.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"序号",field:"name"},{name:"指标项",field:"appId"},{name:"当前值",field:"appName"},{name:"日环比",field:"qbCur"},{name:"活动累计",field:"award"}]})),u.createElement("div",{className:"box"},u.createElement(f,{filters:[{type:"date",startField:"beginDateStr",name:"查询时间",format:"YYYY-MM-DD"}],createText:"导出",onCreateData:this.showCreate.bind(this),filterText:"查询活动中奖",onFilterData:this.filterData.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"序号",field:"name"},{name:"奖品",field:"appId"},{name:"中奖次数",field:"appName"},{name:"占比",field:"qbCur"},{name:"活动累计中奖次数",field:"award"}]})),u.createElement("div",{className:"box"},u.createElement(f,{filters:[{type:"date",startField:"beginDateStr",name:"查询时间",format:"YYYY-MM-DD"}],createText:"导出",onCreateData:this.showCreate.bind(this),filterText:"查询抽奖行为明细",onFilterData:this.filterData.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"序号",field:"name"},{name:"时间",field:"appId"},{name:"用户帐号",field:"appName"},{name:"机会来源",field:"qbCur"},{name:"抽中奖项",field:"award"},{name:"获得宝币",field:"beginDateStr"},{name:"获得宝券",field:"endDateStr"}]})))}}}),t}(c));e.exports=b,b.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(227)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{type:"date",startField:"beginDateStr",endField:"endDateStr",name:"起止时间",format:"YYYY-MM-DD"}]},getDefaultItem:function(){return{name:"",openId:"",openAppId:"",qbCur:"",award:"",beginDate:"",endDate:"",appId:"",isRepeat:0}},onCreate:function(e,t){var n=l.domain.market+"/app/coupon/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"添加奖励发放配置成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["name","openId","openAppId","qbCur","award","beginDate","endDate","appId","isRepeat"]);s(n,r,a)},onQuery:function(e){var t=this;this.trigger({data:{list:[{id:1,name:"1"}],totalCount:100,perPage:20,currentPage:3}});var n=l.domain.market+"/app/coupon/selectPaged",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.aaData,totalCount:n.data.itotalRecords,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})},r=_.pick(_.pick(e,["name","publish","beginDateStr","endDateStr"]),function(e){return!_.isEmpty(e)});r.pageNo=e.currentPage+1,r.pageSize=e.perPage,s(n,r,a)},onUpdate:function(e,t){var n=(l.domain.market+"/app/coupon/insertOrUpdate",function(t){1e3===t.responseCode?(o.success({message:"修改奖励发放配置成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))}),a=_.pick(t,["id","name","openId","openAppId","qbCur","award","beginDate","endDate","appId","isRepeat"]);s(rul,a,n)},onDelete:function(e,t){var n=l.domain.market+"/app/coupon/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"删除奖励发放配置成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/app/coupon/publish",a={id:t.id,publish:1},r=function(t){1e3===t.responseCode?(o.success({message:"奖励配置上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/app/coupon/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(o.success({message:"奖励配置下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/coupon/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function _(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:_(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=(a(n(13)),a(n(517))),g=a(n(228)),v=a(n(9)),y=a(n(26)),b=(a(n(3)),function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=h.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=h.listen(function(t){t.data&&e.setState(t.data),t.create&&1===t.create.executeType&&(y.saveState(e),e.context.router.transitionTo("/store/category-detail",{},{id:t.create.id}))}),y.loadState(this)}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},showCreate:{value:function(){y.saveState(this),this.context.router.transitionTo("/market/lottery-rule-detail")}},showUpdate:{value:function(e){y.saveState(this),this.context.router.transitionTo("/market/lottery-rule-detail",{},{id:e.id})}},showDelete:{value:function(e){v.warning({message:"是否删大转盘规则 "+e.name,onConfirm:g["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){g.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{ref:"data-filter",filters:h.getDataFilter(),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"ID",field:"id"},{name:"规则名称",field:"name"},{name:"开始时间",field:"startTime"},{name:"结束时间",field:"endTime"},{name:"抽奖次数",field:"number"}],operations:[{name:"编辑",icon:"info",callback:this.showUpdate.bind(this)},{name:"删除",icon:"danger",callback:this.showDelete.bind(this)}]}))}}}),t}(c));e.exports=b,b.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function b(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:b(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},i=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=n(14),p=(a(f),f.Link,a(n(42))),h=(a(n(12)),a(n(13)),a(n(516))),g=a(n(229)),v=(a(n(9)),function(e){function t(){s(this,t),null!=e&&e.apply(this,arguments)}return o(t,e),i(t,{render:{value:function(){var e=this;return u.createElement("div",{className:"row"},u.createElement("div",{className:"col col-sm-6 text-center"},u.createElement("h4",null,"全部游戏"),u.createElement("input",{className:"form-control",placeholder:"搜索",onChange:function(e){return g.queryGameStore({content:e.target.value})}}),u.createElement("div",{style:{height:"200px",overflowY:"auto"}},u.createElement("table",{className:"table table-bordered"},u.createElement("tbody",null,this.props.gameStore.map(function(t){return u.createElement("tr",{key:t.id},u.createElement("td",null,t.id),u.createElement("td",null,t.name),u.createElement("td",null,u.createElement("input",{className:"btn btn-sm btn-success",type:"button",onClick:function(){return e.props.onAdd(t)},value:"加入"})))}))))),u.createElement("div",{className:"col col-sm-6 text-center"},u.createElement("h4",null,"选中游戏"),u.createElement("div",{style:{height:"200px",overflowY:"auto"}},u.createElement("table",{className:"table table-bordered"},u.createElement("tbody",null,this.props.gameList.map(function(t){return u.createElement("tr",{key:t.id},u.createElement("td",null,t.id),u.createElement("td",null,t.name),u.createElement("td",null,u.createElement("input",{className:"btn btn-sm btn-danger",type:"button",onClick:function(){return e.props.onRemove(t)},value:"移除"})))}))))))}}}),t}(c)),y=function(e){function t(e,n){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=h.getInitialState(),this.state.id=n.router.getCurrentQuery().id}return o(t,e),i(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=h.listen(function(t){if(t.item){e.setState(t.item);var n=t.item.rechargeGameIds;_.isEmpty(n)||g.queryGameList({gameIds:n})}t.gameStore&&!function(){var n=e.state.gameList;e.setState({gameStore:n.length>0?t.gameStore.filter(function(e){return!_.find(n,function(t){return t.id===e.id})}):t.gameStore})}(),t.gameList&&!function(){var n=t.gameList,a=e.state.gameStore;e.setState({gameList:n,gameStore:n.length>0?a.filter(function(e){return!_.find(n,function(t){return t.id===e.id})}):a})}(),t.success&&e.context.router.transitionTo("/market/lottery-rule")}),this.state.id?(this.state.mode="update",g.get({id:this.state.id})):this.setState(h.getDefaultItem()),g.queryGameStore()}},componentWillUnmount:{value:function(){this.unsubscribe(),m.stopListeningToAll()}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){g.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},handleConfirm:{value:function(e){e.preventDefault(),"create"===this.state.mode?g.create(this.state):g.update(this.state)}},render:{value:function(){var e=this;return u.createElement("div",{className:"box"},u.createElement("div",{className:"box-header with-border"},u.createElement("h4",null,"大转盘规则详情")),u.createElement("form",{ref:"edit-form",onSubmit:this.handleConfirm.bind(this)},u.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),u.createElement("div",{className:"box-body"},u.createElement("fieldset",null,u.createElement("legend",null,"基础信息"),u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-6 form-group"},u.createElement("label",null,"规则类别"),u.createElement("select",{className:"form-control",value:this.state.type,onChange:function(t){return e.setState({type:t.target.value})}},u.createElement("option",{value:"0"},"充值"))),u.createElement("div",{className:"col-sm-6 form-group"},u.createElement("label",null,"规则名称"),u.createElement("input",{className:"form-control",maxLength:"20",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})},required:!0,placeholder:"规则名称"}))),u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-6 form-group"},u.createElement("label",null,"起止时间"),u.createElement(p,{item:{startField:"startTime",endField:"endTime",format:"YYYY-MM-DD HH:mm:ss"},startDate:this.state.startTime,endDate:this.state.endTime,onDateChange:function(t){return e.setState({startTime:t.startDate.format("YYYY-MM-DD HH:mm:ss"),endTime:t.endDate.format("YYYY-MM-DD HH:mm:ss")})},required:!0})),u.createElement("div",{className:"col-sm-6 form-group"},u.createElement("label",null,"抽奖次数"),u.createElement("input",{className:"form-control",type:"number",min:"0",value:this.state.number,onChange:function(t){return e.setState({number:t.target.value})},required:!0,placeholder:"抽奖次数"}))),u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-12 form-group"},u.createElement("label",null,"规则描述"),u.createElement("textarea",{className:"form-control",rows:"3",maxLength:"100",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})))),u.createElement("fieldset",null,u.createElement("legend",null,"规则条件"),u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-4 form-group"},u.createElement("label",null,"充值类型"),u.createElement("select",{className:"form-control",value:this.state.rechargeType,onChange:function(t){return e.setState({rechargeType:t.target.value})}},u.createElement("option",{value:"0"},"单笔"),u.createElement("option",{value:"1"},"每日"),u.createElement("option",{value:"3"},"每月"),u.createElement("option",{value:"4"},"范围"))),4==this.state.rechargeType&&u.createElement("div",{className:"col-sm-4 form-group"},u.createElement("label",null,"充值时间范围"),u.createElement(p,{item:{startField:"rechargeStartTime",endField:"rechargeEndTime",format:"YYYY-MM-DD HH:mm:ss"},startDate:this.state.rechargeStartTime,endDate:this.state.rechargeEndTime,onDateChange:function(t){return e.setState({rechargeStartTime:t.startDate.format("YYYY-MM-DD HH:mm:ss"),rechargeEndTime:t.endDate.format("YYYY-MM-DD HH:mm:ss")})},required:!0}))),u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-4 form-group"},u.createElement("label",null,"充值条件"),u.createElement("select",{className:"form-control",value:this.state.rechargeCondition,onChange:function(t){return e.setState({rechargeCondition:t.target.value})}},u.createElement("option",{value:"0"},">="),u.createElement("option",{value:"1"},"="),u.createElement("option",{value:"2"},">"))),u.createElement("div",{className:"col-sm-4 form-group"},u.createElement("label",null,"宝币数量"),u.createElement("input",{className:"form-control",type:"number",min:"0",value:this.state.rechargeCoinAmount,onChange:function(t){return e.setState({rechargeCoinAmount:t.target.value})},required:!0,placeholder:"宝币数量"})),u.createElement("div",{className:"col-sm-4 form-group"},u.createElement("label",null,"宝券数量"),u.createElement("input",{className:"form-control",type:"number",min:"0",value:this.state.rechargeBqAmount,onChange:function(t){return e.setState({rechargeBqAmount:t.target.value})},required:!0,placeholder:"宝券数量"})))),u.createElement("fieldset",null,u.createElement("legend",null,"游戏列表"),u.createElement(v,{gameStore:this.state.gameStore,gameList:this.state.gameList,onAdd:function(t){e.state.gameList.push(t),e.setState({gameStore:e.state.gameStore.filter(function(e){return e.id!==t.id})})},onRemove:function(t){e.state.gameStore.push(t),e.setState({gameList:e.state.gameList.filter(function(e){return e.id!==t.id})})}}))),u.createElement("div",{className:"box-footer"},u.createElement("div",{className:"row text-center"},u.createElement("input",{type:"submit",className:"btn btn-primary col-sm-offset-2 col-sm-3",onClick:function(){return g.accept(e.state)},value:"提交"}),u.createElement("input",{type:"button",className:"btn btn-info col-sm-offset-2 col-sm-3",onClick:function(){return e.context.router.transitionTo("/market/lottery-rule")},value:"取消"})))))}}}),t}(c);e.exports=y,y.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(4)),o=a(n(229)),s=a(n(3)),l=a(n(8)),u=a(n(2));e.exports=r.createStore({listenables:o,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0,gameStore:[],gameList:[],mode:"create"}},getDataFilter:function(){return[]},getDefaultItem:function(){return{type:0,name:"",startTime:"",endTime:"",number:0,description:"",rechargeType:0,rechargeStartTime:"",rechargeEndTime:"",rechargeCondition:0,rechargeCoinAmount:0,rechargeBqAmount:0}},onCreate:function(e){var t=this,n=u.domain.market+"/turntable/rule/save",a=function(e){1e3===e.responseCode?(s.success({message:"添加大转盘规则成功"}),t.trigger({success:!0})):s.fail({message:e.errorMsg})},r=i.pick(i.pick(e,["type","name","startTime","endTime","number","description","rechargeType","rechargeStartTime","rechargeEndTime","rechargeCondition","rechargeCoinAmount","rechargeBqAmount"]),function(e){return""!==e});r.rechargeGameIds=e.gameList.map(function(e){return e.id}).join(","),l(n,r,a)},onQuery:function(e){var t=this,n=u.domain.market+"/turntable/rule/queryList",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):s.fail({message:n.errorMsg})},r=i.pick(i.pick(e,["name","publish","beginDateStr","endDateStr"]),function(e){return!i.isEmpty(e)});r.pageNo=e.currentPage+1,r.pageSize=e.perPage,l(n,r,a)},onQueryGameStore:function(e){var t=this,n=u.domain.market+"/app/application/queryPay",a=function(e){1e3===e.responseCode?t.trigger({gameStore:e.data}):s.fail({message:e.errorMsg})},r=i.pick(i.pick(e,["content"]),function(e){return!i.isEmpty(e)});l(n,r,a)},onQueryGameList:function(e){var t=this,n=u.domain.market+"/app/application/queryByIds",a=function(e){1e3===e.responseCode?t.trigger({gameList:e.data}):s.fail({message:e.errorMsg})};e.gameIds;l(n,data,a)},onUpdate:function(e){var t=this,n=u.domain.market+"/turntable/rule/save",a=function(e){1e3===e.responseCode?(s.success({message:"修改大转盘规则成功"}),t.trigger({success:!0})):s.fail({message:e.errorMsg})},r=i.pick(i.pick(e,["id","type","name","startTime","endTime","number","description","rechargeType","rechargeStartTime","rechargeEndTime","rechargeCondition","rechargeCoinAmount","rechargeBqAmount"]),function(e){return""!==e});r.rechargeGameIds=e.gameList.map(function(e){return e.id}).join(","),l(n,r,a)},onDelete:function(e,t){var n=u.domain.market+"/turntable/activity/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(s.success({message:"大转盘活动删除成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onActive:function(e,t){var n=u.domain.market+"/turntable/activity/publish",a={id:t.id,publish:1},r=function(t){1e3===t.responseCode?(s.success({message:"大转盘活动上架成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onDeactive:function(e,t){var n=u.domain.market+"/turntable/activity/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(s.success({message:"大转盘活动下架成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onGet:function(e){var t=this,n=u.domain.market+"/turntable/rule/detail",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):s.fail({message:e.errorMsg})};l(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(228)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0,awardStore:[]}},getDataFilter:function(){return[]},getDefaultItem:function(){return{name:"",startTime:"",endTime:"",conditionType:0,conditionCompare:0,conditionValue:0,introduction:"",dailyLimit:-1,dailyGive:0,prizeIds:""}},onCreate:function(e,t){var n=l.domain.market+"/turntable/activity/save",a=function(t){1e3===t.responseCode?(o.success({message:"添加大转盘活动成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["name","startTime","endTime","conditionType","conditionCompare","conditionValue","introduction","dailyLimit","dailyGive"]);r.prizeIds=t.awardList.list.map(function(e){return e.id}).join(","),s(n,r,a)},onQuery:function(e){var t=this,n=l.domain.market+"/turntable/rule/queryList",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})},r=_.pick(_.pick(e,["name","publish","beginDateStr","endDateStr"]),function(e){return!_.isEmpty(e)});r.pageNo=e.currentPage+1,r.pageSize=e.perPage,s(n,r,a)},onQueryAward:function(e){var t=this,n=l.domain.market+"/turntable/prize/queryAll",a={},r=function(e){1e3===e.responseCode?t.trigger({awardList:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)},onUpdate:function(e,t){var n=l.domain.market+"/turntable/activity/save",a=function(t){1e3===t.responseCode?(o.success({message:"修改大转盘活动成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["id","name","startTime","endTime","conditionType","conditionCompare","conditionValue","introduction","dailyLimit","dailyGive"]);r.prizeIds=t.awardList.list.map(function(e){return e.id}).join(","),s(n,r,a)},onDelete:function(e,t){var n=l.domain.market+"/turntable/rule/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"大转盘规则删除成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/turntable/activity/publish",a={id:t.id,publish:1},r=function(t){1e3===t.responseCode?(o.success({message:"大转盘活动上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/turntable/activity/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(o.success({message:"大转盘活动下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/coupon/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a={GameList:n(219),GameDetail:n(217),GameCategory:n(498),GameStatistic:n(505),GameActivity:n(490),GameBenifit:n(496),GameTop:n(506),GameRefined:n(503),GameNews:n(501),GameBanner:n(494),GameAdvertise:n(492),SoftwareList:n(538),SoftwareDetail:n(537),SoftwareCategory:n(536),SoftwareStatistic:n(539),MarketBanner:n(519),MarketSearch:n(521),FootballNews:n(484),FootballImage:n(482),FootballSetting:n(486),FootballCategory:n(481),FriendsLink:n(488),AwardList:n(472),AwardHistory:n(470),ConsumptionList:n(476),DownloadAward:n(477),DownloadHistory:n(480),DownloadConsumption:n(479),ShareAward:n(532),ShareHistory:n(535),ShareConsumption:n(534),BrowserAward:n(474),PartnerList:n(531),LotteryActivity:n(508),LotteryHistory:n(512),LotteryAward:n(510),LotteryRule:n(514),LotteryRuleDetail:n(515),MemberLevel:n(529),MemberFee:n(527),MemberActivity:n(523),MemberActivityDetail:n(524)};e.exports=a},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=n(11),i=n(1),o=(n(2),n(520)),s=n(230),l=n(7),u=n(25),c=n(9),d=a(n(13));n(904);var m=(r.createClass({displayName:"EditDialogOld",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return o.getDefaultItem()},handleConfirm:function(e){e.preventDefault();var t=new FormData(r.findDOMNode(this.refs["edit-form"]));"create"===this.state.mode?this.props.onCreate(t):this.props.onUpdate(t),$(r.findDOMNode(this.refs["edit-dialog"])).modal("hide")},create:function(e){this.refs.dialog.create(Object.assign(o.getDefaultItem(),{platform:e}))},update:function(e){this.refs.dialog.update(e)},componentDidMount:function(){this.dialog=$(r.findDOMNode(this.refs["edit-dialog"])),this.dialog.on("hidden.bs.modal",function(){this.refs["image-uploader"].clearImage()}.bind(this))},render:function(){return r.createElement("div",{className:"modal fade edit-dialog",ref:"edit-dialog"},r.createElement("div",{className:"modal-dialog modal-lg"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},r.createElement("span",null,"×")),r.createElement("h4",{className:"modal-title"},"create"===this.state.mode?"添加游戏Banner":"修改游戏Banner")),r.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},"create"===this.state.mode?"":r.createElement("input",{type:"hidden",name:"id",value:this.state.id}),r.createElement("input",{type:"hidden",name:"rowVersion",value:this.state.rowVersion}),r.createElement("input",{type:"hidden",name:"platform",value:this.state.platform}),r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"排序"),r.createElement("div",{className:"col-sm-10"},r.createElement("input",{className:"form-control",required:!0,min:"0",name:"order",type:"number",valueLink:this.linkState("order")}))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"链接类型"),r.createElement("div",{className:"col-sm-10"},r.createElement("select",{className:"form-control",name:"type",valueLink:this.linkState("type")},r.createElement("option",{value:"0"},"游戏ID"),r.createElement("option",{value:"1"},"链接"),r.createElement("option",{value:"2"},"无链接"),r.createElement("option",{value:"3"},"活动ID")))),this.state.type+""=="0"?r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"游戏ID"),r.createElement("div",{className:"col-sm-10"},r.createElement("input",{className:"form-control",required:!0,type:"text",placeholder:"游戏ID",name:"data",valueLink:this.linkState("data")}))):"",this.state.type+""=="3"?r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"活动ID"),r.createElement("div",{className:"col-sm-10"},r.createElement("input",{className:"form-control",required:!0,type:"text",placeholder:"活动ID",name:"data",valueLink:this.linkState("data")}))):"",this.state.type+""=="1"?r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"跳转链接"),r.createElement("div",{className:"col-sm-10"},r.createElement("input",{className:"form-control",required:!0,type:"text",placeholder:"跳转链接",name:"data",valueLink:this.linkState("data")}))):"",r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"Banner图片"),r.createElement("div",{className:"col-sm-10"},r.createElement(u,{ref:"image-uploader",name:"file",imageUrl:this.state.url})))),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),r.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}),r.createClass({displayName:"BannerList",getInitialState:function(){return{data:o.getDefaultData()}},showCreate:function(){this.refs.dialog.create(Object.assign({},o.getDefaultItem(),{platform:o.getPlatformMap()[this.props.type]}))},showUpdate:function(e){this.refs.dialog.update(e)},showDelete:function(e){c.warning({message:"是否删除此Banner "+e.id,onConfirm:this.deleteData.bind(null,e)})},createData:function(e){s.create({item:e,type:this.props.type,filter:this.state.filter,data:this.state.data})},updateData:function(e){s.update({item:e,type:this.props.type,filter:this.state.filter,data:this.state.data})},deleteData:function(e){s["delete"]({item:e,type:this.props.type,filter:this.state.filter,data:this.state.data})},putawayData:function(e){s.putaway({item:e,type:this.props.type,filter:this.state.filter,data:this.state.data})},withdrawData:function(e){s.withdraw({item:e,type:this.props.type,filter:this.state.filter,data:this.state.data})},render:function(){return r.createElement("div",{className:"box"},r.createElement("div",{className:"box-header"},r.createElement("h3",{className:"box-title"},this.props.title),r.createElement("div",{className:"box-tools"},r.createElement("button",{className:"btn btn-primary",onClick:this.showCreate},"创建"))),r.createElement(l,{disablePaginator:!0,disableAutoLoad:!0,data:this.props.data,dataMap:[{name:"排序",field:"order"},{name:"图片",value:function(e){return r.createElement("img",{className:"preview",src:e.url})},field:"url"},{name:"链接",field:"gotoUrl"},{name:"游戏ID",field:"appId"},{name:"状态",field:"publish",value:function(e){return"0"===e.publish?"已下架":"已上架"}}],operations:[{name:"修改",icon:"info",callback:this.showUpdate},{name:"删除",icon:"danger",callback:this.showDelete},{name:"上架",icon:"success",callback:this.putawayData,disabled:function(e){return"1"===e.publish}},{name:"下架",icon:"warning",callback:this.withdrawData,disabled:function(e){return"0"===e.publish}}]}),r.createElement(d,{ref:"dialog",title:"游戏Banner",useFormData:!0,items:[{type:"hidden",field:"platform"},{type:"hidden",field:"rowVersion"},{type:"number",field:"order",min:"0",name:"排序",required:!0},{type:"select",field:"type",name:"链接类型",options:[{name:"游戏ID",value:"0"},{name:"链接",value:"1"},{name:"无链接",value:"2"},{name:"活动ID",value:"3"}]},{field:"data",name:"游戏ID",required:!0,hide:function(e){return 0!=e.type}},{field:"data",name:"活动ID",required:!0,hide:function(e){return 3!=e.type}},{type:"url",field:"data",name:"跳转链接",required:!0,hide:function(e){return 1!=e.type}},{type:"image",field:"file",urlField:"url",name:"Banner图片",required:!0},{type:"date",name:"上架时间",startField:"effectTime",endField:"invalidTime",format:"YYYY-MM-DD HH:mm:ss",timePicker:!0,required:!0}],onCreate:this.createData,onUpdate:this.updateData}))}})),f=r.createClass({displayName:"MarketBanner",mixins:[i.connect(o,"banners")],getInitialState:function(){return o.getDefaultData()},componentDidMount:function(){s.query({type:"android"}),s.query({type:"ios"})},render:function(){return r.createElement("div",null,r.createElement(m,{title:"Android Banner",type:"android",data:this.state.banners.android}),r.createElement(m,{title:"iOS Banner",type:"ios",data:this.state.banners.ios}))}});e.exports=f},function(e,t,n){"use strict";var a=n(1),r=n(230),i={android:{list:[]},ios:{list:[]}},o={android:1,ios:0},s=a.createStore({listenables:r,getDefaultData:function(){return{banners:i}},getDefaultItem:function(){return{type:0,data:"",order:0,url:"",rowVersion:0}},getPlatformMap:function(){return o},onQueryCompleted:function(e){e.list.forEach(function(e){"0"===e.type?e.appId=e.data:"1"===e.type&&(e.gotoUrl=e.data)}),i[e.type].list=e.list,this.trigger(i)}});e.exports=s},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(522),o=n(231),s=n(85),l=a.createClass({displayName:"MarketCategory",mixins:[r.connect(i,"hotwords")],getInitialState:function(){return i.getDefaultData()},componentDidMount:function(){o.query({type:"android"}),o.query({type:"ios"})},saveData:function(e,t){o.save({type:e,data:t})},render:function(){return a.createElement("div",null,a.createElement(s,{title:"Android搜索管理",searchMode:!0,disableSubcategory:!0,categories:this.state.hotwords.android,onSaveData:this.saveData.bind(null,"android")}),a.createElement(s,{title:"iOS搜索管理",searchMode:!0,disableSubcategory:!0,categories:this.state.hotwords.ios,onSaveData:this.saveData.bind(null,"ios")}))}});e.exports=l},function(e,t,n){"use strict";var a=n(1),r=n(231),i={android:[],ios:[]},o=a.createStore({listenables:r,getDefaultData:function(){return{hotwords:i}},onQueryCompleted:function(e){e.list.forEach(function(e,t){e.id=t,e.name=e.keyword}),i[e.type]=e.list,this.trigger(i)},onSave:function(e){var t=e.data;t=_.filter(t,function(e){return"delete"!==e.operation}),t=_.map(t,function(e,t){return{keyword:e.name,orderId:t}}),r.update({type:e.type,item:t})}});e.exports=o},function(e,t,n){
"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},i=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function E(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:E(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=n(11),c=a(u),d=u.Component,m=n(1),f=(a(m),m.ListenerMethods),p=a(n(12)),h=a(n(7)),g=(a(n(13)),a(n(526))),v=a(n(232)),y=a(n(9)),b=a(n(26)),_=(a(n(3)),function(e){function t(){l(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.state={currentDate:"",currentCount:0,calendar:[]}}return s(t,e),i(t,{componentDidMount:{value:function(){var e=this;this.$dialog=$(this.refs["edit-dialog"].getDOMNode()),g.listen(function(t){t.calendar&&e.setState({calendar:t.calendar},function(){$("#activity-clndr .day").each(function(){var e=$(this).attr("class").split(" ").find(function(e){return e.startsWith("calendar-day-")}).slice(13),n=t.calendar.find(function(t){return t.date===e}).count;n>0&&$(this).prepend('<span class="badge bg-red pull-right">'+n+"</span>")})})}),this.initCalendar()}},initCalendar:{value:function(){var e="<div class='clndr-controls text-center row'><div class='clndr-control-button col-md-4'><span class='clndr-previous-button'>上个月</span></div><div class='month col-md-4'><%= year %>年 <%= month %>月</div><div class='clndr-control-button rightalign col-md-4'><span class='clndr-next-button'>下个月</span></div></div><br/><table class='clndr-table table table-striped table-bordered' border='0' cellspacing='0' cellpadding='0'><thead><tr class='header-days'><% for(var i = 0; i < daysOfTheWeek.length; i++) { %><td class='header-day'><%= daysOfTheWeek[i] %></td><% } %></tr></thead><tbody><% for(var i = 0; i < numberOfRows; i++){ %><tr><% for(var j = 0; j < 7; j++){ %><% var d = j + i * 7; %><td class='<%= days[d].classes %>'><div class='day-contents'><%= days[d].day %></div></td><% } %></tr><% } %></tbody></table>",t=this,n=$("#activity-clndr").delegate(".day","mouseover",function(){var e=$(this).attr("class").split(" ").find(function(e){return e.startsWith("calendar-day-")}).slice(13),n=t.state.calendar.find(function(t){return t.date===e}).count;t.setState({currentDate:e,currentCount:n})}).delegate(".day","mouseout",function(){t.setState({currrentDate:null,currentCount:0})}),a=n.clndr({template:e,daysOfTheWeek:["日","一","二","三","四","五","六"],showAdjacentMonths:!1,doneRendering:function(){var e=moment().format("YYYY-MM");a&&(e=a.month.format("YYYY-MM")),v.queryCalendar({month:e})}})}},show:{value:function(e){this.$dialog.modal("show")}},render:{value:function(){return c.createElement("div",{className:"modal fade edit-dialog",ref:"edit-dialog"},c.createElement("div",{className:"modal-dialog"},c.createElement("div",{className:"modal-content"},c.createElement("div",{className:"modal-header"},c.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},c.createElement("span",null,"×")),c.createElement("h4",{className:"modal-title"},"活动日历")),c.createElement("div",{className:"modal-body"},c.createElement("div",{id:"activity-clndr"}),c.createElement("div",{className:"text-center"},this.state.currentCount?""+this.state.currentDate+" 活动数: "+this.state.currentCount:null)),c.createElement("div",{className:"modal-footer"},c.createElement("input",{type:"button",className:"btn btn-default",value:"取消","data-dismiss":"modal"})))))}}}),t}(d)),D=function(e){function t(e,n){l(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=g.getInitialState()}return s(t,e),i(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=g.listen(function(t){t.data&&e.setState(t.data),t.levelList&&e.setState({levelStore:t.levelList})}),b.loadState(this),v.queryLevel()}},componentWillUnmount:{value:function(){this.unsubscribe(),f.stopListeningToAll()}},showCreate:{value:function(){b.saveState(this),this.context.router.transitionTo("/market/member-activity-detail")}},showClone:{value:function(e){b.saveState(this),this.context.router.transitionTo("/market/member-activity-detail",{},{id:e.id,clone:!0})}},showInfo:{value:function(e){b.saveState(this),this.context.router.transitionTo("/market/member-activity-detail",{},{id:e.id,readOnly:!0})}},showUpdate:{value:function(e){b.saveState(this),this.context.router.transitionTo("/market/member-activity-detail",{},{id:e.id})}},showDelete:{value:function(e){y.warning({message:"是否删除会员活动 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){var e=this,t=g.getDataFilter();return t.find(function(e){return"memberLevelId"===e.field}).options=[{name:"全部",value:""}].concat(r(this.state.levelStore)),t.push({type:"button",text:"活动日历",callback:function(){e.refs["calendar-dialog"].show()}}),c.createElement("div",{className:"box"},c.createElement(p,{ref:"data-filter",filters:t,onFilterData:this.filterData.bind(this),onCreateData:this.showCreate.bind(this)}),c.createElement(h,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"活动名称",field:"name"},{name:"游戏ID",field:"appId"},{name:"游戏名称",field:"appName"},{name:"充值金额",field:"qbCur"},{name:"奖励",field:"award"},{name:"会员等级",field:"memberLevel"},{name:"开始时间",field:"beginDateStr"},{name:"结束时间",field:"endDateStr"},{name:"状态",field:"status",value:function(e){switch(e.status){case"0":return"已下架";case"1":return"已上架";case"2":return"已到期";case"9":return"未上架"}}}],operations:[{name:"查看",icon:"info",disabled:function(e){var t=parseInt(e.status);return 9===t},callback:this.showInfo.bind(this)},{name:"编辑",icon:"info",disabled:function(e){var t=parseInt(e.status);return 0===t||1===t||2===t},callback:this.showUpdate.bind(this)},{name:"上架",icon:"success",disabled:function(e){var t=parseInt(e.status);return 0===t||1===t||2===t},callback:v.active.bind(this,this.state)},{name:"下架",icon:"warning",disabled:function(e){var t=parseInt(e.status);return 0===t||2===t||9===t},callback:v.deactive.bind(this,this.state)},{name:"克隆",icon:"default",disabled:function(e){var t=parseInt(e.status);return 1===t||9===t},callback:this.showClone.bind(this)},{name:"删除",icon:"danger",disabled:function(e){var t=parseInt(e.status);return 0===t||1===t||2===t},callback:this.showDelete.bind(this)}]}),c.createElement(_,{ref:"calendar-dialog"}))}}}),t}(d);e.exports=D,D.contextTypes={router:c.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},i=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function M(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:M(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=n(11),c=a(u),d=u.Component,m=n(1),f=(a(m),m.ListenerMethods),p=n(14),h=(a(p),p.Link,a(n(42))),g=a(n(12)),v=a(n(7)),y=a(n(55)),b=a(n(525)),_=a(n(233)),D=(a(n(9)),function(e){function t(){l(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.state={list:[],totalCount:0,perPage:10,currentPage:0,categoryStore:[]}}return s(t,e),i(t,{componentDidMount:{value:function(){var e=this;this.$dialog=$(this.refs["edit-dialog"].getDOMNode()),b.listen(function(t){t.gameStore&&e.setState(t.gameStore),t.categoryStore&&e.setState({categoryStore:t.categoryStore})}),_.queryCategoryStore()}},create:{value:function(e){var t=this;this.setState(Object.assign(e,{mode:"create"}),function(){t.$dialog.modal("show")})}},show:{value:function(e){var t=this;this.setState(Object.assign(e,{mode:"show"}),function(){t.$dialog.modal("show")})}},update:{value:function(e){var t=this;this.setState(Object.assign(e,{mode:"update"}),function(){t.$dialog.modal("show")})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){_.queryGameStore(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},selectData:{value:function(e){this.props.onSelect(e),this.$dialog.modal("hide")}},render:{value:function(){return c.createElement("div",{className:"modal fade edit-dialog",ref:"edit-dialog"},c.createElement("div",{className:"modal-dialog modal-lg"},c.createElement("div",{className:"modal-content"},c.createElement("div",{className:"modal-header"},c.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},c.createElement("span",null,"×")),c.createElement("h4",{className:"modal-title"},"关联游戏")),c.createElement("div",{className:"modal-body"},c.createElement(g,{ref:"data-filter",filters:[{name:"游戏名称",field:"title"},{name:"游戏类型",field:"categoryId",type:"select",options:[{name:"所有",value:""}].concat(r(this.state.categoryStore))}],filterText:"搜索",onFilterData:this.filterData.bind(this)}),c.createElement(v,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"游戏ID",field:"appId"},{name:"游戏名称",field:"appTitle"},{name:"游戏类型",field:"cateName"}],operations:[{name:"选择",icon:"default",callback:this.selectData.bind(this)}]})),c.createElement("div",{className:"modal-footer"},c.createElement("input",{type:"button",className:"btn btn-default",value:"取消","data-dismiss":"modal"})))))}}}),t}(d)),E=function(e){function t(e,n){l(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=b.getInitialState(),this.state.id=n.router.getCurrentQuery().id,this.state.clone=!!n.router.getCurrentQuery().clone,this.state.readOnly=!!n.router.getCurrentQuery().readOnly}return s(t,e),i(t,{componentDidMount:{value:function(){var e=this;this.unsubscribe=b.listen(function(t){t.item&&(null===t.item.isMember&&(t.item.isMember=1),"create"===e.state.mode&&(t.item.beginDate="",t.item.endDate="",t.item.iconExpireTime=""),e.setState(t.item)),t.memberStore&&(e.setState({memberStore:t.memberStore}),"create"!==e.state.mode||e.state.memberLevelId||e.setState({memberLevelId:t.memberStore[0].id})),t.success&&e.context.router.transitionTo("/market/member-activity")}),this.state.id?(this.state.clone?this.state.mode="create":this.state.mode="update",_.get({id:this.state.id})):this.setState(b.getDefaultItem()),_.queryMemberStore()}},componentWillUnmount:{value:function(){this.unsubscribe(),f.stopListeningToAll()}},handleConfirm:{value:function(e){e.preventDefault(),this.state.rule=this.refs["rich-rule"].getSource(),this.state.notice=this.refs["rich-notice"].getSource(),this.state.awardRule=this.refs["rich-award"].getSource(),"create"===this.state.mode?_.create(this.state):_.update(this.state)}},render:{value:function(){var e=this;return c.createElement("div",{className:"box"},c.createElement("div",{className:"box-header with-border"},c.createElement("h4",null,"会员活动详情")),c.createElement("form",{ref:"edit-form",onSubmit:this.handleConfirm.bind(this)},c.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),c.createElement("div",{className:"box-body"},c.createElement("fieldset",null,c.createElement("legend",null,"基础信息"),c.createElement("div",{className:"row"},c.createElement("div",{className:"col-sm-4 form-group"},c.createElement("label",null,"活动名称"),c.createElement("input",{className:"form-control",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})},maxLength:50,required:!0,placeholder:"活动名称"})),c.createElement("div",{className:"col-sm-4 form-group"},c.createElement("label",null,"是否会员"),c.createElement("select",{className:"form-control",value:this.state.isMember,onChange:function(t){return e.setState({isMember:t.target.value})}},c.createElement("option",{value:"1"},"是"),c.createElement("option",{value:"0"},"否"))),1==this.state.isMember&&c.createElement("div",{className:"col-sm-4 form-group"},c.createElement("label",null,"会员等级"),c.createElement("select",{className:"form-control",value:this.state.memberLevelId,onChange:function(t){return e.setState({memberLevelId:t.target.value})}},this.state.memberStore.map(function(e,t){return c.createElement("option",{key:t,value:e.id},e.name)})))),c.createElement("div",{className:"row"},c.createElement("div",{className:"col-sm-4 form-group"},c.createElement("label",null,"关联游戏"),c.createElement("input",{className:"form-control",value:this.state.appId,onClick:function(){e.refs.gameDialog.show({})},required:!0,readOnly:!0,placeholder:"点击选择"})),c.createElement("div",{className:"col-sm-4 form-group"},c.createElement("label",null,"是否重复发送"),c.createElement("select",{className:"form-control",value:this.state.isRepeat,onChange:function(t){return e.setState({isRepeat:t.target.value})}},c.createElement("option",{value:"1"},"是"),c.createElement("option",{value:"0"},"否"))),c.createElement("div",{className:"col-sm-4 form-group"},c.createElement("label",null,"活动排序"),c.createElement("input",{className:"form-control",type:"number",min:"0",value:this.state.rank,onChange:function(t){return e.setState({rank:t.target.value})},required:!0,placeholder:"活动排序"}))),c.createElement("div",{className:"row"},c.createElement("div",{className:"col-sm-4 form-group"},c.createElement("label",null,"发布时间"),c.createElement(h,{item:{startField:"beginDate",endField:"endDate",minDate:moment().startOf("day"),format:"YYYY-MM-DD HH:mm:ss"},startDate:this.state.beginDate,endDate:this.state.endDate,onDateChange:function(t){return e.setState({beginDate:t.startDate.format("YYYY-MM-DD HH:mm:ss"),endDate:t.endDate.format("YYYY-MM-DD HH:mm:ss")})},required:!0})),c.createElement("div",{className:"col-sm-4 form-group"},c.createElement("label",null,"小图标"),c.createElement("select",{className:"form-control",value:this.state.iconFlag,onChange:function(t){return e.setState({iconFlag:t.target.value})}},c.createElement("option",{value:"0"},"无"),c.createElement("option",{value:"1"},"最新"),c.createElement("option",{value:"3"},"最热"))),c.createElement("div",{className:"col-sm-4 form-group"},c.createElement("label",null,"标识下架时间"),c.createElement(h,{item:{startField:"iconExpireTime",format:"YYYY-MM-DD HH:mm:ss",minDate:moment().startOf("day"),timePicker:!0},startDate:this.state.iconExpireTime,onDateChange:function(t){return e.setState({iconExpireTime:t.startDate.format("YYYY-MM-DD HH:mm:ss")})},required:!0}))),c.createElement("div",{className:"row"},c.createElement("div",{className:"col-sm-4 form-group"},c.createElement("label",null,"消费条件（宝币）"),c.createElement("input",{className:"form-control",type:"number",min:"0",value:this.state.qbCur,onChange:function(t){return e.setState({qbCur:t.target.value})},required:!0,placeholder:"消费条件（宝币）"})),c.createElement("div",{className:"col-sm-4 form-group"},c.createElement("label",null,"奖励（宝券）"),c.createElement("input",{className:"form-control",type:"number",min:"0",value:this.state.award,onChange:function(t){return e.setState({award:t.target.value})},required:!0,placeholder:"奖励（宝券）"})))),c.createElement("fieldset",null,c.createElement("legend",null,"规则条件"),c.createElement("div",{className:"row"},c.createElement("div",{className:"col-sm-12 form-group"},c.createElement("label",null,"活动规则"),c.createElement(y,{ref:"rich-rule",source:this.state.rule}))),c.createElement("div",{className:"row"},c.createElement("div",{className:"col-sm-12 form-group"},c.createElement("label",null,"注意事项"),c.createElement(y,{ref:"rich-notice",source:this.state.notice}))),c.createElement("div",{className:"row"},c.createElement("div",{className:"col-sm-12 form-group"},c.createElement("label",null,"奖励发放"),c.createElement(y,{ref:"rich-award",source:this.state.awardRule}))))),c.createElement("div",{className:"box-footer"},c.createElement("div",{className:"row text-center"},this.state.readOnly?null:c.createElement("input",{type:"submit",className:"btn btn-primary col-sm-offset-2 col-sm-3",onClick:function(){return _.accept(e.state)},value:"提交"}),c.createElement("input",{type:"button",className:"btn btn-info col-sm-offset-2 col-sm-3",onClick:function(){return e.context.router.transitionTo("/market/member-activity")},value:"取消"})))),c.createElement(D,{ref:"gameDialog",onSelect:function(t){return e.setState({appId:t.appId})}}))}}}),t}(d);e.exports=E,E.contextTypes={router:c.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(4)),o=a(n(233)),s=a(n(3)),l=a(n(8)),u=a(n(2));e.exports=r.createStore({listenables:o,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0,memberStore:[],gameStore:[],gameList:[],mode:"create",isMember:1,isRepeat:0,iconFlag:0}},getDataFilter:function(){return[]},getDefaultItem:function(){return{type:0,name:"",startTime:"",endTime:"",number:0,description:"",rechargeType:0,rechargeStartTime:"",rechargeEndTime:"",rechargeCondition:0,rechargeCoinAmount:0,rechargeBqAmount:0}},onCreate:function(e){var t=this,n=u.domain.market+"/app/coupon/insertOrUpdate",a=function(e){1e3===e.responseCode?(s.success({message:"添加会员活动成功"}),t.trigger({success:!0})):s.fail({message:e.errorMsg})},r=i.pick(i.pick(e,["appId","name","isRepeat","qbCur","award","beginDate","endDate","iconExpireTime","iconFlag","isMember","memberLevelId","rule","notice","awardRule"]),function(e){return""!==e});l(n,r,a)},onQuery:function(e){var t=this,n=u.domain.market+"/turntable/rule/queryList",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):s.fail({message:n.errorMsg})},r=i.pick(i.pick(e,["name","publish","beginDateStr","endDateStr"]),function(e){return!i.isEmpty(e)});r.pageNo=e.currentPage+1,r.pageSize=e.perPage,l(n,r,a)},onQueryMemberStore:function(e){var t=this,n=u.domain.market+"/memberInfo/queryForLevelList",a={},r=function(e){1e3===e.responseCode?t.trigger({memberStore:e.data}):s.fail({message:e.errorMsg})};l(n,a,r)},onQueryGameStore:function(e){var t=this,n=u.domain.market+"/app/application/selectAppForChoose",a=function(n){1e3===n.responseCode?t.trigger({gameStore:{list:n.data.aaData,totalCount:n.data.itotalRecords,perPage:e.perPage,currentPage:e.currentPage}}):s.fail({message:n.errorMsg})},r=i.pick(i.pick(e,["title","categoryId"]),function(e){return!i.isEmpty(e)});r.pageNo=e.currentPage+1,r.pageSize=e.perPage,l(n,r,a)},onQueryCategoryStore:function(e){var t=this,n=u.domain.market+"/app/category/selectTopCategoryByType",a={type:0},r=function(e){1e3===e.responseCode?t.trigger({categoryStore:e.data.map(function(e){return Object.assign(e,{value:e.id})})}):s.fail({message:e.errorMsg})};l(n,a,r)},onUpdate:function(e){var t=this,n=u.domain.market+"/app/coupon/insertOrUpdate",a=function(e){1e3===e.responseCode?(s.success({message:"更新会员活动成功"}),t.trigger({success:!0})):s.fail({message:e.errorMsg})},r=i.pick(i.pick(e,["id","appId","name","isRepeat","qbCur","award","beginDate","endDate","iconExpireTime","iconFlag","isMember","memberLevelId","rule","notice","awardRule"]),function(e){return""!==e});l(n,r,a)},onDelete:function(e,t){var n=u.domain.market+"/turntable/activity/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(s.success({message:"大转盘活动删除成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onActive:function(e,t){var n=u.domain.market+"/turntable/activity/publish",a={id:t.id,publish:1},r=function(t){1e3===t.responseCode?(s.success({message:"大转盘活动上架成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onDeactive:function(e,t){var n=u.domain.market+"/turntable/activity/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(s.success({message:"大转盘活动下架成功"}),o.query(e)):s.fail({message:t.errorMsg})};l(n,a,r)},onGet:function(e){var t=this,n=u.domain.market+"/app/coupon/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):s.fail({message:e.errorMsg})};l(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(232)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0,levelStore:[]}},getDataFilter:function(){return[{field:"couponName",name:"活动名称"},{type:"date",format:"YYYY-MM-DD HH:mm:ss",startField:"beginDateStr",endField:"endDateStr",name:"发布时间"},{field:"publish",type:"select",name:"活动状态",options:[{name:"全部",value:""},{name:"已下架",value:0},{name:"已上架",value:1}]},{field:"memberLevelId",type:"select",name:"会员等级",options:[{name:"全部",value:""}]},{field:"name",name:"游戏ID或名称"},{field:"qbCur",name:"充值金额"},{field:"award",name:"奖励"}]},getDefaultItem:function(){return{name:"",dayNum:1,memberInfoIds:"",levelList:[]}},onCreate:function(e,t){var n=l.domain.market+"/memberPayMode/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"添加会员付费模式成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["name","dayNum","memberInfoIds"]);s(n,r,a)},onQuery:function(e){var t=this,n=l.domain.market+"/app/coupon/selectPaged",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.aaData,totalCount:n.data.itotalRecords,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})},r=_.pick(_.pick(e,["couponName","beginDateStr","endDateStr","publish","memberLevelId","name","qbCur","award"]),function(e){return!_.isEmpty(e)});r.pageNo=e.currentPage+1,r.pageSize=e.perPage,s(n,r,a)},onQueryLevel:function(e){var t=this,n=l.domain.market+"/memberInfo/queryForLevelList",a={},r=function(e){1e3===e.responseCode?t.trigger({levelList:e.data.map(function(e){return Object.assign(e,{value:e.id})})}):o.fail({message:e.errorMsg})};s(n,a,r)},onQueryCalendar:function(e){var t=this,n=l.domain.market+"/app/coupon/activityCalendar",a={month:e.month},r=function(e){1e3===e.responseCode?t.trigger({calendar:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)},onUpdate:function(e,t){var n=l.domain.market+"/memberPayMode/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"修改会员付费模式成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["id","name","dayNum","memberInfoIds"]);s(n,r,a)},onDelete:function(e,t){var n=l.domain.market+"/app/coupon/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"删除会员付费模式成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/app/coupon/publish",a={id:t.id,publish:1},r=function(t){1e3===t.responseCode?(o.success({message:"奖励配置上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/app/coupon/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(o.success({message:"奖励配置下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/coupon/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function D(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:D(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=(a(n(135)),a(n(528))),g=a(n(234)),v=a(n(9)),y=(a(n(3)),a(n(4))),b=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.state={mode:"create",levelList:[]}}return o(t,e),r(t,{componentDidMount:{value:function(){this.$dialog=$(this.refs["edit-dialog"].getDOMNode())}},create:{value:function(e){var t=this;this.setState(Object.assign(e,{mode:"create"}),function(){t.$dialog.modal("show")})}},show:{value:function(e){var t=this;this.setState(Object.assign(e,{mode:"show"}),function(){t.$dialog.modal("show")})}},update:{value:function(e){var t=this;this.setState(Object.assign(e,{mode:"update"}),function(){t.$dialog.modal("show")})}},handleConfirm:{value:function(e){var t=this;e.preventDefault(),this.state.memberInfoIds=this.state.levelList.join(","),this.setState(this.state,function(){"create"===t.state.mode?t.props.onCreate(t.state):t.props.onUpdate(t.state),t.$dialog.modal("hide")})}},render:{value:function(){var e=this,t=this.props.title;switch(this.state.mode){case"create":t="添加"+t;break;case"update":t="修改"+t;break;case"show":t="查看"+t}var n=y.chunk(this.props.levelStore,2);return u.createElement("div",{className:"modal fade edit-dialog",ref:"edit-dialog"},u.createElement("div",{className:"modal-dialog modal-lg"},u.createElement("div",{className:"modal-content"},u.createElement("div",{className:"modal-header"},u.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},u.createElement("span",null,"×")),u.createElement("h4",{className:"modal-title"},t)),u.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm.bind(this)},u.createElement("div",{className:"modal-body"},u.createElement("div",{className:"form-group"},u.createElement("label",{className:"col-sm-2 control-label"},"模式显示名"),u.createElement("div",{className:"col-sm-10"},u.createElement("input",{type:"text",className:"form-control",placeholder:"模式显示名",value:this.state.name,required:!0,disabled:"show"===this.state.mode,onChange:function(t){e.setState({name:t.target.value})}}))),u.createElement("div",{className:"form-group"},u.createElement("label",{className:"col-sm-2 control-label"},"付费天数"),u.createElement("div",{className:"col-sm-10"},u.createElement("input",{type:"number",className:"form-control",placeholder:"付费天数",min:"1",required:!0,disabled:"show"===this.state.mode,value:this.state.dayNum,onChange:function(t){e.setState({dayNum:t.target.value})}}))),u.createElement("div",{className:"form-group"},u.createElement("label",{className:"col-sm-2 control-label"},"关联等级"),u.createElement("div",{className:"col-sm-10"},u.createElement("table",{className:"table table-bordered table-hover text-center"},u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"选择"),u.createElement("th",null,"会员等级"),u.createElement("th",null,"付费金额"),u.createElement("th",null,"启用状态"),u.createElement("th",null,"选择"),u.createElement("th",null,"会员等级"),u.createElement("th",null,"付费金额"),u.createElement("th",null,"启用状态"))),u.createElement("tbody",{className:"data-table"},n.map(function(t,n){return u.createElement("tr",{key:n},u.createElement("td",null,u.createElement("input",{type:"checkbox",style:{width:"auto"},checked:e.state.levelList.indexOf(t[0].id)>=0,disabled:"show"===e.state.mode,onChange:function(n){n.target.checked?e.state.levelList.push(t[0].id):y.remove(e.state.levelList,function(e){return e===t[0].id}),e.setState({levelList:e.state.levelList})}})),u.createElement("td",null,""+t[0].memberName+" ("+t[0].memberLevelName+")"),u.createElement("td",null,t[0].standardCost*e.state.dayNum),u.createElement("td",null,0===t[0].status?"启用":"暂停"),t[1]&&u.createElement("td",null,u.createElement("input",{type:"checkbox",style:{width:"auto"},checked:e.state.levelList.indexOf(t[1].id)>=0,disabled:"show"===e.state.mode,onChange:function(n){n.target.checked?e.state.levelList.push(t[1].id):y.remove(e.state.levelList,function(e){return e===t[1].id}),e.setState({levelList:e.state.levelList})}})),t[1]&&u.createElement("td",null,""+t[1].memberName+" ("+t[1].memberLevelName+")"),t[1]&&u.createElement("td",null,t[1].standardCost*e.state.dayNum),t[1]&&u.createElement("td",null,0===t[1].status?"启用":"暂停"))}))),u.createElement("div",{className:"group-operation"},u.createElement("input",{type:"button",disabled:"show"===this.state.mode,className:"btn btn-sm btn-default",onClick:function(){e.setState({levelList:e.props.levelStore.map(function(e){return e.id})})},value:"全选"}))))),u.createElement("div",{className:"modal-footer"},u.createElement("input",{type:"button",className:"btn btn-default",value:"取消","data-dismiss":"modal"}),u.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}}),t}(c),_=function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=h.getInitialState(),this.state.mode="create"}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;h.listen(function(t){t.data&&e.setState(t.data),t.levelList&&e.setState({levelStore:t.levelList}),t.item&&e.refs.dialog.update(t.item)}),g.queryLevel()}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},showCreate:{value:function(){var e=this;this.setState({mode:"create"},function(){e.refs.dialog.create(h.getDefaultItem())})}},showUpdate:{value:function(e){var t=this;this.setState({mode:"update"},function(){t.refs.dialog.update(Object.assign(e,{levelList:e.memberInfoIds?e.memberInfoIds.split(",").map(function(e){return parseInt(e,10)}):[]}))})}},showView:{value:function(e){var t=this;this.setState({mode:"view"},function(){t.refs.dialog.show(Object.assign(e,{levelList:e.memberInfoIds?e.memberInfoIds.split(",").map(function(e){return parseInt(e,10)}):[]}))})}},showDelete:{value:function(e){v.warning({message:"是否删除会员付费模式 "+e.name,onConfirm:g["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){this.context.router.transitionTo("/market/award-history",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){g.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:h.getDataFilter(),onFilterData:this.filterData.bind(this),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"模式显示名",field:"name"},{name:"付费天数",field:"dayNum"},{name:"关联会员等级",field:"memberLevelNames",value:function(e){return u.createElement("div",null,y.chunk(e.memberLevelNames.split(","),4).map(function(e,t){return u.createElement("p",{key:t},e.join(","))}))}},{name:"创建时间",field:"createTime"}],operations:[{name:"查看",icon:"default",callback:this.showView.bind(this)},{name:"编辑",icon:"info",
callback:this.showUpdate.bind(this)},{name:"删除",icon:"danger",callback:this.showDelete.bind(this)}]}),u.createElement(b,{ref:"dialog",title:"会员付费模式",levelStore:this.state.levelStore,onCreate:g.create.bind(this,this.state),onUpdate:g.update.bind(this,this.state)}))}}}),t}(c);e.exports=_,_.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(234)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0,levelStore:[]}},getDataFilter:function(){return[{field:"name",name:"模式显示名"},{field:"dayNum",name:"付费天数"}]},getDefaultItem:function(){return{name:"",dayNum:1,memberInfoIds:"",levelList:[]}},onCreate:function(e,t){var n=l.domain.market+"/memberPayMode/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"添加会员付费模式成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["name","dayNum","memberInfoIds"]);s(n,r,a)},onQuery:function(e){var t=this,n=l.domain.market+"/memberPayMode/list",a=function(n){1e3===n.responseCode?(t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}),i.queryMulti()):o.fail({message:n.errorMsg})},r=_.pick(_.pick(e,["name","dayNum"]),function(e){return!_.isEmpty(e)});r.pageno=e.currentPage+1,r.pagesize=e.perPage,s(n,r,a)},onQueryLevel:function(e){var t=this,n=l.domain.market+"/memberPayMode/memberInfoList",a={},r=function(e){1e3===e.responseCode?t.trigger({levelList:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)},onUpdate:function(e,t){var n=l.domain.market+"/memberPayMode/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"修改会员付费模式成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["id","name","dayNum","memberInfoIds"]);s(n,r,a)},onDelete:function(e,t){var n=l.domain.market+"/memberPayMode/deleteById",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"删除会员付费模式成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/turntable/prize/publish",a={id:t.id,publish:1},r=function(t){1e3===t.responseCode?(o.success({message:"奖励配置上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/turntable/prize/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(o.success({message:"奖励配置下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/coupon/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function _(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:_(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(530)),v=a(n(235)),y=a(n(9)),b=(a(n(3)),function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;g.listen(function(t){t.data&&e.setState(t.data),t.levelList&&e.setState({levelStore:t.levelList.map(function(e){return Object.assign(e,{value:e.id})})}),t.typeList&&e.setState({typeStore:t.typeList.map(function(e){return Object.assign(e,{value:e.id})})})}),v.queryLevel(),v.queryType()}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},showCreate:{value:function(){var e=this;this.setState({mode:"create"},function(){e.refs.dialog.create(Object.assign({},g.getDefaultItem(),{memberLevelId:e.state.levelStore[0].id,memberTypeId:e.state.typeStore[0].id}))})}},showView:{value:function(e){var t=this;this.setState({mode:"view"},function(){t.refs.dialog.show(e)})}},showUpdate:{value:function(e){var t=this;this.setState({mode:"update"},function(){t.refs.dialog.update(e)})}},showDelete:{value:function(e){y.warning({message:"是否删大转盘规则 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{ref:"data-filter",filters:g.getDataFilter(),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"ID",field:"id"},{name:"会员等级",field:"memberLevelName"},{name:"会员名称",field:"memberName"},{name:"会员类型",field:"memberTypeName"},{name:"图标",field:"picUrl",value:function(e){return u.createElement("img",{className:"preview",src:e.picUrl})}},{name:"状态",field:"status",value:function(e){return 0===e.status?"启用":"停用"}}],operations:[{name:"查看",icon:"default",callback:this.showView.bind(this)},{name:"编辑",icon:"info",disabled:function(e){return 0===e.status},callback:this.showUpdate.bind(this)},{name:"启用",icon:"success",disabled:function(e){return 0===e.status},callback:v.active.bind(this,this.state)},{name:"暂停",icon:"danger",disabled:function(e){return 1===e.status},callback:v.deactive.bind(this,this.state)}]}),u.createElement(h,{ref:"dialog",useFormData:!0,title:"会员等级",items:[{field:"memberLevelId",type:"select",name:"会员等级",options:this.state.levelStore,disabled:"update"===this.state.mode},{field:"memberName",name:"会员名称",required:!0},{field:"memberTypeId",type:"select",name:"会员类型",options:this.state.typeStore,disabled:"update"===this.state.mode},{field:"standardCost",type:"number",min:0,name:"基准费率",required:!0},{field:"pic",type:"image",urlField:"picUrl",keepUrlField:!0,name:"等级图片",required:!0},{type:"number",field:"growthValue",name:"成长值",min:1,required:!0}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c));e.exports=b,b.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(235)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0,levelStore:[],typeStore:[],mode:"create"}},getDataFilter:function(){return[]},getDefaultItem:function(){return{memberName:"",standardCost:0,picUrl:"",status:0,growthValue:1}},onCreate:function(e,t){var n=l.domain.market+"/memberInfo/insertOrUpdate",a=t,r=function(t){1e3===t.responseCode?(o.success({message:"添加会员等级信息成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onQuery:function(e){var t=this,n=l.domain.market+"/memberInfo/list",a={pageno:e.currentPage+1,pagesize:e.perPage},r=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})};s(n,a,r)},onQueryLevel:function(e){var t=this,n=l.domain.market+"/memberInfo/queryForLevelList",a={},r=function(e){1e3===e.responseCode?t.trigger({levelList:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)},onQueryType:function(e){var t=this,n=l.domain.market+"/memberInfo/queryForTypeList",a={},r=function(e){1e3===e.responseCode?t.trigger({typeList:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)},onUpdate:function(e,t){var n=l.domain.market+"/memberInfo/insertOrUpdate",a=t,r=function(t){1e3===t.responseCode?(o.success({message:"修改会员等级信息成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))};s(n,a,r)},onDelete:function(e,t){var n=l.domain.market+"/turntable/rule/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"大转盘规则删除成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/memberInfo/updateStatus",a={id:t.id,status:0},r=function(t){1e3===t.responseCode?(o.success({message:"会员等级启用成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/memberInfo/updateStatus",a={id:t.id,status:1},r=function(t){1e3===t.responseCode?(o.success({message:"会员等级停用成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/coupon/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function _(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:_(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(237)),v=a(n(236)),y=a(n(9)),b=(a(n(2)),function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)})}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否删除合作伙伴 "+e.partnerName,onConfirm:v["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),disablePaginator:!0,data:this.state,dataMap:[{name:"合作伙伴",field:"partnerName"},{name:"图片",field:"type",value:function(e){return u.createElement("img",{className:"preview",src:e.picUrl})}},{name:"链接",field:"outUrl"}],operations:[{name:"编辑",icon:"info",callback:this.showUpdate.bind(this)},{name:"删除",icon:"danger",callback:this.showDelete.bind(this)}]}),u.createElement(h,{ref:"dialog",title:"合作伙伴",small:!0,useFormData:!0,items:[{field:"partnerName",name:"合作方名称",maxLength:50,required:!0},{type:"image",field:"pic",urlField:"picUrl",name:"上传图片",required:!0},{type:"url",field:"outUrl",name:"链接",required:!0}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c));e.exports=b},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function M(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:M(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(533)),v=a(n(238)),y=a(n(9)),b=a(n(3)),D=(a(n(2)),a(n(26))),E=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)}),D.loadState(this)}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否删除奖励发放 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){D.saveState(this),this.context.router.transitionTo("/market/share-history",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return _.isEmpty(e.gameId)&&_.isEmpty(e.softId)?(b.fail({message:"请输入游戏ID或者软件ID"}),!1):_.isEmpty(e.beginDate)?(b.fail({message:"请输入起止时间"}),!1):parseInt(e.perCoupon,10)>parseInt(e.totalCoupon,10)?(b.fail({message:""}),!1):!0}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onFilterData:this.filterData.bind(this),onCreateData:this.showCreate.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"ID",field:"id"},{name:"活动名称",field:"name"},{name:"相关游戏",field:"gameNames",value:function(e){return u.createElement("div",null,e.gameNames.map(function(e,t){return u.createElement("p",{key:t},e)}))}},{name:"相关软件",field:"softNames",value:function(e){return u.createElement("div",null,e.softNames.map(function(e,t){return u.createElement("p",{key:t},e)}))}},{name:"活跃值",field:"activeUpper",value:function(e){return u.createElement("div",null,u.createElement("p",null,"≥",e.activeFloor),u.createElement("p",null,"<"+e.activeUpper))}},{name:"送宝券",field:"awardUpper",value:function(e){return u.createElement("div",null,u.createElement("p",null,e.awardUpper),u.createElement("p",null,e.awardFloor))}},{name:"单日最多",field:"awardLimit"},{name:"开始时间",field:"beginDate"},{name:"结束时间",field:"endDate"},{name:"状态",field:"publish",value:function(e){switch(e.publish){case"1":return"已上架";case"0":return"已下架";case"2":return"已到期"}}}],operations:[{name:"上架",icon:"success",disabled:function(e){return"0"!==e.publish},callback:v.active.bind(this,this.state)},{name:"下架",icon:"warning",disabled:function(e){return"1"!==e.publish},callback:v.deactive.bind(this,this.state)},{name:"编辑",icon:"info",callback:this.showUpdate.bind(this)},{name:"删除",icon:"danger",callback:this.showDelete.bind(this)},{name:"历史查询",icon:"primary",callback:this.showHistory.bind(this),disabled:function(e){return!0}}]}),u.createElement(h,{ref:"dialog",title:"分享游戏送宝券",items:[{field:"name",name:"活动名称",maxLength:50,required:!0},{field:"gameId",name:"相关游戏",placeholder:'支持多个游戏ID，中间用","隔开'},{field:"softId",name:"相关软件",placeholder:'支持多个软件ID，中间用","隔开'},{type:"date",startField:"beginDate",endField:"endDate",format:"YYYY-MM-DD HH:mm:ss",name:"起止时间",required:!0},{type:"number",field:"ipCount",name:"IP点击数量",min:0,required:!0},{type:"number",field:"activeUpper",name:"活跃值上限",min:0,required:!0},{type:"number",field:"activeFloor",name:"活跃值下限",min:0,required:!0},{type:"number",field:"awardUpper",name:"宝券上限",min:0,required:!0},{type:"number",field:"awardFloor",name:"宝券下限",min:0,required:!0},{type:"number",field:"awardLimit",min:0,name:"最多送宝券",required:!0},{type:"rich",field:"attentionDesc",name:"注意事项"},{type:"rich",field:"ruleDesc",name:"活动规则"},{type:"rich",field:"awardDesc",name:"活动奖励"}],onCheck:this.checkInput.bind(this),onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=E,E.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(238)),o=a(n(3)),s=a(n(8)),l=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{type:"select",field:"publish",name:"活动状态",options:[{name:"全部活动",value:""},{name:"已上架",value:"1"},{name:"已下架",value:"0"}]},{type:"date",startField:"beginDate",endField:"endDate",name:"起止时间",format:"YYYY-MM-DD HH:mm:ss"},{field:"name",name:"游戏ID或名称"}]},getDefaultItem:function(){return{name:"",gameId:"",softId:"",beginDate:"",endDate:"",ipCount:0,activeUpper:0,awardUpper:0,activeFloor:0,awardFloor:0,awardLimit:0,attentionDesc:"",ruleDesc:"",awardDesc:"",createTime:"",updateTime:"",publish:0}},onCreate:function(e,t){var n=l.domain.market+"/shareConf/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"添加分享奖励成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["name","gameId","softId","beginDate","endDate","ipCount","activeUpper","awardUpper","activeFloor","awardFloor","awardLimit","attentionDesc","ruleDesc","awardDesc"]);s(n,r,a)},onQuery:function(e){var t=this,n=l.domain.market+"/shareConf/query",a=function(n){1e3===n.responseCode?t.trigger({data:{list:n.data.aaData,totalCount:n.data.itotalRecords,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})},r=_.pick(_.pick(e,["publish","beginDate","endDate","name"]),function(e){return!_.isEmpty(e)});r.currentPage=e.currentPage+1,r.pageSize=e.perPage,s(n,r,a)},onUpdate:function(e,t){var n=l.domain.market+"/shareConf/insertOrUpdate",a=function(t){1e3===t.responseCode?(o.success({message:"修改分享奖励成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))},r=_.pick(t,["id","name","gameId","softId","beginDate","endDate","ipCount","activeUpper","awardUpper","activeFloor","awardFloor","awardLimit","attentionDesc","ruleDesc","awardDesc"]);s(n,r,a)},onDelete:function(e,t){var n=l.domain.market+"/shareConf/delete",a={id:t.id},r=function(t){1e3===t.responseCode?(o.success({message:"删除分享奖励成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onActive:function(e,t){var n=l.domain.market+"/shareConf/publish",a={id:t.id,publish:1},r=function(t){1e3===t.responseCode?(o.success({message:"下载奖励上架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onDeactive:function(e,t){var n=l.domain.market+"/shareConf/publish",a={id:t.id,publish:0},r=function(t){1e3===t.responseCode?(o.success({message:"下载奖励下架成功"}),i.query(e)):o.fail({message:t.errorMsg})};s(n,a,r)},onGet:function(e){var t=this,n=l.domain.market+"/app/coupon/selectById",a={id:e.id},r=function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})};s(n,a,r)}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function D(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:D(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(126)),v=a(n(125)),y=a(n(9)),b=a(n(2)),_=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)})}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否删除游戏资讯 "+e.title,onConfirm:v["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onFilterData:this.filterData.bind(this)}),u.createElement(p,{disableAutoLoad:this,onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"时间",field:"sendTime"},{name:"相关游戏/软件",field:"appName",value:function(e){return u.createElement("div",null,e.apps.map(function(e,t){return u.createElement("p",{key:t},e.appName)}))}},{name:"下载时间",field:"downTime",value:function(e){return u.createElement("div",null,e.apps.map(function(e,t){return u.createElement("p",{key:t},e.downTime)}))}},{name:"安装时间",field:"installTime",value:function(e){return u.createElement("div",null,e.apps.map(function(e,t){return u.createElement("p",{key:t},e.installTime)}))}},{name:"宝券",field:"bqAmount"},{name:"活动",field:"activityName"}]}),u.createElement(h,{ref:"dialog",title:"游戏资讯",items:[{type:"select",field:"type",name:"分类",options:[{name:"请选择",value:""},{name:"新闻",value:"1"},{name:"公告",value:"2"},{name:"活动",value:"3"}],required:!0},{field:"title",name:"标题",maxLength:50,required:!0},{field:"resource",name:"来源",required:!0},{type:"url",field:"outUrl",name:"外部链接"},{type:"rich",field:"detail",name:"详情",upImgUrl:b.domain.market+"/pic/upload"}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=_},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function M(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:M(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(208)),v=a(n(127)),y=a(n(9)),b=a(n(3)),D=(a(n(2)),a(n(26))),E=function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=g.getInitialState(),this.state.id=n.router.getCurrentQuery().id}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.setState(t.item)}),v.get({id:this.state.id})}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){e.beginDate=e.start,e.endDate=e.end,this.refs.dialog.update(e)}},showDelete:{value:function(e){y.warning({message:"是否删除奖励发放 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){D.saveState(this),this.context.router.transitionTo("/store/category-detail",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return _.isEmpty(e.month)?(b.fail({message:"请输入查询月份"}),!1):!0}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement("div",{className:"box-header"},u.createElement("h4",{style:{display:"inline-block"}},this.state.name," "),u.createElement("span",null," ",this.state.beginDate," - ",this.state.endDate)),u.createElement(f,{autoFilter:!0,filters:g.getDataFilter(),onFilterData:this.filterData.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),disableAutoLoad:!0,data:this.state,dataMap:[{name:"奖励发放时间",field:"sendTime"},{name:"发放人数",field:"count"},{name:"发放宝券数量",field:"baCount"}]}),u.createElement(h,{ref:"dialog",title:"下载安装送宝券",items:[{field:"name",name:"活动名称",maxLength:50,required:!0},{field:"gameId",name:"相关游戏",placeholder:'支持多个游戏ID，中间用","隔开'},{field:"softId",name:"相关软件",placeholder:'支持多个软件ID，中间用","隔开'},{type:"date",startField:"beginDate",endField:"endDate",format:"YYYY-MM-DD HH:mm:ss",name:"起止时间",required:!0},{type:"number",field:"perCoupon",min:0,name:"单次安装送宝券",required:!0},{type:"number",field:"totalCoupon",min:0,name:"每日累计最多送",required:!0},{type:"number",field:"activeValue",min:0,name:"活跃值大于等于",required:!0}],onCheck:this.checkInput.bind(this),onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=E,E.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(83),o=n(65),s=n(85),l=a.createClass({displayName:"SoftwareCategory",mixins:[r.connect(i,"categories")],getInitialState:function(){return i.getDefaultData()},componentDidMount:function(){o.query({type:"software"})},saveData:function(e){o.save({type:"software",data:e})},render:function(){return a.createElement(s,{title:"软件分类管理",categories:this.state.categories.software,onSaveData:this.saveData})}});e.exports=l},function(e,t,n){"use strict";var a=n(11),r=n(217),i=a.createClass({displayName:"SoftwareDetail",render:function(){return a.createElement(r,{type:"software"})}});e.exports=i},function(e,t,n){"use strict";var a=n(11),r=n(219),i=a.createClass({displayName:"SoftwareList",render:function(){return a.createElement(r,{type:"software"})}});e.exports=i},505,function(e,t,n){"use strict";var a,r=n(5),i=n(7),o=n(13),s=n(541),l=n(239);a=r.createClass({displayName:"MainBanner",getInitialState:function(){return{data:s.getDefaultData()}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){e.setState({data:t})})},componentWillUnMount:function(){this.unsubscribe()},queryData:function(e){this.setState({data:_.assign(this.state.data,{currentPage:e.currentPage})},function(){l.query(this.state)}.bind(this))},showEdit:function(e){this.refs.dialog.update(_.assign(s.getDefaultItem(),e))},refreshFrontPage:function(){l.refreshFrontPage()},render:function(){return r.createElement("div",{className:"box"},r.createElement("div",{className:"box-header"},r.createElement("div",{className:"col-sm-3 col-sm-offset-9"},r.createElement("a",{className:"btn btn-primary btn-block",onClick:this.refreshFrontPage},"刷新前台页面"))),r.createElement(i,{onLoadPage:this.queryData,data:this.state.data,disablePaginator:!0,dataMap:[{name:"位置号",field:"serial"},{name:"游戏ID",field:"appId"},{name:"游戏名称",field:"appName"},{name:"图片",value:function(e){return r.createElement("img",{src:e.banner,className:"preview"})},field:"banner"}],operations:[{name:"编辑",icon:"primary",callback:this.showEdit}]}),r.createElement(o,{ref:"dialog",title:"大图广告位配置",useFormData:!0,items:[{name:"位置号",field:"serial",disabled:!0},{name:"游戏ID",field:"appId"},{type:"image",name:"图片",field:"pic",urlField:"banner",required:!0,keepUrlField:!0}],onUpdate:l.update.bind(this,this.state)}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(16),o=n(239),s=n(8),l=n(3);a=r.createStore({listenables:o,getDefaultData:function(){return i.dataTable()},getDefaultItem:function(){return{id:0,banner:"",serial:0,activityId:0,appId:0,appName:""}},onCreate:function(){},onQuery:function(e){var t=this,n="/web/rewardBanner/selectAll",a={},r=function(n){1e3===n.responseCode?t.trigger({list:n.data,totalCount:999,perPage:999,currentPage:e.data.currentPage}):l.fail({message:n.errorMsg})};s(n,a,r)},onUpdate:function(e,t){var n="/web/rewardBanner/editRewardBanner",a=function(t){1e3===t.responseCode?o.query(e):l.fail({message:t.errorMsg})};s(n,t,a)},onRefreshFrontPage:function(){var e="/web/rewardBanner/refreshData",t={},n=function(e){1e3===e.responseCode?l.success({message:"前台页面刷新成功"}):l.fail({message:e.errorMsg})};s(e,t,n)}}),e.exports=a},function(e,t,n){"use strict";e.exports={RedbagManage:n(543),MainBanner:n(540),SubBanner:n(547),Report:n(545)}},function(e,t,n){"use strict";var a,r=n(5),i=n(12),o=n(7),s=n(13),l=n(544),u=n(240),c=n(9),d=n(4);n(2);a=r.createClass({displayName:"RedbagManage",getInitialState:function(){return{data:l.getDefaultData(),filter:l.getDafaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=l.listen(function(t){"list"===t.type?e.setState({data:t.data}):"closeDialog"===t.type})},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},queryData:function(e){this.setState({data:d.assign(this.state.data,{currentPage:e.currentPage})},function(){u.query(this.state)}.bind(this))},showCreate:function(){this.refs.dialog.create(d.assign(l.getDefaultItem(),{},{conditions:[]}))},showView:function(e){var t=d.map(e.rewardRuleList,function(e,t){return{index:t+1,val1:e.activeCondition,val2:e.reward}});this.refs.dialog.show(d.assign(l.getDefaultItem(),e,{conditions:t}))},showEdit:function(e){var t=this._buildConditions(e),n=[];"08"===e.publish&&(n=["conditions","beginDate","activeValue"]),this.refs.dialog.update(d.assign(l.getDefaultItem(),e,{conditions:t,disabledFields:n}))},clone:function(e){this.refs.dialog.create(d.assign(l.getDefaultItem(),d.assign(e,{beginDate:"",endDate:""}),{conditions:this._buildConditions(e)}))},_buildConditions:function(e){var t=d.map(e.rewardRuleList,function(e,t){return{index:t+1,val1:e.activeCondition,val2:e.reward}});return t},publish:function(e){var t=this;c.info({message:"确认设置活动生效？",onConfirm:function(){u.updateState(t.state,"publish",{id:e.id})}})},"delete":function(e){var t=this;c.info({message:"确认删除活动？",onConfirm:function(){u.updateState(t.state,"delete",{id:e.id})}})},pause:function(e){var t=this;c.info({message:"确认停止活动？",onConfirm:function(){u.updateState(t.state,"editStop",{id:e.id})}})},render:function(){return r.createElement("div",{className:"box"},r.createElement(i,{filters:[{name:"活动ID或名称",field:"condition"},{type:"date",startField:"beginDate",endField:"endDate",name:"活动起止时间",format:"YYYY-MM-DD"}],onFilterData:this.filterData,onCreateData:this.showCreate
}),r.createElement(o,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"活动ID",field:"activityId"},{name:"活动名称",field:"name"},{name:"活跃值",field:"activeValue"},{name:"送红包数量",field:"amount"},{name:"活动时间",field:"beginDate",value:function(e){return r.createElement("div",null,moment(e.beginDate).format("YYYY-MM-DD")," ~ ",moment(e.endDate).format("YYYY-MM-DD"))}},{name:"状态",field:"state"}],operations:[{name:"查看",icon:"primary",callback:this.showView},{name:"编辑",icon:"primary",callback:this.showEdit,disabled:function(e){return!("10"===e.publish||"09"===e.publish||"08"===e.publish)}},{name:"生效",icon:"success",callback:this.publish,disabled:function(e){return"10"!==e.publish}},{name:"删除",icon:"danger",callback:this["delete"],disabled:function(e){return!("10"===e.publish||"09"===e.publish)}},{name:"暂停",icon:"danger",callback:this.pause,disabled:function(e){return"08"!==e.publish}},{name:"克隆",icon:"warning",callback:this.clone,disabled:function(e){return!("08"===e.publish||"01"===e.publish||"00"===e.publish)}}]}),r.createElement(s,{ref:"dialog",title:"充值送红包配置",useFormData:!0,items:[{name:"活动名称",field:"name",required:!0},{type:"date",name:"活动时间",startField:"beginDate",endField:"endDate",format:"YYYY-MM-DD HH:mm:ss",required:!0},{type:"moreInput",name:"充值送红包规则",field:"conditions",required:!0},{type:"number",min:"0",required:!0,name:"活跃值",field:"activeValue"},{type:"rich",name:"活动说明",field:"note"}],onCreate:u.create.bind(this,this.state),onUpdate:u.update.bind(this,this.state)}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(16),o=n(240),s=n(8),l=n(3),u=n(4);a=r.createStore({listenables:o,getDefaultData:function(){return i.dataTable()},getDafaultFilter:function(){return{condition:"",beginDate:"",endDate:""}},getDefaultItem:function(){return{id:0,name:"",beginDate:"",endDate:"",conditions:"",rewards:"",activeValue:0,note:"",pic:""}},onQuery:function(e){var t=this,n="/appRewardActivity/select",a={};e.filter.condition&&(a.condition=e.filter.condition),e.filter.beginDate&&(a.beginDate=e.filter.beginDate),e.filter.endDate&&(a.endDate=e.filter.endDate),a=u.assign(a,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage});var r=function(n){1e3===n.responseCode?t.trigger({type:"list",data:{list:u.map(n.data.list,function(e){var t=e.rewardRuleList,n=0;return t.forEach(function(e){n+=e.reward}),e.amount=n,e.id=e.activityId,e}),totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}}):l.fail({message:n.errorMsg})};s(n,a,r,"GET")},onCreate:function(e,t){var n="/appRewardActivity/insert",a=function(t){1e3===t.responseCode?(l.success({message:"活动创建成功"}),o.query(e)):l.fail({message:t.errorMsg})};s(n,t,a)},onUpdate:function(e,t){var n="/appRewardActivity/update",a=function(t){1e3===t.responseCode?(l.success({message:"活动修改成功"}),o.query(e)):l.fail({message:t.errorMsg})};s(n,t,a)},onUpdateState:function(e,t,n){var a="/appRewardActivity/"+t,r="";switch(t){case"publish":r="活动已生效";break;case"delete":r="活动已删除";break;case"editStop":r="活动已停止"}var i=function(t){1e3===t.responseCode?(l.success({message:r}),o.query(e)):l.fail({message:t.errorMsg})};s(a,n,i)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(241),o=n(3),s=(n(546),n(42));a=r.createClass({displayName:"RedbagReport",getInitialState:function(){return{queryDate:null,queryMonth:null,queryUserMonth:null,username:""}},componentDidMount:function(){this.setState({queryDate:null,queryMonth:null,queryUserMonth:null,username:""})},_dayReport:function(e){e.preventDefault();var t=this.state.queryDate;return t?void i.dayReport("?queryDate="+t):void o.fail({message:"日报表日期必填"})},_monthReport:function(e){e.preventDefault();var t=this.state.queryMonth;return t?void i.monthReport("?queryMonth="+t):void o.fail({message:"月报表日期必填"})},_userMonthReport:function(e){e.preventDefault();var t=this.state.username,n=this.state.queryUserMonth;return n?void i.userMonthReport("?username="+t+"&queryMonth="+n):void o.fail({message:"用户月报表日期必填"})},render:function(){var e=this;return r.createElement("div",{className:"box"},r.createElement("div",{className:"box-body clearfix"},r.createElement("br",null),r.createElement("form",{ref:"day",onSubmit:this._dayReport},r.createElement("div",{className:"row"},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2"},"活动日报表"),r.createElement("div",{className:" col-sm-7"},r.createElement(s,{item:{startField:"queryDate",format:"YYYY-MM-DD"},startDate:this.state.queryDate,onDateChange:function(t){return e.setState({queryDate:t.startDate.format("YYYY-MM-DD")})},required:!0})),r.createElement("div",{className:" col-sm-3"},r.createElement("button",{className:"btn btn-primary btn-block"},"生成报表"))))),r.createElement("br",null),r.createElement("br",null),r.createElement("form",{ref:"month",onSubmit:this._monthReport},r.createElement("div",{className:"row"},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2"},"活动月报表"),r.createElement("div",{className:" col-sm-7"},r.createElement(s,{item:{startField:"queryMonth",format:"YYYY-MM"},startDate:this.state.queryMonth,onDateChange:function(t){return e.setState({queryMonth:t.startDate.format("YYYY-MM")})},required:!0})),r.createElement("div",{className:" col-sm-3"},r.createElement("button",{className:"btn btn-primary btn-block"},"生成报表"))))),r.createElement("br",null),r.createElement("br",null),r.createElement("form",{ref:"userMonth",onSubmit:this._userMonthReport},r.createElement("div",{className:"row"},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2"},"用户月报表"),r.createElement("div",{className:" col-sm-4"},r.createElement("input",{className:"form-control",type:"text",value:this.state.username,onChange:function(t){e.setState({username:t.target.value})},required:!0,placeholder:"用户名"})),r.createElement("div",{className:" col-sm-3"},r.createElement(s,{item:{startField:"queryUserMonth",format:"YYYY-MM"},startDate:this.state.queryUserMonth,onDateChange:function(t){return e.setState({queryUserMonth:t.startDate.format("YYYY-MM")})},required:!0})),r.createElement("div",{className:" col-sm-3"},r.createElement("button",{className:"btn btn-primary btn-block"},"生成报表"))))),r.createElement("br",null)))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(241),o=(n(8),n(3),n(2));a=r.createStore({listenables:i,onDayReport:function(e){window.open(o.domain.market+"/web/rewardActivity/dateReport"+e)},onMonthReport:function(e){window.open(o.domain.market+"/web/rewardActivity/monthReport"+e)},onUserMonthReport:function(e){window.open(o.domain.market+"/web/rewardActivity/userDateReport"+e)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=(n(7),n(548)),o=n(242),s=n(27),l=n(31),u=n(4);n(33),a=r.createClass({displayName:"SubBanner",getInitialState:function(){return u.assign(i.getDefaultData(),{keyword:""})},componentDidMount:function(){var e=this;this.unsubscribe=i.listen(function(t){"optionApps"===t.type?e.setState({optionApps:t.optionApps.map(function(e){var t={};return t.appId=e.id,t.appName=e.name,t.show=!0,t})}):"selectedApps"===t.type&&e.setState({selectedApps:t.selectedApps.map(function(e){return e.label=e.appName,e})});var n=e.state.keyword;n&&e._optionsAppFilter(n)}),o.optionApps(),o.selectedApps()},componentWillUnMount:function(){this.unsubscribe()},_handleSorted:function(e){this.setState({selectedApps:e})},_addItem:function(){var e=this,t=$(this.refs.optionApps.getDOMNode()).val(),n=u.map(t,function(t){return u.findIndex(e.state.optionApps,function(e){return e.appId===parseInt(t)})}),a=u.pullAt(this.state.optionApps,n).map(function(e){return e.label=e.appName,e.activityId=1,e});this.setState({optionApps:this.state.optionApps,selectedApps:this.state.selectedApps.concat(a)})},_removeItem:function(e){var t=this,n=u.findIndex(this.state.selectedApps,function(t){return t.appId===e.appId}),a=u.pullAt(this.state.selectedApps,n);this.setState({optionApps:u.sortByAll(this.state.optionApps.concat(u.map(a,function(e){var n=t.refs.filter.getDOMNode().value;return-1===e.appName.indexOf(n)?e.show=!1:e.show=!0,e})),"appId"),selectedApps:this.state.selectedApps})},_save:function(){var e=this.state.selectedApps;o.create(e)},_refresh:function(){o.refreshFrontPage()},_optionsAppFilter:function(e){this.setState({optionApps:u.map(this.state.optionApps,function(t){return-1===t.appName.indexOf(e)&&-1===t.appId.toString().indexOf(e)?t.show=!1:t.show=!0,t})})},_filterInputChange:function(e){this.setState({keyword:e.target.value},function(){this._optionsAppFilter(this.state.keyword)})},render:function(){return r.createElement("div",{className:"box"},r.createElement("div",{className:"box-body clearfix"},r.createElement("div",{className:"col-sm-5"},r.createElement("input",{ref:"filter",type:"text",onChange:this._filterInputChange,value:this.state.keyword,placeholder:"请输入appId或名称搜索",style:{width:"100%",height:"40px",padding:"0 5px",border:"1px solid #d2d6de",borderBottom:"inherit"}}),r.createElement("select",{ref:"optionApps",multiple:!0,className:"form-control",style:{height:"500px"}},this.state.optionApps.map(function(e){return e.show?r.createElement("option",{key:"appId-"+e.appId,value:e.appId},e.appId+" | "+e.appName):null}))),r.createElement("div",{className:"col-sm-2"},r.createElement("button",{className:"btn btn-primary btn-block",onClick:this._addItem},"添加")),r.createElement("div",{className:"col-sm-5 sortedCollection"},0===this.state.selectedApps.length?r.createElement("div",{style:{width:"100%",border:"1px solid #d2d6de",padding:"5px 10px"}},"请从左侧列表中选择应用"):r.createElement(l,{container:"ol",collection:this.state.selectedApps,onSorted:this._handleSorted},r.createElement(c,{onRemoveItem:this._removeItem})))),r.createElement("div",{className:"box-footer clearfix"},r.createElement("div",{className:"col-sm-2 col-sm-offset-8"},r.createElement("button",{className:"btn btn-default btn-block",onClick:this._refresh},"刷新到前台")),r.createElement("div",{className:"col-sm-2"},r.createElement("button",{className:"btn btn-primary btn-block",onClick:this._save},"保存"))))}});var c=r.createClass({displayName:"SortableItem",render:function(){return r.createElement("li",{className:this._classNames()},r.createElement("strong",null,this.props.label),r.createElement("span",{onClick:this.props.onRemoveItem.bind(null,this.props),style:{cursor:"pointer"}},"删除"))},_classNames:function(){return s({item:!0,over:this.props.isOver})}});e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(242),o=(n(16),n(3)),s=n(8),l=n(4);a=r.createStore({listenables:i,getDefaultData:function(){return{optionApps:[],selectedApps:[]}},onOptionApps:function(){var e=this,t="/web/rewardApp/selectNotInRewardAppsApp",n={},a=function(t){1e3===t.responseCode?e.trigger({type:"optionApps",optionApps:t.data}):o.fail({message:t.errorMsg})};s(t,n,a)},onSelectedApps:function(){var e=this,t="/web/rewardApp/selectAll",n={},a=function(t){1e3===t.responseCode?e.trigger({type:"selectedApps",selectedApps:t.data}):o.fail({message:t.errorMsg})};s(t,n,a)},onCreate:function(e){var t="/web/rewardApp/addBatchRewardApp",n=l.map(e,function(e,t){var n=l.pick(e,["activityId","appId","appName"]);return n.serial=t+1,n}),a=function(e){1e3===e.responseCode?(o.success({message:"保存成功"}),i.optionApps(),i.selectedApps()):o.fail({message:e.errorMsg})};s(t,{records:JSON.stringify(n)},a)},onRefreshFrontPage:function(){var e="/web/rewardApp/refreshData",t={},n=function(e){1e3===e.responseCode?o.success({message:"前台页面刷新成功"}):o.fail({message:e.errorMsg})};s(e,t,n)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(7),o=n(12),s=(n(13),n(244)),l=n(129),u=(n(9),n(3),n(14)),c=n(4);a=r.createClass({displayName:"ChargePoint",mixins:[u.Navigation],getInitialState:function(){return{data:this._getData(),filter:s.getDefaultFilter()}},_getData:function(){var e=s.getDefaultData();return e},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"app"===t.type&&e.setState({data:t.data})}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage)),l.query(this.state)},componentWillUnMount:function(){this.unsubscribe()},queryData:function(){},filterData:function(e){this.setState({filter:e},function(){l.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},exportChargePoint:function(){l.exportChargePoint()},showChargePoint:function(e){var t={};t=0===this.state.data.currentPage?{appCode:e.appCode,status:10}:{appCode:e.appCode,currentPage:this.state.data.currentPage},this.transitionTo("/open/charge-point-detail-list",{},t)},render:function(){return r.createElement("div",{className:"box"},r.createElement(o,{filters:[{name:"公司名称",field:"merchantFullName"},{name:"商户编码",field:"merchantCode"},{name:"应用名称",field:"merchantAppName"},{name:"应用编号",field:"appCode"},{type:"date",startField:"applyStartDate",endField:"applyEndDate",name:"申请时间",format:"YYYY-MM-DD"}],onFilterData:this.filterData,onCreateData:this.exportChargePoint,createText:"导出"}),r.createElement(i,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"商户编号",field:"merchantCode"},{name:"公司名称",field:"merchantFullName"},{name:"应用编号",field:"appCode"},{name:"应用名称",field:"appName"},{name:"申请时间",field:"updateTime"},{name:"状态",field:"statusDesc"}],operations:[{name:"计费点审批",icon:"primary",callback:this.showChargePoint}]}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(7),o=(n(12),n(13)),s=n(244),l=n(129),u=n(9),c=n(3),d=n(14),m=n(4);a=r.createClass({displayName:"ChargePointDetail",mixins:[d.Navigation],getInitialState:function(){return{data:s.getDefaultData(),filter:m.assign(s.getDefaultFilter(),{appCode:this.props.query.appCode,status:this.props.query.status}),main:{currentPage:parseInt(this.props.query.currentPage),path:this.props.query.main||"/open/charge-point-list"}}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"point"===t.type?e.setState({data:t.data}):"item"===t.type})},componentWillUnMount:function(){this.unsubscribe()},acceptPoint:function(e){u.info({message:"确认审核通过？",onConfirm:this._acceptHandle.bind(this,e)})},_acceptHandle:function(e){l.accept(this.state,{appCode:e.appCode,chargePointCodes:e.chargePointCode})},rejectPoint:function(e){this.refs.rejectDialog.create({chargePointCode:e.chargePointCode,appCode:e.appCode,remark:""})},_rejectHandle:function(e){l.reject(this.state,e)},batchAudit:function(e){if(e=m.filter(e,function(e){return 10===e.status}),0===e.length)return void c.fail({message:"请选择计费点"});var t={};t.appCode=e[0].appCode,t.chargePointCode=e.map(function(e){return e.chargePointCode}).join(","),u.info({message:"确定选中计费点审核通过？",onConfirm:this._acceptHandle.bind(this,t)})},queryData:function(e){this.setState({data:m.assign(this.state.data,{currentPage:e.currentPage})},function(){l.queryPoint(this.state)}.bind(this))},showPoint:function(e){this.refs.dialog.show(e)},_back:function(){var e=this.state.main.path;this.state.main.currentPage&&(e+="?currentPage="+this.state.main.currentPage),this.context.router.transitionTo(e)},render:function(){return r.createElement("div",{className:"box"},r.createElement("div",{className:"box-body"},r.createElement(i,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"计费点编码",field:"chargePointCode"},{name:"计费点名称",field:"chargePointName"},{name:"计费点金额",field:"chargePointAmount"},{name:"创建时间",field:"createTime"},{name:"状态",field:"statusDesc"}],operations:[{name:"查看",icon:"primary",callback:this.showPoint},{name:"通过",icon:"success",callback:this.acceptPoint,disabled:function(e){return 10!==e.status}},{name:"驳回",icon:"danger",callback:this.rejectPoint,disabled:function(e){return 10!==e.status}}],groupOperations:[{name:"审核通过",icon:"primary",callback:this.batchAudit,checkboxDisabled:function(e){return 10!==e.status}}]}),r.createElement(o,{ref:"rejectDialog",title:"驳回",items:[{type:"textarea",field:"remark",name:"驳回理由",required:!0},{type:"hidden",field:"chargePointCode",required:!0},{type:"hidden",field:"appCode",required:!0}],onCreate:this._rejectHandle}),r.createElement(o,{ref:"dialog",title:"计费点管理",items:[{name:"计费点ID",field:"chargePointCode"},{name:"计费点名称",field:"chargePointName"},{name:"计费点金额",field:"chargePointAmount"},{name:"说明",field:"desc",type:"textarea"},{name:"路径",field:"path"},{type:"date",startField:"createTime",format:"YYYY-MM-DD HH:mm:ss",name:"创建时间",required:!0},{name:"状态",field:"statusDesc"}]})),r.createElement("div",{className:"box-footer"},r.createElement("div",{className:"row text-center"},r.createElement("input",{type:"button",className:"btn btn-info col-sm-offset-2 col-sm-3",onClick:this._back,value:"返回"}))))}}),e.exports=a},function(e,t,n){"use strict";var a=n(5),r=n(7),i=n(12),o=n(13),s=n(553),l=n(245),u=n(9),c=n(4),d=a.createClass({displayName:"Merchant",getInitialState:function(){return{data:s.getDefaultData(),filter:s.getDefaultFilter(),hiddenRemark:!1}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){e.setState({data:t})})},componentWillUnMount:function(){this.unsubscribe()},queryData:function(e){l.query({data:c.assign(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},showView:function(e){var t=!1;3!==e.status&&(t=!0),this.setState({hiddenRemark:t}),e.registAmountStr=e.registAmount+"万元";var n="";"10"===e.merchantType?n="国有企业":"20"===e.merchantType?n="私营企业":"30"===e.merchantType?n="台资":"40"===e.merchantType&&(n="外企"),e.merchantTypeStr=n;var a="";0===e.isListed?a="未上市":1===e.isListed&&(a="已上市"),e.isListedStr=a,this.refs.dialog.show(e)},accept:function(e){u.info({message:"确认通过？",onConfirm:this._acceptHandle.bind(null,e)})},_acceptHandle:function(e){l.accept({data:this.state.data,filter:this.state.filter},{merchantCode:e.merchantCode})},reject:function(e){this.refs.rejectDialog.create({merchantCode:e.merchantCode,remark:""})},_rejectHandle:function(e){l.reject({data:this.state.data,filter:this.state.filter},{merchantCode:e.merchantCode,remark:e.remark})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},render:function(){return a.createElement("div",{className:"box"},a.createElement(i,{filters:[{field:"merchantFullName",name:"公司名称"},{field:"mobilePhoneNum",name:"手机号码"},{field:"contacts",name:"联系人"},{type:"select",field:"status",name:"状态",options:[{name:"全部活动",value:""},{name:"待审核",value:"1"},{name:"已通过",value:"2"},{name:"驳回",value:"3"}]},{type:"date",startField:"applyStartDate",endField:"applyEndDate",name:"申请时间",format:"YYYY-MM-DD"}],onFilterData:this.filterData}),a.createElement(r,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"公司名称",field:"merchantFullName"},{name:"商户编号",field:"merchantCode"},{name:"联系人",field:"contacts"},{name:"手机号码",field:"mobilePhoneNum"},{name:"邮箱",field:"email"},{name:"申请时间",field:"applyDate"},{name:"状态",field:"statusDesc"}],operations:[{name:"查看",icon:"primary",callback:this.showView},{name:"通过",icon:"success",callback:this.accept,disabled:function(e){return 1!==e.status}},{name:"驳回",icon:"danger",callback:this.reject,disabled:function(e){return 1!==e.status}}]}),a.createElement(o,{ref:"rejectDialog",title:"驳回",items:[{type:"textarea",field:"remark",name:"驳回理由",required:!0},{type:"hidden",field:"merchantCode",required:!0}],onCreate:this._rejectHandle}),a.createElement(o,{ref:"dialog",title:"商户管理",items:[{field:"applyUserAccount",name:"申请者钱宝账号"},{field:"merchantCode",name:"商户编号",maxLength:30,required:!0},{field:"merchantFullName",name:"公司名称",maxLength:30,required:!0},{field:"merchantUrl",name:"公司网址"},{field:"contacts",name:"联系人",maxLength:20,required:!0},{field:"mobilePhoneNum",name:"手机号码",maxLength:11,required:!0},{field:"phoneNum",name:"公司电话"},{field:"qqNum",name:"QQ"},{field:"email",name:"邮箱",maxLength:50,required:!0},{type:"date",name:"申请时间",format:"YYYY-MM-DD HH:mm:ss",startField:"applyDate"},{field:"orgNum",name:"组织机构代码"},{name:"图片",type:"preview",field:"orgImageUrl",large:"large"},{field:"licenceNum",name:"公司营业执照"},{name:"图片",type:"preview",field:"licenceImageUrl",large:"large"},{field:"legalName",name:"法人代表姓名"},{name:"图片",type:"preview",field:"legalImageUrl",large:"large"},{field:"taxRegistNo",name:"税务登记证号"},{name:"图片",type:"preview",field:"taxRegistUrl",large:"large"},{field:"networkCultureNo",name:"网络文化登记许可证号"},{name:"图片",type:"preview",field:"networkCultureUrl",large:"large"},{field:"compareSoftwareNo",name:"计算机软件著作权号"},{name:"图片",type:"preview",field:"compareSoftwareUrl",large:"large"},{name:"注册资金",field:"registAmountStr"},{name:"公司性质",field:"merchantTypeStr"},{name:"是否上市",field:"isListedStr"},{type:"textarea",field:"merchantIntro",name:"公司介绍"},{type:"select",field:"status",name:"状态",options:[{name:"待审核",value:"1"},{name:"已通过",value:"2"},{name:"驳回",value:"3"}],required:!0,disabled:"update"===this.state.mode},{field:"remark",name:"驳回理由",hidden:this.state.hiddenRemark}]}))}});e.exports=d},function(e,t,n){"use strict";var a,r=n(5),i=n(7),o=n(12),s=n(13),l=n(130),u=n(66),c=n(9),d=(n(3),n(251)),m=n(249),f=n(4);a=r.createClass({displayName:"MerchantAppAudit",getInitialState:function(){return{data:l.getDefaultData(),filter:this._getFilter(),title:""}},_getFilter:function(e){e||(e=this.props.query.status);var t=l.getDefaultFilter();return e&&f.assign(t,{status:e}),t},componentDidMount:function(){var e=this;this.unsubscribe=l.listen(function(t){"list"===t.type?e.setState({data:t.data}):"item"===t.type&&e.refs.dialog.show(t.data)})},componentWillUnMount:function(){this.unsubscribe()},componentWillReceiveProps:function(e){var t=e.query.status;t||(t="11"),this.setState({filter:this._getFilter(t)},function(){u.query({data:f.assign(this.state.data,{currentPage:0}),filter:this.state.filter})})},showView:function(e){this.refs.dialog.show(e)},accept:function(e){c.info({message:"确认审核通过？",onConfirm:this._acceptHandle.bind(null,e,12)})},_acceptHandle:function(e,t){this._update({status:t,merchantCode:e.merchantCode,appCode:e.appCode})},reject:function(e){this._rejectDialog(e,41)},_rejectHandle:function(e){this._update(e)},testEnvAccept:function(e){c.info({message:"确认测试环境联调通过？",onConfirm:this._acceptHandle.bind(null,e,14)})},testEnvReject:function(e){this._rejectDialog(e,12,"testEnvReject")},onlineEnvAccept:function(e){c.info({message:"确认线上环境联调审批通过？",onConfirm:this._acceptHandle.bind(null,e,16)})},onlineEnvReject:function(e){this._rejectDialog(e,12,"onlineEnvReject")},testAccept:function(e){c.info({message:"确认测试审批通过？",onConfirm:this._acceptHandle.bind(null,e,18)})},testReject:function(e){this._rejectDialog(e,47)},releaseAccept:function(e){this.refs["edit-release"].show(this.state,f.assign(e,{status:1}))},releaseReject:function(e){this._rejectDialog(e,48)},_rejectDialog:function(e,t,n){this.refs.rejectDialog.create({merchantCode:e.merchantCode,appCode:e.appCode,remark:"",status:t,operation:n})},_update:function(e){u.update({data:this.state.data,filter:this.state.filter},e)},queryData:function(e){u.query({data:f.assign(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:f.assign(this.state.filter,e)},function(){this.queryData({currentPage:0})}.bind(this))},showDownload:function(e){this.refs.downloadDialog.show(e.appCode)},render:function(){return r.createElement("div",{className:"box"},r.createElement("div",{className:"box-title"},r.createElement("h3",null,this.state.title)),r.createElement(d,{ref:"edit-release"}),r.createElement(o,{filters:[{name:"公司名称",field:"merchantFullName"},{name:"应用名称",field:"appName"},{name:"应用编码",field:"appCode"},{name:"商户编码",field:"merchantCode"},{type:"date",startField:"applyStartDate",endField:"applyEndDate",name:"申请时间",format:"YYYY-MM-DD"}],onFilterData:this.filterData}),r.createElement(i,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"应用编码",field:"appCode"},{name:"应用名称",field:"appName"},{name:"商户编码",field:"merchantCode"},{name:"公司名称",field:"merchantFullName"},{name:"上架渠道",field:"shelfChannelDesc"},{name:"申请时间",field:"updateTime"}],operations:[{name:"查看",icon:"primary",callback:this.showView},{name:"通过",icon:"primary",callback:this.accept,disabled:function(e){return 11!==e.status}},{name:"驳回",icon:"danger",callback:this.reject,disabled:function(e){return 11!==e.status}},{name:"通过",icon:"primary",callback:this.testEnvAccept,disabled:function(e){return 13!==e.status}},{name:"驳回",icon:"danger",callback:this.testEnvReject,disabled:function(e){return 13!==e.status}},{name:"通过",icon:"primary",callback:this.onlineEnvAccept,disabled:function(e){return 15!==e.status}},{name:"驳回",icon:"danger",callback:this.onlineEnvReject,disabled:function(e){return 15!==e.status}},{name:"包体下载",icon:"success",callback:this.showDownload,disabled:function(e){return 15!==e.status}},{name:"通过",icon:"primary",callback:this.testAccept,disabled:function(e){return!(17===e.status||50===e.status||51===e.status)}},{name:"驳回",icon:"danger",callback:this.testReject,disabled:function(e){return!(17===e.status||50===e.status||51===e.status)}},{name:"上架",icon:"success",callback:this.releaseAccept,disabled:function(e){return 19!==e.status}}]}),r.createElement(s,{ref:"rejectDialog",title:"驳回",items:[{type:"textarea",field:"remark",name:"驳回理由",required:!0},{type:"hidden",field:"merchantCode",required:!0},{type:"hidden",field:"appCode",required:!0}],onCreate:this._rejectHandle}),r.createElement(s,{ref:"dialog",title:"商户应用管理",items:[{field:"appTypeName",name:"应用类型"},{field:"gameTypeName",name:"游戏类型"},{field:"gameAttrTypeName",name:"游戏属性"},{field:"appCode",name:"应用编码"},{field:"appName",name:"应用名称"},{type:"preview",field:"appIcon",large:"image-preview-middle",name:"应用图标"},{type:"textarea",field:"appDesc",name:"简介"},{field:"gameDesc",name:"游戏描述"},{type:"preview",field:"picUrlList",large:"image-preview",name:"游戏截图"},{field:"merchantCode",name:"商户编码"},{field:"merchantFullName",name:"公司名称"},{type:"date",startField:"updateTime",format:"YYYY-MM-DD HH:mm:ss",name:"申请时间"},{name:"登录回调地址",field:"loginCallBackUrl"},{name:"支付回调地址",field:"payCallBackUrl"},{name:"测试登录回调地址",field:"testLoginCallBackUrl"},{name:"测试支付回调地址",field:"testPayCallBackUrl"}]}),r.createElement(m,{ref:"downloadDialog"}))}}),e.exports=a},function(e,t,n){"use strict";var a=n(1),r=n(16),i=n(245),o=n(8),s=n(2),l=n(3),u=s.domain.sdkba,c=n(4),d=a.createStore({listenables:i,getDefaultData:function(){return r.dataTable()},getDefaultFilter:function(){return{merchantFullName:"",contacts:"",status:"",mobilePhoneNum:"",applyStartDate:"",applyEndDate:"",pageNo:1}},onAccept:function(e,t){var n=function(t){1e3===t.responseCode?(l.success({message:"已审核通过"}),i.query(e)):l.fail({message:t.errorMsg})},a=u+"/merchantinfoaudit/dopass";o(a,t,n,"GET")},onReject:function(e,t){var n=u+"/merchantinfoaudit/doreject",a=function(t){1e3===t.responseCode?(l.success({message:"已驳回申请"}),i.query(e)):l.fail({message:t.errorMsg})};o(n,t,a)},onQuery:function(e){c.assign(e.filter,{pageNo:e.data.currentPage+1});var t=this,n=u+"/merchantinfoaudit/list",a=function(n){1e3===n.responseCode?t.trigger({list:n.data.merchantList,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}):l.fail({message:n.errorMsg})},r=e.filter;r=c.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),o(n,r,a,"GET")}});e.exports=d},function(e,t,n){"use strict";var a,r=n(5),i=n(246),o=n(555),s=n(7),l=n(13);n(9),n(3),n(4);a=r.createClass({displayName:"Notify",getInitialState:function(){return{data:o.getDefaultData(),filter:o.getDefaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=o.listen(function(t){"list"===t.type&&e.setState({data:t.data})})},componentWillUnMount:function(){this.unsubscribe()},queryData:function(e){i.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},Modify:function(e){this.refs.dialog.update(e)},update:function(e){i.update(e,this.state)},render:function(){return r.createElement("div",{className:"box"},r.createElement(s,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"Code",field:"attrCode"},{name:"名称",field:"attrName"},{name:"值",field:"attrVal"},{name:"说明",field:"describe"},{name:"备注",field:"remark"}],operations:[{name:"编辑",icon:"primary",callback:this.Modify}]}),r.createElement(l,{ref:"dialog",title:"消息通知",items:[{name:"Code",field:"attrCode",disabled:!0},{name:"名称",field:"attrName",disabled:!0},{name:"值",field:"attrVal",required:!0},{name:"说明",field:"describe"}],onUpdate:this.update}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(246),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.sdkba,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{}},onQuery:function(e){var t=this,n=c+"/notify/list",a=function(n){1e3===n.responseCode?t.trigger({type:"list",data:{list:n.data,totalCount:n.data.length,perPage:e.data.perPage,currentPage:e.data.currentPage}}):d.fail({message:n.errorMsg})},r=e.filter;r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onUpdate:function(e,t){var n=c+"/notify/edit",a=function(e){1e3===e.responseCode?(d.success({message:"更新成功"}),i.query(t)):d.fail({message:e.errorMsg})},r={attrCodes:e.attrCode,attrVals:e.attrVal,describe:e.describe};l(n,r,a,"GET")}}),e.exports=a},function(e,t,n){"use strict";var a={Merchant:n(551),MerchantAppAudit:n(552),ChargePoint:n(549),ChargePointDetail:n(550),BizQuery:n(558),Notify:n(554),PKGManage:n(557),SDKVersion:n(560)};e.exports=a},function(e,t,n){"use strict";var a,r,i=n(5),o=n(131),s=n(247),l=n(7),u=n(12),c=(n(9),n(3),n(4)),d=n(249);a=i.createClass({displayName:"PKGManage",getInitialState:function(){return{data:s.getDefaultData(),filter:s.getDefaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"list"===t.type&&e.setState({data:t.data})})},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){o.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){o.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},showDownload:function(e){this.refs.downloadDialog.show(e.appCode)},history:function(e){this.refs.historyDialog.show(e.appCode)},render:function(){return i.createElement("div",{className:"box"},i.createElement(u,{filters:[{name:"公司名称",field:"merchantFullName"},{name:"商户编码",field:"merchantCode"},{name:"应用名称",field:"merchantAppName"},{name:"应用编号",field:"appCode"}],onFilterData:this.filterData}),i.createElement(l,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"应用编码",field:"appCode"},{name:"应用名称",field:"appName"},{name:"SDK版本",field:"sdkVersion"},{name:"公司名称",field:"merchantFullName"},{name:"商户编码",field:"merchantCode"},{name:"应用状态",field:"statusDesc"}],operations:[{name:"包体下载",icon:"success",callback:this.showDownload},{name:"历史查询",icon:"primary",callback:this.history}]}),i.createElement(d,{ref:"downloadDialog"}),i.createElement(r,{ref:"historyDialog"}))}}),r=i.createClass({displayName:"EditHistory",getInitialState:function(){return{data:s.getDefaultData(),filter:{appCode:""}}},componentDidMount:function(){var e=this;this.unsubscribe=s.listen(function(t){"history"===t.type&&e.setState({data:t.data})}),this.dialog=$(i.findDOMNode(this.refs["edit-dialog"]))},componentWillUnMount:function(){},queryData:function(e){},show:function(e){this.setState({filter:c.assign(this.state.filter,{appCode:e})}),o.history(this.state),this.dialog.modal("show")},render:function(){return i.createElement("div",{className:"modal fade",ref:"edit-dialog"},i.createElement("div",{className:"modal-dialog modal-lg"},i.createElement("div",{className:"modal-content"},i.createElement("div",{className:"modal-header"},i.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},i.createElement("span",null,"×")),i.createElement("h4",{className:"modal-title"},"历史查询")),i.createElement("div",{className:"modal-body"},i.createElement(l,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"包体名称",
field:"name"},{name:"包体大小",field:"fileSize"},{name:"上传时间",field:"uploadTime"},{name:"加固大小",field:"jiaguFileSize"},{name:"加固时间",field:"jiaguTime"},{name:"备注",field:"remark"}]})))))}}),e.exports=a},function(e,t,n){"use strict";var a,r,i=n(5),o=n(7),s=n(12),l=n(559),u=n(248),c=n(130),d=n(66),m=n(9),f=(n(3),n(14)),p=n(4),h=n(251);r=i.createClass({displayName:"EditDialog",getInitialState:function(){return{data:p.assign(l.getDefaultData(),{perPage:10}),filter:l.getDefaultFilter(),app:{},audit:"",chargePointAudit:"",testEnv:"",onlineEnv:"",test:"",release:""}},componentDidMount:function(){var e=this;this.unsubscribe=l.listen(function(t){"bizQuery"===t.type&&e.setState({data:t.data})}),this.dialog=$(i.findDOMNode(this.refs["edit-dialog"]))},componentWillUnMount:function(){this.unsubscribe()},show:function(e){var t=e.status;t>=12&&40>t?this.setState({audit:"√"}):41===t&&this.setState({audit:"X"}),t>=14&&40>t?this.setState({testEnv:"√"}):43===t&&this.setState({testEnv:"X"}),t>=16&&40>t?this.setState({onlineEnv:"√"}):45===t&&this.setState({onlineEnv:"X"}),t>=18&&40>t?this.setState({test:"√"}):47===t&&this.setState({test:"X"}),t>=20&&40>t?this.setState({release:"√"}):49===t&&this.setState({release:"X"}),this.setState({app:e}),u.query({data:p.assign(this.state.data,{currentPage:0}),filter:p.assign(this.state.filter,{appCode:e.appCode})}),this.dialog.modal("show")},queryData:function(e){this.state.filter.appCode&&u.query({data:p.assign(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},render:function(){return i.createElement("div",{className:"modal fade",ref:"edit-dialog"},i.createElement("div",{className:"modal-dialog modal-lg"},i.createElement("div",{className:"modal-content"},i.createElement("div",{className:"modal-header"},i.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},i.createElement("span",null,"×")),i.createElement("h4",{className:"modal-title"},"历史查询")),i.createElement("div",{className:"modal-body"},this.state.app?i.createElement("div",{className:"box-body clearfix"},i.createElement("h2",null,this.state.app.appName),i.createElement("p",null,this.state.app.merchantFullName),i.createElement("table",{className:"table table-bordered table-hover text-center"},i.createElement("thead",null,i.createElement("tr",null,i.createElement("td",null,"游戏审核"),i.createElement("td",null,"计费点审核"),i.createElement("td",null,"测试环境联调"),i.createElement("td",null,"线上环境联调"),i.createElement("td",null,"测试"),i.createElement("td",null,"上架审核"))),i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",null,this.state.audit),i.createElement("td",null,this.state.chargePointAudit),i.createElement("td",null,this.state.testEnv),i.createElement("td",null,this.state.onlineEnv),i.createElement("td",null,this.state.test),i.createElement("td",null,this.state.release))))):null,i.createElement(o,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"时间",field:"createTime"},{name:"操作记录",field:"operDesc"},{name:"操作人",field:"operUser"},{name:"备注",field:"remark"}]})))))}}),a=i.createClass({displayName:"BizQuery",mixins:[f.Navigation],getInitialState:function(){return{data:c.getDefaultData(),filter:p.assign(c.getDefaultFilter(),{status:""}),bizQuery:{}}},componentDidMount:function(){var e=this;this.appUnsubscribe=c.listen(function(t){"list"===t.type&&e.setState({data:t.data})}),this.props.query.currentPage&&this.refs.table.loadPage(parseInt(this.props.query.currentPage))},componentWillUnMount:function(){this.appunsubscribe()},filterData:function(e){this.setState({filter:e},function(){d.query({data:p.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){d.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},bizQuery:function(e){this.refs.dialog.show(e)},companyInfo:function(){u.companyInfo()},bizInfo:function(){u.bizInfo()},showChargePoint:function(e){var t={main:"/open/biz-query"};t=0===this.state.data.currentPage?p.assign(t,{appCode:e.appCode}):p.assign(t,{appCode:e.appCode,currentPage:this.state.data.currentPage}),this.transitionTo("/open/charge-point-detail-list",{},t)},showDown:function(e){m.info({message:"确认展示下线？",onConfirm:this._acceptHandle.bind(null,e,2)})},showUp:function(e){m.info({message:"确认展示上线？",onConfirm:this._acceptHandle.bind(null,e,1)})},soldOut:function(e){m.info({message:"确认下架？",onConfirm:this._acceptHandle.bind(null,e,0)})},up:function(e){this.refs["edit-release"].show(this.state,p.assign(e,{status:1}))},selectChannel:function(){},_acceptHandle:function(e,t){this._update({status:t,merchantCode:e.merchantCode,appCode:e.appCode})},_update:function(e){u.updateMerchant({data:this.state.data,filter:this.state.filter},e)},render:function(){return i.createElement("div",{className:"box"},i.createElement(s,{filters:[{name:"公司名称",field:"merchantFullName"},{name:"商户编码",field:"merchantCode"},{name:"应用名称",field:"appName"},{name:"应用编号",field:"appCode"},{type:"date",startField:"applyStartDate",endField:"applyEndDate",name:"申请时间",format:"YYYY-MM-DD",value:""}],onFilterData:this.filterData}),i.createElement("div",{className:"box-body clearfix"},i.createElement("div",{className:"col-sm-3 col-sm-offset-6"},i.createElement("button",{className:"btn btn-primary btn-block",onClick:this.companyInfo},"公司信息批量导出")),i.createElement("div",{className:"col-sm-3"},i.createElement("button",{className:"btn btn-primary btn-block",onClick:this.bizInfo},"业务信息批量导出"))),i.createElement(o,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"应用编号",field:"appCode"},{name:"应用名称",field:"appName"},{name:"SDK版本",field:"sdkVersion"},{name:"公司名称",field:"merchantFullName"},{name:"商户编码",field:"merchantCode"},{name:"应用状态",field:"statusDesc"}],operations:[{name:"计费点管理",icon:"primary",callback:this.showChargePoint},{name:"展示上线",icon:"success",callback:this.up,disabled:function(e){return 2!==e.status}},{name:"展示下线",icon:"primary",callback:this.showDown,disabled:function(e){return 1!==e.status}},{name:"上架",icon:"success",callback:this.up,disabled:function(e){return 0!==e.status}},{name:"下架",icon:"primary",callback:this.soldOut,disabled:function(e){return 1!==e.status}},{name:"历史查询",icon:"primary",callback:this.bizQuery}]}),i.createElement(r,{ref:"dialog"}),i.createElement(h,{ref:"edit-release"}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(248),o=n(66),s=n(4),l=n(16),u=n(8),c=n(2),d=c.domain.sdkba,m=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return l.dataTable()},getDefaultFilter:function(){return{merchantFullName:"",merchantCode:"",appName:"",appCode:"",applyStartDate:"",applyEndDate:""}},onQuery:function(e){var t=this,n=d+"/business/buOperateHistory",a=function(n){1e3===n.responseCode?t.trigger({type:"bizQuery",filter:e.filter,data:{list:n.data.operList,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}}):m.fail({message:n.errorMsg})},r=e.filter;r=s.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),u(n,r,a)},onCompanyInfo:function(){window.open(d+"/business/exportMerchantInfo")},onBizInfo:function(){window.open(d+"/business/exportBusinessInfo")},onUpdateMerchant:function(e,t){var n=d+"/merchantappaudit/updateState",a=function(n){if(1e3===n.responseCode){var a="";0===t.status?a="已下架":2===t.status&&(a="展示下线"),m.success({message:a}),o.query(e)}else m.fail({message:n.errorMsg})};u(n,t,a,"GET")}}),e.exports=a},function(e,t,n){"use strict";"use strick";var a,r=n(5),i=n(7),o=n(12),s=n(13),l=n(250),u=n(561),c=n(4),d=n(2),m=n(3),f=n(9);a=r.createClass({displayName:"SDKVersion",getInitialState:function(){return{data:c.assign(u.getDefaultData(),{perPage:15}),filter:u.getDefaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=u.listen(function(t){"list"===t.type&&e.setState({data:c.assign(t.data,{list:t.data.list.map(function(e,t){return e.index=t+1,e})})})})},componentWillUnMount:function(){this.unsubscribe()},validForm:function(e){var t=e.versionNum;return c.isNumber(t)?t>=1e4&&99999>t?!0:(m.fail({message:"版本号只能大于等于10000，小于99999"}),!1):t?(m.fail({message:"版本号只能是数字"}),!1):!0},filterData:function(e){this.validForm(e)&&this.setState({filter:e},function(){l.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){l.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},show:function(e){this.refs.edit.show(e)},create:function(){this.refs.edit.create()},update:function(e){this.refs.edit.update(e)},deploy:function(e){var t=this;f.info({message:"该版本将强制动态至"+e.versionNum+"版本，请确认此操作",onConfirm:function(){l.deploy(t.state,{id:e.id})}})},render:function(){return r.createElement("div",{className:"box"},r.createElement(s,{ref:"edit",title:"模块",items:[{name:"版本名称",field:"versionName",required:!0},{name:"版本号",field:"versionNum",type:"number",min:"10000",max:"99999",placeholder:"请添写5位数字版本号",required:!0},{name:"需热更版本",type:"number",min:"10000",max:"99999",placeholder:"请添写5位数字版本号",field:"needUpdateVersion"},{name:"需热更游戏",field:"needUpdateGame"},{name:"包体上传",type:"file",field:"sdkPath",urlField:"sdkPath",uploadUrl:d.domain.sdkba+"/sdkversion/upload",extension:["apk"],uploadField:"file",required:!0},{name:"版本说明",field:"versionDesc",type:"rich"}],onCreate:l.create.bind(this,this.state),onUpdate:l.update.bind(this,this.state)}),r.createElement(o,{filters:[{name:"版本号",field:"versionNum",type:"number",min:"10000",max:"99999",placeholder:"请添写5位数字版本号",required:!0},{name:"上传起止时间",type:"date",startField:"startTime",endField:"endTime",format:"YYYY-MM-DD"}],onFilterData:this.filterData,onCreateData:this.create}),r.createElement(i,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"版本名",field:"versionName"},{name:"版本号",field:"versionNum"},{name:"需热更版本",field:"needUpdateVersion"},{name:"需热更游戏",field:"needUpdateGame"},{name:"是否发布",field:"isRelease",value:function(e){return r.createElement("span",null,1===e.isRelease?"已发布":null)}},{name:"Sdk上传时间",field:"sdkUploadTime"},{name:"Sdk发布时间",field:"releaseTime"}],operations:[{name:"编辑",icon:"primary",callback:this.update},{name:"查看",icon:"default",callback:this.show},{name:"发布",icon:"success",callback:this.deploy}]}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(250),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.sdkba,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{versionNum:"",startTime:"",endTime:""}},getPickFiled:function(){return["versionName","versionNum","needUpdateVersion","needUpdateGame","sdkPath","versionDesc","isRelease","sdkUploadTime"]},handleSaveOrUpdate:function(e,t,n){var a=c+"/sdkversion/save",r="版本添加成功";"update"===n&&(a=c+"/sdkversion/update",r="版本修改成功");var o=function(t){d.success({message:r}),i.query(e)};l(a,t,o)},onQuery:function(e){var t=this,n=c+"/sdkversion/list",a=function(n){t.trigger({type:"list",filter:e.filter,data:{list:n.data.sdkList,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}})},r=e.filter;r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onCreate:function(e,t){this.handleSaveOrUpdate(e,o.pick(t,this.getPickFiled()),"")},onUpdate:function(e,t){this.handleSaveOrUpdate(e,o.pick(t,this.getPickFiled().concat(["id"])),"update")},onDeploy:function(e,t){var n=c+"/sdkversion/delopy",a=function(t){d.success({message:"升级成功"}),i.query(e)};l(n,t,a)}}),e.exports=a},function(e,t,n){"use strict";var a=n(11),r=n(243),i=n(132),o=n(252),s=n(68),l=n(69),u=n(70),c=n(54),d=n(88),m=n(2),f=n(23);n(919);var p=a.createClass({displayName:"Platform",contextTypes:{router:a.PropTypes.func.isRequired},mixins:[r],getInitialState:function(){return{platforms:[]}},componentDidMount:function(){var e=this;this.mesubscribe=o.listen(function(t){"getPlatforms"===t.type&&e.setState({platforms:t.data})}),i.getPlatforms(),l.platform(),s.show(),u.sideOff()},componentWillUnMount:function(){this.mesubscribe()},checkoutHandle:function(e){var t=e.target.attributes["data-code"].value,n=f.cookie.load(m.constants.STORAGE_KEY);n&&n.platform!==t&&(d.isLoaded=!1,n.platform=t,f.cookie.save(m.constants.STORAGE_KEY,n),c.loadMenu(t)),this.context.router.replaceWith("/dashboard")},render:function(){var e=this;return a.createElement("div",{className:"panel panel-primary"},a.createElement("div",{className:"panel-heading"},a.createElement("h3",{className:"panel-title"},"请选择平台")),a.createElement("div",{className:"panel-body container"},a.createElement("div",{className:"row"},this.state.platforms.map(function(t){return a.createElement("div",{className:"col-md-4",key:t.id},a.createElement("a",{className:"platform-btn",href:"javascript:void(0);","data-code":t.id,onClick:e.checkoutHandle.bind(e)},t.name))}))))}});e.exports=p},function(e,t,n){"use strict";var a,r=n(5),i=n(253),o=n(564),s=(n(67),n(84),n(7)),l=n(12),u=n(13),c=(n(45),n(4)),d=n(9),m=(n(3),n(2)),f=[{name:"未启用",value:"0"},{name:"启用",value:"1"},{name:"审核中",value:"2"}],p=[{name:"新闻资讯",value:"NI"},{name:"游戏特色",value:"GF"},{name:"游戏赏析",value:"GG"}];a=r.createClass({displayName:"Banner",getInitialState:function(){return{data:c.assign(o.getDefaultData(),{list:[]}),filter:c.assign(o.getDefaultFilter(),{gameCode:this.props.query.gameCode}),gameCode:this.props.query.gameCode}},componentDidMount:function(){var e=this;this.unsubscribe=o.listen(function(t){"list"===t.type&&e.setState({data:t.data})})},componentWillUnMount:function(){this.unsubscribe()},componentWillReceiveProps:function(e){this.setState({filter:c.assign(this.state.filter,{gameCode:e.query.gameCode}),gameCode:e.query.gameCode},function(){i.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})})},filterData:function(e){this.setState({filter:c.assign(this.state.filter,e)},function(){i.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){this.state.filter.gameCode&&i.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.refs.dialog.create(c.assign(o.getDefaultItem(),{gameCode:this.state.gameCode}))},update:function(e){this.refs.dialog.update(e)},"delete":function(e){var t=this;d.warning({message:"确认删除？",onConfirm:function(){i["delete"](t.state,e.id)}})},showModal:function(e){this.refs.picker.show()},render:function(){return r.createElement("div",{className:"box"},r.createElement(l,{filters:[{name:"内容简介",field:"profile"},{type:"select",name:"Banner分类",field:"bannerType",options:[{name:"全部",value:""}].concat(p)},{type:"select",name:"状态",field:"status",options:[{name:"全部",value:""}].concat(f)}],onFilterData:this.filterData,onCreateData:this.create}),r.createElement(s,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"Banner",field:"url",value:function(e){return r.createElement("img",{src:e.url,className:"preview"})}},{name:"内容简介",field:"profile"},{name:"链接地址",field:"redirectUrl"},{name:"Banner分类",field:"bannerTypeValue"},{name:"状态",field:"statusValue"},{name:"创建时间",field:"createTime"}],operations:[{name:"编辑",icon:"primary",callback:this.update},{name:"删除",icon:"danger",callback:this["delete"]}]}),r.createElement(u,{ref:"dialog",title:"Banner",items:[{type:"hidden",field:"gameCode",disabled:!0},{name:"Banner图片",type:"image",imageUrl:"url",urlField:"url",uploadUrl:m.domain.publish+"/pic/upload",required:!0,uploadField:"filedata"},{name:"内容简介",field:"profile",required:!0},{name:"跳转链接",field:"redirectUrl"},{name:"Banner分类",field:"bannerType",type:"select",required:!0,options:[{name:"请选择",value:""}].concat(p)},{name:"状态",type:"select",field:"status",required:!0,options:[{name:"请选择",value:""}].concat(f)}],onCreate:i.create.bind(this,this.state),onUpdate:i.update.bind(this,this.state)}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(253),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.publish,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{profile:"",status:null,gameCode:"",contentType:null}},getDefaultItem:function(){return{id:null,profile:"",gameCode:"",bannerType:-1,status:0,url:"",redirectUrl:""}},getPickFiled:function(){return["profile","gameCode","bannerType","status","url","redirectUrl"]},createOrUpdate:function(e,t,n){var a=this,r="Banner创建成功",s=c+"/banner/add";"update"===t&&(r="Banner修改成功",s=c+"/banner/modify"),"update"!==t&&o.assign(n,{data:o.assign(n.data,{currentPage:0})});var u=function(e){a.trigger({type:"create",data:!0}),d.success({message:r}),setTimeout(function(){i.query(n)},200)};l(s,e,u)},onQuery:function(e){var t=this,n=c+"/banner/query",a=e.filter,r=function(n){t.trigger({type:"list",data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}})};a=o.assign(a,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,a,r,"GET")},onCreate:function(e,t){var n=e,a=o.pick(t,this.getPickFiled());this.createOrUpdate(a,"",n)},onUpdate:function(e,t){var n=e,a=o.pick(t,this.getPickFiled().concat(["id"]));this.createOrUpdate(a,"update",n)},onDelete:function(e,t){var n=c+"/banner/delete",a={id:t},r=function(t){d.success({message:"已删除"}),setTimeout(function(){i.query(e)},200)};l(n,a,r)}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(254),o=n(566),s=(n(67),n(84),n(7)),l=n(12),u=n(13),c=(n(45),n(4)),d=n(9);n(3),n(2);a=r.createClass({displayName:"Content",getInitialState:function(){return{data:c.assign(o.getDefaultData(),{list:[]}),filter:c.assign(o.getDefaultFilter(),{gameCode:this.props.query.gameCode}),gameList:[],gameDefaultId:-1,gameCode:this.props.query.gameCode}},componentDidMount:function(){var e=this;this.unsubscribe=o.listen(function(t){"list"===t.type&&e.setState({data:t.data})})},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){i.query({data:c.assign(this.state.data,{currentPage:0,perPage:15}),filter:c.assign(this.state.filter,{gameCode:this.state.gameCode})})}.bind(this))},queryData:function(e){i.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.refs.dialog.create(c.assign(o.getDefaultItem(),{gameCode:this.state.gameCode}))},update:function(e){this.refs.dialog.update(e)},"delete":function(e){var t=this;d.warning({message:"确认删除",onConfirm:function(){i["delete"](t.state,e.id)}})},render:function(){return r.createElement("div",{className:"box"},r.createElement(l,{filters:[{name:"内容标题",field:"title"},{name:"内容简介",field:"profile"},{name:"状态",field:"status",type:"select",options:[{name:"请选择",value:""},{name:"未启用",value:"0"},{name:"启用",value:"1"},{name:"审核",value:"2"}]}],onFilterData:this.filterData,onCreateData:this.create}),r.createElement(s,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"游戏名称",field:"gameName"},{name:"内容标题",field:"title"},{name:"内容简介",field:"profile"},{name:"状态",field:"statusValue"},{name:"创建时间",field:"createTime"}],operations:[{name:"编辑",icon:"primary",callback:this.update},{name:"删除",icon:"danger",callback:this["delete"]}]}),r.createElement(u,{ref:"dialog",title:"内容",items:[{name:"内容标题",field:"title",required:!0},{name:"内容简介",field:"profile",required:!0},{name:"状态",field:"status",type:"select",required:!0,options:[{name:"请选择",value:""},{name:"未启用",value:"0"},{name:"启用",value:"1"},{name:"审核",value:"2"}]},{name:"内容分类",field:"contentType",type:"select",required:!0,options:[{name:"请选择",value:""},{name:"新闻",value:"N"},{name:"公告",value:"P"},{name:"活动",value:"A"},{name:"攻略",value:"R"}]},{name:"内容",field:"content",type:"rich"}],onCreate:i.create.bind(this,this.state),onUpdate:i.update.bind(this,this.state)}))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(254),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.publish,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{id:null,gameCode:null,contentType:null}},getDefaultItem:function(){return{id:null,title:"",profile:"",gameCode:null,contentType:-1,status:-1,content:""}},getPickFiled:function(){return["title","profile","gameCode","contentType","status","content"]},createOrUpdate:function(e,t,n){var a=this,r="内容创建成功",o=c+"/content/add";"update"===t&&(r="内容修改成功",o=c+"/content/modify");var s=function(e){1e3===e.responseCode?(a.trigger({type:"create",data:!0}),d.success({message:r}),i.query(n)):d.fail({message:e.errorMsg})};l(o,e,s)},onQuery:function(e){var t=this,n=c+"/content/query",a=e.filter,r=function(n){t.trigger({type:"list",data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}})};a=o.assign(a,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,a,r,"GET")},onCreate:function(e,t){var n=e,a=o.pick(t,this.getPickFiled());this.createOrUpdate(a,"",n)},onUpdate:function(e,t){var n=e,a=o.pick(t,this.getPickFiled().concat(["id"]));this.createOrUpdate(a,"update",n)},onDelete:function(e,t){var n=c+"/content/delete",a={id:t},r=function(t){d.success({message:"已删除"}),setTimeout(function(){i.query(e)},500)};l(n,a,r,"POST")}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(67),o=n(84),s=n(7),l=n(12),u=n(13),c=(n(45),n(4)),d=n(9),m=(n(3),n(2)),f=[{name:"全部",value:""},{name:"启用",value:1},{name:"未启用",value:0}];a=r.createClass({displayName:"Game",getInitialState:function(){return{data:c.assign(o.getDefaultData(),{list:[]}),filter:o.getDefaultFilter()}},componentDidMount:function(){var e=this;this.unsubscribe=o.listen(function(t){"list"===t.type&&e.setState({data:t.data})})},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){i.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){i.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.refs.dialog.create(o.getDefaultItem())},update:function(e){this.refs.dialog.update(e)},"delete":function(e){var t=this;d.warning({message:"确认删除？",onConfirm:function(){i["delete"](t.state,e.id)}})},render:function(){return r.createElement("div",{className:"box"},r.createElement(l,{filters:[{name:"游戏Code",field:"gameCode"},{name:"游戏名称",field:"name"},{name:"状态",type:"select",field:"status",options:f}],onFilterData:this.filterData,onCreateData:this.create}),r.createElement(s,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"游戏Code",field:"gameCode"},{name:"游戏名称",field:"name"},{name:"ICON",value:function(e){return r.createElement("img",{className:"preview",src:e.icon})}},{name:"网址",field:"site"},{name:"状态",field:"statusValue"},{name:"创建时间",field:"createTime"}],operations:[{name:"编辑",icon:"primary",callback:this.update},{name:"删除",icon:"danger",callback:this["delete"]}]}),r.createElement(u,{ref:"dialog",title:"游戏",items:[{name:"游戏Code",field:"gameCode",required:!0},{name:"游戏名称",field:"name",required:!0},{name:"ICON",type:"image",imageUrl:"icon",urlField:"icon",uploadUrl:m.domain.publish+"/pic/upload",uploadField:"filedata",required:!0},{name:"游戏主站",field:"site",required:!0},{name:"苹果越狱下载",field:"iJbDownloadUrl"},{name:"苹果下载",field:"iDownloadUrl"},{name:"安卓下载",field:"androidDownloadUrl"},{name:"扫描下载",field:"scanDownloadUrl"},{name:"扫描关注微",field:"scanFollowWechatUrl"},{name:"游戏状态",field:"status",type:"select",options:f,required:!0},{name:"游戏描述",field:"description",type:"rich"}],onCreate:i.create.bind(this,this.state),onUpdate:i.update.bind(this,this.state)}))}}),e.exports=a},function(e,t,n){"use strict";e.exports={Game:n(567),Content:n(565),Banner:n(563),Video:n(570)}},function(e,t,n){"use strict";var a,r=n(1),i=n(255),o=n(4),s=n(16),l=n(8),u=n(2),c=u.domain.publish,d=n(3);a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{id:null,status:null,gameCode:""}},getDefaultItem:function(){return{title:"",profile:"",gameCode:null,videoType:null,status:-1,url:""}},getPickFiled:function(){return["title","profile","gameCode","videoType","status","url"]},createOrUpdate:function(e,t,n){var a=this,r="视频创建成功",o=c+"/video/add";"update"===t&&(r="视频修改成功",o=c+"/video/modify");var s=function(e){1e3===e.responseCode?(a.trigger({type:"create",data:!0}),d.success({message:r}),i.query(n)):d.fail({message:e.errorMsg})};l(o,e,s)},onQuery:function(e){var t=this,n=c+"/video/query",a=e.filter,r=function(n){t.trigger({type:"list",data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}})};a=o.assign(a,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,a,r,"GET")},onCreate:function(e,t){var n=e,a=o.pick(t,this.getPickFiled());this.createOrUpdate(a,"",n)},onUpdate:function(e,t){var n=e,a=o.pick(t,this.getPickFiled().concat(["id"]));this.createOrUpdate(a,"update",n)},onDelete:function(e,t){var n=c+"/video/delete",a={id:t},r=function(t){d.success({message:"已删除"}),setTimeout(function(){i.query(e)},500)};l(n,a,r,"POST")}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(5),i=n(255),o=n(569),s=(n(67),n(84),n(7)),l=n(12),u=n(13),c=(n(45),n(4)),d=n(9);n(3),n(2);a=r.createClass({displayName:"Video",getInitialState:function(){return{data:c.assign(o.getDefaultData(),{list:[]}),filter:c.assign(o.getDefaultFilter(),{gameCode:this.props.query.gameCode}),gameList:[],gameDefaultId:-1,gameCode:this.props.query.gameCode}},componentDidMount:function(){var e=this;this.unsubscribe=o.listen(function(t){"list"===t.type&&e.setState({data:t.data})})},componentWillUnMount:function(){this.unsubscribe()},filterData:function(e){this.setState({filter:e},function(){i.query({data:c.assign(this.state.data,{currentPage:0}),filter:c.assign(this.state.filter,{gameCode:this.state.gameCode})})}.bind(this))},queryData:function(e){i.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){this.refs.dialog.create(c.assign(o.getDefaultItem(),{videoType:"VM",gameCode:this.state.gameCode}))},update:function(e){this.refs.dialog.update(e)},"delete":function(e){var t=this;d.warning({message:"确认删除",onConfirm:function(){i["delete"](t.state,e.id)}})},render:function(){return r.createElement("div",{className:"box"},r.createElement(l,{filters:[{name:"标题",field:"title"},{name:"内容简介",field:"profile"}],onFilterData:this.filterData,onCreateData:this.create}),r.createElement(s,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"标题",field:"title"},{name:"内容简介",field:"profile"},{name:"地址",field:"url"},{name:"状态",field:"statusValue"},{name:"创建时间",field:"createTime"}],operations:[{name:"编辑",icon:"primary",callback:this.update},{name:"删除",icon:"danger",callback:this["delete"]}]}),r.createElement(u,{ref:"dialog",title:"视频",items:[{name:"标题",field:"title",required:!0},{name:"内容简介",field:"profile",required:!0},{name:"视频状态",field:"status",type:"select",required:!0,options:[{name:"请选择",value:""},{name:"未启用",value:"0"},{name:"启用",value:"1"},{name:"审核",value:"2"}]},{name:"地址",field:"url",required:!0},{name:"Banner分类",field:"bannerType",type:"select",options:[{name:"影音赏析",value:"VM"}]}],onCreate:i.create.bind(this,this.state),onUpdate:i.update.bind(this,this.state)}))}}),e.exports=a},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function m(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:m(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(5).Component,u=n(1).ListenerMethods,c=a(n(56)),d=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state={options:[]}}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;c.listen(function(t){e.props.inDialog&&t.closed})}},componentWillUnmount:{value:function(){u.stopListeningToAll()}},render:{value:function(){var e=this;return React.createElement("div",{className:"form-group"},this.props.item.options.map(function(t,n){return React.createElement("div",{key:n,className:"checkbox col-sm-4"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:e.props.value[t.field],onChange:function(n){return e.props.onChange(t.field,n.target.checked)}}),t.name))}))}}}),t}(l);e.exports=d},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function m(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:m(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(5).Component,u=n(1).ListenerMethods,c=a(n(592));n(906);var d=function(e){function t(e){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={type:"info",title:"",message:"",onConfirm:function(){}}}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;c.listen(function(t){e.setState(t,function(){return $(e.refs["confirm-dialog"].getDOMNode()).modal("show")})})}},componentWillUnmount:{value:function(){u.stopListeningToAll()}},handleConfirm:{value:function(){this.state.onConfirm(),$(this.refs["confirm-dialog"].getDOMNode()).modal("hide")}},render:{value:function(){return React.createElement("div",{ref:"confirm-dialog",className:"modal fade modal-"+this.state.type},React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},React.createElement("span",{"aria-hidden":"true"},"×")),React.createElement("h4",{className:"modal-title"},this.state.title)),React.createElement("div",{className:"modal-body"},React.createElement("p",null,this.state.message)),React.createElement("div",{className:"modal-footer"},React.createElement("button",{type:"button",className:"btn btn-outline pull-left","data-dismiss":"modal"},"取消"),React.createElement("button",{type:"button",className:"btn btn-outline",onClick:this.handleConfirm.bind(this)},"确认")))))}}}),t}(l);e.exports=d},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(68),o=n(593),s=n(88);n(907);var l=a.createClass({displayName:"ContentHeader",contextTypes:{router:a.PropTypes.func.isRequired},mixins:[r.connect(s,"menus")],componentDidMount:function(){var e=this;this.unsubscribe=o.listen(function(t){var n=a.findDOMNode(e.refs["content-header"]);t.contentHeaderShow?$(n).removeClass("hidden"):$(n).addClass("hidden")}),i.show()},componentWillUnMount:function(){this.unsubscribe()},render:function(){var e=s.getCurrentMenu({path:this.context.router.getCurrentPathname(),query:this.context.router.getCurrentQuery(),
full:this.context.router.getCurrentPath()});return a.createElement("section",{ref:"content-header",className:"content-header"},a.createElement("h1",null,e.subMenu?e.subMenu.name:e.mainMenu.name,a.createElement("small",null,e.subMenu?e.mainMenu.name:"")),a.createElement("ol",{className:"breadcrumb"},a.createElement("li",null,a.createElement("i",{className:"fa fa-dashboard"})," 首页"),e.mainMenu.name?a.createElement("li",{className:"active"},e.mainMenu.name):null,e.subMenu&&e.subMenu.name?a.createElement("li",{className:"active"},e.subMenu&&e.subMenu.name):null,e.thirdMenu&&e.thirdMenu.name?a.createElement("li",{className:"active"},e.thirdMenu&&e.thirdMenu.name):null))}});e.exports=l},function(e,t,n){"use strict";var a=n(5),r=n(243),i=(n(54),n(70)),o=n(68),s=n(69);n(908);var l=a.createClass({displayName:"Dashboard",mixins:[r],componentDidMount:function(){i.sideOn(),o.show(),s.show()},render:function(){return a.createElement("div",{className:"callout callout-info",key:"dashboard"},a.createElement("h4",null,"欢迎"),a.createElement("p",null,"欢迎进入钱宝网管理后台"))}});e.exports=l},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function m(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:m(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(5).Component,u=n(1).ListenerMethods,c=a(n(594));n(910);var d=function(e){function t(e){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={type:"success",title:"",message:""}}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;c.listen(function(t){e.setState(t,function(){clearTimeout(e.timer),$(e.refs["flash-message"].getDOMNode()).addClass("active"),e.timer=setTimeout(function(){$(e.refs["flash-message"].getDOMNode()).removeClass("active")},2e3)})})}},componentWillUnmount:{value:function(){u.stopListeningToAll()}},render:{value:function(){var e={success:"icon fa fa-check",info:"icon fa fa-info",warning:"icon fa fa-warning",danger:"icon icon fa fa-ban"},t=this.state.message||"";return t&&"string"!=typeof t&&(t=t.responseText?t.responseText:t.statusText?t.statusText:""),React.createElement("div",{ref:"flash-message",className:"flash-message callout callout-"+this.state.type},React.createElement("h4",null,"  ",React.createElement("i",{className:e[this.state.type]})," ",this.state.title),t.slice(0,1e3))}}}),t}(l);e.exports=d},function(e,t,n){"use strict";var a=n(11),r=n(2);n(911);var i=a.createClass({displayName:"IFrame",contextTypes:{router:a.PropTypes.func},componentDidMount:function(){$(".content-header").hide(),$(".main-footer").hide(),$(a.findDOMNode(this.refs.iframe)).css({height:$(window).height()-85}),$(window).resize(function(){$(a.findDOMNode(this.refs.iframe)).css({height:$(window).height()-85})}.bind(this))},componentWillUnmount:function(){$(".content-header").show(),$(".main-footer").show()},render:function(){var e=this.context.router.getCurrentQuery().link;if(!e)return null;var t=e.indexOf("http")>=0?e:r.domain.market+e;return a.createElement("iframe",{key:"iframe",ref:"iframe",src:t})}});e.exports=i},function(e,t,n){"use strict";var a,r=n(5),i=n(25);a=r.createClass({displayName:"ImageUploaderGroup",propTypes:{max:r.PropTypes.number,name:r.PropTypes.string,images:r.PropTypes.array,onClear:r.PropTypes.func.isRequired},getInitialState:function(){return{uploaders:[]}},render:function(){for(var e=[],t=0;t<this.props.max;t++)if(t<this.props.images.length){var n=this.props.images[t];e.push({name:this.props.name,imageUrl:n.picUrl||n.url||"",image:n})}else e.push({name:this.props.name});var a=_.chunk(e,5);return r.createElement("div",{className:"image-uploader-group"},a.map(function(e,t){var n=t;return r.createElement("div",{key:t,className:"row"},e.map(function(e,t){var a=5*n+t;return r.createElement(i,{key:a,enableClear:!0,name:this.props.name,imageUrl:e.imageUrl,uploadUrl:this.props.uploadUrl,uploadField:this.props.uploadField,onClear:this.props.onClear.bind(null,a),onChange:this.props.onChange.bind(this,a)})}.bind(this)))}.bind(this)))}}),e.exports=a},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=n(5).Component,l=n(14).RouteHandler,u=a(n(573));n(913);var c=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),r(t,{render:{value:function(){return React.createElement("div",{className:"main-content content-wrapper"},React.createElement(u,null),React.createElement("section",{className:"content"},React.createElement(l,null)))}}}),t}(s);e.exports=c},function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=n(5).Component;n(914);var s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return r(t,e),a(t,{showMainHeader:{value:function(){$(".main-header").toggleClass("hidden")}},render:{value:function(){return React.createElement("footer",{className:"main-footer"},React.createElement("div",{onClick:this.showMainHeader.bind(this),className:"pull-right hidden-xs"},"增值电信业务经营许可证 苏B2-20140059"),React.createElement("strong",null,"Copyright © 2015 ",React.createElement("a",{href:"http://www.qianwang365.com",target:"_blank"},"南京钱宝信息传媒有限公司"))," 版权所有 苏ICP备13025672号")}}}),t}(o);e.exports=s},function(e,t,n){"use strict";var a=n(11),r=n(14),i=r.Link,o=n(1),s=n(252),l=n(132),u=n(54),c=n(69),d=n(595),m=n(113),f=n(114),p=(n(4),n(2)),h=n(23),g=n(597);n(915);var v=(a.createClass({displayName:"MessageDropdown",mixins:[o.connect(g,"data")],getInitialState:function(){return{data:{count:0}}},render:function(){var e=this.state.data.count?a.createElement("span",{className:"label label-success"},this.state.data.count):"",t=this.state.data.count?a.createElement("li",null,a.createElement("ul",{className:"menu",id:"message-dropdown"},this.state.data.list.map(function(e){return a.createElement("li",null,a.createElement("a",{href:"#"},a.createElement("div",{className:"pull-left"},a.createElement("img",{src:"images/yeoman.png",className:"img-circle",alt:"User Image"})),a.createElement("h4",null,e.title),a.createElement("p",null,a.createElement("i",{className:"fa fa-clock-o"})," ",e.sendTime)))}))):"";return a.createElement("li",{className:"dropdown messages-menu"},a.createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown"},a.createElement("i",{className:"fa fa-envelope-o"}),e),a.createElement("ul",{className:"dropdown-menu"},a.createElement("li",{className:"header"},"您有 ",this.state.data.count," 条未读消息"),t,a.createElement("li",{className:"footer"},a.createElement("a",{href:"#"},"查看所有消息"))))}}),a.createClass({displayName:"MainHeader",contextTypes:{router:a.PropTypes.func.isRequired},getInitialState:function(){return{userName:"",platforms:[],curPlatform:"",adminMenus:[]}},changePlatform:function(e){l.checkout(e.target.value)},changeState:function(){var e=h.cookie.load(p.constants.STORAGE_KEY);if(e){var t=[];return 0!==e.sysMenu.length&&(t=e.sysMenu[0].subList.map(function(e){return{name:e.name,link:e.url}})),this.setState({userName:e.userName,curPlatform:e.platform,adminMenus:t}),!0}return!1},componentDidMount:function(){var e=this;this.mesubscribe=d.listen(function(t){if("el"===t.type){var n=$(a.findDOMNode(e.refs["main-header"])).find("#platformCheck"),r=$(a.findDOMNode(e.refs["main-header"])).find(".sidebar-toggle"),i=$(a.findDOMNode(e.refs["main-header"])).find(".navbar-custom-menu");if(t.showHeader){$(n).removeClass("hidden"),$(r).removeClass("hidden");var o=h.cookie.load(p.constants.STORAGE_KEY);o&&e.setState({userName:o.userName,curPlatform:o.platform})}else $(n).addClass("hidden"),$(r).addClass("hidden");t.showAdmin?$(i).removeClass("hidden"):$(i).addClass("hidden")}else"checkout"===t.type&&e.setState({curPlatform:t.platform});e.changeState()}),this.unsubscribe=s.listen(function(t){"checkout"===t.type?(e.setState({curPlatform:t.data}),u.loadMenu(t.data,e.context.router)):"getPlatforms"===t.type&&e.setState({platforms:t.data})}),this.loginsubscrib=f.listen(function(t){e.setState({userName:t.userName})}),this.changeState()&&(l.getPlatforms(),c.show())},componentWillUnMount:function(){this.mesubscribe(),this.unsubscribe(),this.loginsubscrib()},logoutHandle:function(){m.logout(this.context.router)},render:function(){var e=this.state.adminMenus.map(function(e,t){return a.createElement(i,{key:"amdin-menu-"+t,className:"btn btn-default btn-flat",to:e.link},e.name)});return a.createElement("header",{ref:"main-header",className:"main-header"},a.createElement("a",{href:"#",className:"logo"},a.createElement("b",null,"QBao"),"管理平台"),a.createElement("nav",{className:"navbar navbar-static-top",role:"navigation"},a.createElement("a",{href:"#",className:"sidebar-toggle","data-toggle":"offcanvas",role:"button"},a.createElement("span",{className:"sr-only"},"Toggle navigation")),a.createElement("select",{id:"platformCheck",className:"platform-checkout form-control",onChange:this.changePlatform,value:parseInt(this.state.curPlatform)},this.state.platforms.map(function(e){return a.createElement("option",{key:e.id,value:e.id},e.name)})),a.createElement("div",{className:"navbar-custom-menu"},a.createElement("ul",{className:"nav navbar-nav"},a.createElement("li",{className:"dropdown user user-menu"},a.createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown"},a.createElement("img",{src:"images/user2-160x160.jpg",className:"user-image",alt:"User Image"}),a.createElement("span",{className:"hidden-xs"},this.state.userName)),a.createElement("ul",{className:"dropdown-menu"},a.createElement("li",{className:"user-header"},a.createElement("img",{src:"images/user2-160x160.jpg",className:"img-circle",alt:"User Image"}),a.createElement("p",null,this.state.userName)),a.createElement("li",null,e),a.createElement("li",{className:"user-footer"},a.createElement("div",{className:"pull-left"},a.createElement("a",{href:"/#/market/modify-password",className:"btn btn-default btn-flat"},"修改密码")),a.createElement("div",{className:"pull-right"},a.createElement("a",{href:"javascript:void(0);",onClick:this.logoutHandle,className:"btn btn-default btn-flat"},"注销")))))))))}}));e.exports=v},function(e,t,n){"use strict";var a=n(1),r=n(11),i=n(14),o=i.Link,s=n(27);n(916);var l=(n(54),n(88)),u=r.createClass({displayName:"MenuItem",render:function(){var e=this.props.menu;if(e.hidden)return null;var t=this.props.current,n="fa "+(e.icon||"fa-dashboard");if(e.menus){var a=s("treeview",{active:t.mainMenu.id===e.id});return r.createElement("li",{className:a},r.createElement("a",{href:"javascript:void(0);"},r.createElement("i",{className:n})," ",r.createElement("span",null,e.name)," ",r.createElement("i",{className:"fa fa-angle-left pull-right"})),r.createElement("ul",{className:"treeview-menu"},e.menus.map(function(e){return e.hidden?"":r.createElement("li",{key:e.id,className:t.subMenu&&t.subMenu.id===e.id?"active":""},e.blank?r.createElement("a",{href:e.link,target:"_blank"},e.name):r.createElement(o,{to:e.to?e.to:"iframe",query:e.to?null:{link:e.link}},r.createElement("i",{className:"fa fa-circle-o"}),r.createElement("span",null,e.name)))})))}return r.createElement("li",{className:t.mainMenu.id===e.id?"active":""},r.createElement(o,{to:e.to?e.to:"iframe",query:e.to?null:{link:e.link}},r.createElement("i",{className:n})," ",r.createElement("span",null,e.name)))}}),c=r.createClass({displayName:"MainMenu",mixins:[a.connect(l,"menus")],contextTypes:{router:r.PropTypes.func},getInitialState:function(){return{menus:l.getMenus(),platform:l.getPlatform()}},componentDidMount:function(){this.unsubscribe=l.listen(function(e){var t=e.length;t&&!l.isLoaded&&(l.isLoaded=!0,$.AdminLTE.tree(".sidebar"),$.AdminLTE.layout.fix())})},render:function(){var e=l.getCurrentMenu({path:this.context.router.getCurrentPathname(),query:this.context.router.getCurrentQuery(),full:this.context.router.getCurrentPath()});return r.createElement("ul",{className:"sidebar-menu"},r.createElement("li",{className:"header"},"主菜单"),this.state.menus.map(function(t){return r.createElement(u,{menu:t,key:t.id,current:e})}))}});e.exports=c},function(e,t,n){"use strict";var a=n(11),r=n(70),i=n(596),o=n(54),s=n(2),l=n(23);n(4);n(917);var u=n(581),c=(a.createClass({displayName:"UserPanel",render:function(){return a.createElement("div",{className:"user-panel"},a.createElement("div",{className:"pull-left image"},a.createElement("img",{src:"images/user2-160x160.jpg",className:"img-circle",alt:"User Image"})),a.createElement("div",{className:"pull-left info"},a.createElement("p",null,"钱宝-阳光"),a.createElement("a",{href:"#"},a.createElement("i",{className:"fa fa-circle text-success"})," 在线")))}}),a.createClass({displayName:"SearchForm",render:function(){return a.createElement("form",{action:"#",method:"get",className:"sidebar-form"},a.createElement("div",{className:"input-group"},a.createElement("input",{type:"text",name:"q",className:"form-control",placeholder:"搜索..."}),a.createElement("span",{className:"input-group-btn"},a.createElement("button",{type:"submit",name:"search",id:"search-btn",className:"btn btn-flat"},a.createElement("i",{className:"fa fa-search"})))))}}),a.createClass({displayName:"MainSidebar",componentDidMount:function(){$(a.findDOMNode(this.refs.sidebar)).css({height:$(window).height()-50,overflow:"auto"}),$(window).resize(function(){$(a.findDOMNode(this.refs.sidebar)).css({height:$(window).height()-50,overflow:"auto"})}.bind(this)),this.unsubscribe=i.listen(function(e){e.side?$("body").removeClass("sidebar-collapse"):$("body").addClass("sidebar-collapse")});var e=l.cookie.load(s.constants.STORAGE_KEY);e&&e.platform?(o.loadMenu(e.platform),r.sideOn()):r.sideOff()},componentWillUnMount:function(){this.unsubscribe()},render:function(){return a.createElement("aside",{className:"main-sidebar"},a.createElement("section",{ref:"sidebar",className:"sidebar"},a.createElement(u,null)))}}));e.exports=c},function(e,t,n){"use strict";var a,r=n(5);a=r.createClass({displayName:"ModalPicker",getInitailState:function(){this.setState({id:null,name:""})},render:function(){return r.createElement("div",null,r.createElement("input",{className:"form-control",type:"text",required:!0,readOnly:!0,name:this.props.nameField,onClick:this.props.showModal,value:this.props.nameValue,placeholder:this.props.placeholder}),r.createElement("input",{type:"hidden",name:this.props.field,value:this.props.idValue}))}}),e.exports=a},function(e,t,n){"use strict";var a,r,i=n(5),o=(n(86),n(4));n(56);r=i.createClass({displayName:"RowInput",getInitialState:function(){return{}},render:function(){return i.createElement("div",{className:"row form-group"},i.createElement("label",{className:"col-sm-3 control-label"},"累计充值金额（分）"),i.createElement("div",{className:"col-sm-2"},i.createElement("input",{type:"number",name:"key",min:"1",required:this.props.item.required,readOnly:this.props.item.disabled,className:"form-control",value:this.props.condition.val1,onChange:this.props.onChangeData})),i.createElement("label",{className:"col-sm-3 control-label"},"送红包机会个数"),i.createElement("div",{className:"col-sm-2"},i.createElement("input",{type:"number",name:"value",min:"1",required:this.props.item.required,readOnly:this.props.item.disabled,className:"form-control",value:this.props.condition.val2,onChange:this.props.onChangeData})),1===this.props.condition.index||this.props.item.disabled?null:i.createElement("div",{className:"col-sm-2"},i.createElement("a",{className:"btn btn-sm btn-danger",onClick:this.props.onRemoveCondition},"删除")))}}),a=i.createClass({displayName:"MoreInput",getInitialState:function(){return{conditions:[]}},changeData:function(e,t){var n=o.find(this.state.conditions,"index",e.index);"key"===t.target.name?n.val1=t.target.value:"value"===t.target.name&&(n.val2=t.target.value),this.forceUpdate()},addCondition:function(){this.pushCondition(),this.forceUpdate()},removeCondition:function(e,t){0!==this.state.conditions.length&&o.pullAt(this.state.conditions,e.index-1),this.forceUpdate()},pushCondition:function(){var e=this.state.conditions.length+1;this.state.conditions.push({index:e})},getSource:function(){return 0!==this.state.conditions.length?this.state.conditions:[]},render:function(){var e=[];return this.props.conditions||(this.props.conditions=[]),this.state.conditions=this.props.conditions,0===this.state.conditions.length&&this.pushCondition(),this.state.conditions.forEach(function(t){e.push(t)}),i.createElement("div",null,i.createElement("div",null,e.map(function(e){return i.createElement(r,{condition:e,item:this.props.item,onChangeData:this.changeData.bind(null,e),onRemoveCondition:this.removeCondition.bind(null,e)})}.bind(this))),this.props.item.disabled?null:i.createElement("div",null,i.createElement("a",{className:"btn btn-sm btn-primary",onClick:this.addCondition},"新建...")))}}),e.exports=a},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function f(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:f(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(5),u=a(l),c=l.Component,d=a(n(86)),m=function(e){function t(e){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return o(t,e),r(t,{componentDidMount:{value:function(){}},render:{value:function(){return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-5"},u.createElement(d,{field:this.props.item.startNumberField,placeholder:"起",item:this.props.item})),u.createElement("div",{className:"col-sm-2"},u.createElement("label",{className:"control-label"}," 至 ")),u.createElement("div",{className:"col-sm-5"},u.createElement(d,{field:this.props.item.endNumberField,placeholder:"止",item:this.props.item})))}}}),t}(c);e.exports=m},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function d(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:d(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(5).Component,u=a(n(27));n(918);var c=function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state={number:""}}return o(t,e),r(t,{numberChanged:{value:function(e){this.setState({number:parseInt(e.target.value,10)})}},jumpTo:{value:function(){!isNaN(this.state.number)&&this.state.number>0&&this.state.number<=this.state.totalPage+1&&this.props.onLoadPage(this.state.number-1)}},render:{value:function(){if(0===this.props.totalCount)return React.createElement("nav",null);var e=parseInt(this.props.totalCount/this.props.perPage,10);this.state.totalPage=e,this.props.totalCount%this.props.perPage&&e++;var t=[],n=this.props.currentPage*this.props.perPage+1,a=(this.props.currentPage+1)*this.props.perPage;if(a>this.props.totalCount&&(a=this.props.totalCount),e>9)if(this.props.currentPage<5)for(var r=0;9>r;r++)t.push(r);else if(this.props.currentPage>e-5)for(var r=0;9>r;r++)t.push(e-9+r);else for(var r=0;9>r;r++)t.push(this.props.currentPage-4+r);else for(var r=0;e>r;r++)t.push(r);return React.createElement("nav",{className:"clearfix paginator"},isNaN(n)?"":React.createElement("div",{className:"pagination-status pull-left"},"当前显示 ",n," 到 ",a," 条记录，总共 ",this.props.totalCount," 条"),React.createElement("form",{className:"pagination pull-right",style:{width:"120px",marginLeft:"20px"}},React.createElement("div",{className:"input-group"},React.createElement("input",{className:"form-control",type:"number",min:"1",value:this.state.number,onChange:this.numberChanged.bind(this)}),React.createElement("span",{className:"input-group-btn"},React.createElement("button",{className:"btn btn-primary btn-flat",type:"button",onClick:this.jumpTo.bind(this)},"跳转")))),React.createElement("ul",{className:"pagination pull-right"},React.createElement("li",{className:u({disabled:0===this.props.currentPage}),onClick:0===this.props.currentPage?null:this.props.onLoadPage.bind(null,0)},React.createElement("a",{href:"javascript:void(0);","aria-label":"Previous"},React.createElement("i",{"aria-hidden":"true",className:"fa fa-step-backward"}))),React.createElement("li",{className:u({disabled:0===this.props.currentPage}),onClick:0===this.props.currentPage?null:this.props.onLoadPage.bind(null,this.props.currentPage-1)},React.createElement("a",{href:"javascript:void(0);","aria-label":"Previous"},React.createElement("i",{"aria-hidden":"true",className:"fa fa-backward"}))),t.map(function(e){return React.createElement("li",{className:u({active:this.props.currentPage===e}),key:e,onClick:this.props.onLoadPage.bind(null,e)},React.createElement("a",{href:"javascript:void(0);"},e+1))}.bind(this)),React.createElement("li",{className:u({disabled:this.props.currentPage===e-1}),onClick:this.props.currentPage===e-1?null:this.props.onLoadPage.bind(null,this.props.currentPage+1)},React.createElement("a",{href:"javascript:void(0);","aria-label":"Next"},React.createElement("i",{"aria-hidden":"true",className:"fa fa-forward"}))),React.createElement("li",{className:u({disabled:this.props.currentPage===e-1}),onClick:this.props.currentPage===e-1?null:this.props.onLoadPage.bind(null,e-1)},React.createElement("a",{href:"javascript:void(0);","aria-label":"Next"},React.createElement("i",{"aria-hidden":"true",className:"fa fa-step-forward"})))))}}}),t}(l);e.exports=c},function(e,t,n){"use strict";var a=n(11),r=n(580),i=n(579),o=n(582),s=n(578),l=n(575),u=n(572);n(921);var c=a.createClass({displayName:"QbaoAdminApp",render:function(){return a.createElement("div",{className:"wrapper"},a.createElement(r,null),a.createElement(o,null),a.createElement(s,null),a.createElement(i,null),a.createElement(l,null),a.createElement(u,null))}});e.exports=c},function(e,t,n){"use strict";var a=n(5),r=a.createClass({displayName:"TreeNode",getInitialState:function(){return{collapsed:!1}},handleClick:function(){this.setState({collapsed:!this.state.collapsed})},render:function(){var e,t=this.state.collapsed?"collapsed":"",n=this.props.node,i=n.id||n.typeAttrCode,o=n.name||n.typeAttrName;return n.subList&&(e=n.subList.map(function(e,t){return a.createElement("ul",{key:[i,t].join("/")},a.createElement(r,{key:i,node:e,handleChange:this.props.handleChange}))},this)),a.createElement("li",{className:t},a.createElement("span",{className:"group",onClick:this.handleClick,onTouchEnd:this.handleClick},void 0===n.subList||0===n.subList.length?"":this.state.collapsed?String.fromCharCode(43):String.fromCharCode(8722)),a.createElement("input",{type:"checkbox",checked:n.checked||!1,onChange:this.props.handleChange,"data-key":i,id:"tree-"+i}),a.createElement("label",{htmlFor:"tree-"+i},o),e)}});e.exports=r},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=n(5).Component,l=a(n(4)),u=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),r(t,{render:{value:function(){var e=this.props.item.required;return l.isFunction(e)&&(e=e(this.props.context)),React.createElement("textarea",{style:{resize:"none"},className:"form-control",rows:this.props.item.rows||4,placeholder:this.props.item.name,name:this.props.item.field,value:this.props.value,required:e,maxLength:this.props.item.maxLength,readOnly:this.props.item.readOnly||this.props.item.disabled,onChange:this.props.onChange})}}}),t}(s);e.exports=u},function(e,t,n){"use strict";var a=n(1),r=n(87),i=a.createStore({listenables:r,onUpdate:function(e){this.trigger({data:e})}});e.exports=i},function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=n(5).Component,s=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return r(t,e),a(t,{render:{value:function(){return React.createElement("input",{type:"url",className:"form-control",placeholder:this.props.item.name,name:this.props.item.field,value:this.props.value,maxLength:this.props.item.maxLength,required:this.props.item.required,readOnly:this.props.item.readOnly,onChange:this.props.onChange})}}}),t}(o);e.exports=s},function(e,t,n){"use strict";var a=n(1),r=n(9),i=a.createStore({listenables:r,onShowConfirm:function(e){this.trigger(e)},onInfo:function(e){this.trigger({type:"info",title:"请确认",message:e.message,onConfirm:e.onConfirm})},onWarning:function(e){this.trigger({type:"warning",title:"请确认",message:e.message,onConfirm:e.onConfirm})}});e.exports=i},function(e,t,n){"use strict";var a=n(1),r=n(68),i=a.createStore({listenables:r,onShow:function(){this.trigger({contentHeaderShow:!0})},onHide:function(){this.trigger({contentHeaderShow:!1})}});e.exports=i},function(e,t,n){"use strict";var a=n(1),r=n(3),i=a.createStore({listenables:r,onFlashMessage:function(e){this.trigger(e)},onSuccess:function(e){this.trigger({type:"success",title:"成功",message:e.message})},onFail:function(e){this.trigger({type:"danger",title:"失败",message:e.message})},onWarning:function(e){this.trigger({type:"warning",title:"警告",message:e.message})}});e.exports=i},function(e,t,n){"use strict";var a=n(1),r=n(69),i=a.createStore({listenables:r,onShow:function(){this.trigger({type:"el",showHeader:!0,showAdmin:!0})},onHide:function(){this.trigger({type:"el",showHeader:!1,showAdmin:!1})},onPlatform:function(){this.trigger({type:"el",showHeader:!1,showAdmin:!0})},onCheckout:function(e){this.trigger({type:"checkout",platform:e})}});e.exports=i},function(e,t,n){"use strict";var a=n(1),r=n(70),i=a.createStore({listenables:r,onSideOn:function(){this.trigger({side:!0})},onSideOff:function(){this.trigger({side:!1})}});e.exports=i},function(e,t,n){"use strict";var a=n(1),r=a.createStore({init:function(){}});e.exports=r},function(e,t,n){"use strict";function a(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}e.exports=a},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function D(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:D(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(2)),p=a(n(12)),h=a(n(7)),g=a(n(13)),v=a(n(600)),y=a(n(258)),b=a(n(9)),_=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=v.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;this.state.userName=f.util.getParam("userName"),v.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)})}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(v.getDefaultItem())}},showUpdate:{value:function(e){this.refs.dialog.update(e)}},showDelete:{value:function(e){b.warning({message:"是否删除此活动 "+e.name,onConfirm:y["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){y.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(p,{autoFilter:!0,filters:v.getDataFilter(),onFilterData:this.filterData.bind(this)}),u.createElement(h,{disableAutoLoad:!0,onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"钱宝/企业账号",field:"qbaccount"},{name:"主体类型",field:"subjecttype",value:function(e){
return 0===e.subjecttype?"个人":1===e.subjecttype?"企业":void 0}},{name:"公众号帐号",field:"pubaccount"},{name:"公众号名称",field:"pubname"},{name:"公众号类型",field:"is_sys",value:function(e){switch(e.is_sys){case 0:return"业务号";case 1:return"系统号";case 2:return"订阅号";case 3:return"服务号"}}},{name:"状态",field:"status",value:function(e){switch(e.status){case 1:return"待审核";case 2:return"审核通过";case 3:return"审核未通过"}}}],operations:[{name:"审核",icon:"info",callback:this.showUpdate.bind(this)}]}),u.createElement(g,{ref:"dialog",title:"用户账号开通审核",items:[{field:"qbaccount",name:"钱宝/企业账号",readOnly:!0},{field:"subjecttype",type:"select",name:"主体类型",readOnly:!0,options:[{name:"个人",value:"0"},{name:"企业",value:"1"}]},{field:"pubaccount",name:"公众号帐号",readOnly:!0},{field:"is_sys",type:"select",name:"公众号类型",readOnly:!0,options:[{name:"业务号",value:"0"},{name:"系统号",value:"1"},{name:"订阅号",value:"2"},{name:"服务号",value:"3"}]},{type:"select",field:"status",name:"审核状态",required:!0,options:[{name:"请选择",value:""},{name:"审核通过",value:"2"},{name:"审核未通过",value:"3"}]},{type:"textarea",field:"opinion",name:"客服备注",required:function(e){return"2"===e.status}}],onCreate:y.create.bind(this,this.state),onUpdate:y.update.bind(this,this.state)}))}}}),t}(c);e.exports=_},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(258)),o=a(n(3)),s=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDataFilter:function(){return[{field:"keyword",name:"钱宝账号/企业账号"},{field:"subjecttype",type:"select",name:"主体类型",options:[{name:"全部",value:""},{name:"个人",value:"0"},{name:"企业",value:"1"}]},{field:"status",type:"select",name:"状态",options:[{name:"待审核",value:"1"},{name:"审核通过",value:"2"},{name:"审核未通过",value:"3"}],"default":"1"}]},getDefaultItem:function(){return{city:"",district:""}},onCreate:function(e,t){$.ajax({url:s.domain.market+"/app/activity/insertOrUpdate",data:t,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){1e3===t.responseCode?(o.success({message:"添加活动成功"}),i.query(e)):(o.fail({message:t.meta.error}),i.query(e))}).fail(function(e){o.fail({message:e})})},onQuery:function(e){var t=this,n=_.pick(_.pick(e,"keyword","status"),function(e){return!_.isEmpty(e)});n.offset=e.currentPage,n.limit=e.perPage,n.cm=e.userName,$.ajax({url:s.domain.square+"/api/openregistercheck",data:n,method:"GET",dataType:"json"}).then(function(n){200===n.meta.code?t.trigger({data:{list:n.data.items.map(function(e){return Object.assign(e,{id:e.qbid})}),totalCount:n.data.count,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.meta.error})}).fail(function(e){o.fail({message:e})})},onUpdate:function(e,t){$.ajax({url:s.domain.square+"/api/openregistercheck",data:{cm:e.userName,status:t.status,opinion:t.opinion,qbid:t.qbid},method:"POST",dataType:"json"}).done(function(t){200===t.meta.code?(o.success({message:"审核成功"}),i.query(e)):o.fail({message:t.meta.error})}).fail(function(e){o.fail({message:e})})},onDelete:function(e,t){$.ajax({url:s.domain.market+"/app/activity/delete",data:{id:t.id},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"活动删除成功"}),i.query(e)):o.fail({message:t.meta.error})}).fail(function(e){o.fail({message:e})})},onActive:function(e,t){$.ajax({url:s.domain.market+"/app/activity/publish",data:{id:t.id,publish:"1"},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"活动上架成功"}),i.query(e)):o.fail({message:t.meta.error})}).fail(function(e){o.fail({message:e})})},onDeactive:function(e,t){$.ajax({url:s.domain.market+"/app/activity/publish",data:{id:t.id,publish:"0"},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"活动下架成功"}),i.query(e)):o.fail({message:t.meta.error})}).fail(function(e){o.fail({message:e})})},onGet:function(e){var t=this;$.ajax({url:s.domain.market+"/app/activity/selectById",data:{id:e.id},method:"POST",dataType:"json"}).done(function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.meta.error})}).fail(function(e){o.fail({message:e})})}})},function(e,t,n){"use strict";var a=n(11),r=n(1),i=(n(2),n(7)),o=n(602),s=n(259),l=n(9),u=a.createClass({displayName:"EditDialog",mixins:[a.addons.LinkedStateMixin],getInitialState:function(){return o.getDefaultItem()},handleConfirm:function(e){e.preventDefault(),"create"===this.state.mode?this.props.onCreate(this.state):this.props.onUpdate(this.state),$(a.findDOMNode(this.refs["edit-dialog"])).modal("hide")},create:function(){this.setState($.extend(o.getDefaultItem(),{mode:"create"}),function(){$(a.findDOMNode(this.refs["edit-dialog"])).modal("show")})},update:function(e){this.setState($.extend(e,{mode:"update"}),function(){$(a.findDOMNode(this.refs["edit-dialog"])).modal("show")}.bind(this))},queryData:function(e){gActions.query({data:e.data,filter:this.state.filter})},render:function(){return a.createElement("div",{className:"modal fade",ref:"edit-dialog"},a.createElement("div",{className:"modal-dialog modal-lg"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},a.createElement("span",null,"×")),a.createElement("h4",{className:"modal-title"},"举报信息详情")),a.createElement("div",{className:"modal-header with-border"},a.createElement("table",{className:"table table-bordered table-hover text-center"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"项目"),a.createElement("th",null,"原登记信息"),a.createElement("th",null,"申请变更信息"))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,"功能描述"),a.createElement("td",null,"AAAAAAA"),a.createElement("td",null,"BBBBBBB")),a.createElement("tr",null,a.createElement("td",null,"公众号头像"),a.createElement("td",null,"AAAAAAA"),a.createElement("td",null,"BBBBBBB"))))),a.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"审核结果"),a.createElement("div",{className:"col-sm-10"},a.createElement("select",{className:"form-control",valueLink:this.linkState("result")},a.createElement("option",{value:"0"},"审核通过"),a.createElement("option",{value:"1"},"审核未通过")))),"1"===this.state.result?a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"审核意见"),a.createElement("div",{className:"col-sm-10"},a.createElement("textarea",{className:"form-control",required:!0,valueLink:this.linkState("reason")}))):""),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),a.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}),c=a.createClass({displayName:"DataFilter",mixins:[a.addons.LinkedStateMixin],getInitialState:function(){return o.getFilter()},render:function(){return a.createElement("div",{className:"data-filter"},a.createElement("div",{className:"box-header"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"审核状态"),a.createElement("select",{className:"form-control",valueLink:this.linkState("type")},a.createElement("option",{value:"0"},"全部"),a.createElement("option",{value:"1"},"待审核"),a.createElement("option",{value:"2"},"审核通过"),a.createElement("option",{value:"3"},"审核未通过"))),a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"举报类型"),a.createElement("select",{className:"form-control",valueLink:this.linkState("type")},a.createElement("option",{value:"0"},"全部"),a.createElement("option",{value:"1"},"评论举报"),a.createElement("option",{value:"2"},"推文举报"))),a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"公众账号或ID"),a.createElement("input",{className:"form-control",type:"text",valueLink:this.linkState("id"),placeholder:"公众账号或ID"})),a.createElement("div",{className:"col-sm-3"},a.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询"))))}}),d=a.createClass({displayName:"CustomerReport",mixins:[r.connect(o,"data")],getInitialState:function(){return{data:o.getDefaultData()}},showCreate:function(){this.refs.dialog.create()},showUpdate:function(e){this.refs.dialog.update(e)},showDelete:function(e){l.warning({message:"是否删除首推商品 "+e.proName,onConfirm:this.deleteData.bind(null,e)})},createData:function(e){s.create({item:e,filter:this.state.filter,data:this.state.data})},queryData:function(e){s.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},updateData:function(e){s.update({item:e,filter:this.state.filter,data:this.state.data})},deleteData:function(e){s["delete"]({item:e,filter:this.state.filter,data:this.state.data})},render:function(){return a.createElement("div",{className:"box"},a.createElement(c,{onFilterData:this.filterData,onCreateData:this.showCreate}),a.createElement(i,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"公众号名称",field:"goodsId"},{name:"举报类型",field:"proName"},{name:"举报内容",field:"date"},{name:"所属推文",field:"ticket"},{name:"举报原因",field:"time"},{name:"举报描述",field:"description"},{name:"处理时间",field:"handle"},{name:"状态",field:"status"}],operations:[{name:"详情",icon:"info",callback:this.showUpdate}]}),a.createElement(u,{ref:"dialog",item:this.state.item,onCreate:this.createData,onUpdate:this.updateData}))}});e.exports=d},function(e,t,n){"use strict";var a=n(1),r=n(259),i=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDefaultItem:function(){return{categoryId:0,title:"",folderUrl:"",author:"",outsideUrl:"",txt:""}},getFilter:function(){return{title:"",categoryId:0}},onQueryCompleted:function(e){this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function w(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:w(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(604)),v=a(n(260)),y=a(n(9)),b=a(n(3)),D=a(n(2)),E=a(n(26)),M=function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=g.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)}),E.loadState(this)}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){v.get(e)}},showView:{value:function(e){this.refs.dialog.view(e)}},showDelete:{value:function(e){y.warning({message:"是否删除奖励发放 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){E.saveState(this),this.context.router.transitionTo("/market/award-history",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return _.isEmpty(e.beginDate)?(b.fail({message:"请输入起止时间"}),!1):!0}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onFilterData:this.filterData.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"群ID",field:"groupid"},{name:"群名称",field:"groupname"},{name:"群主",field:"groupowner"},{name:"群成员",field:"currentmember"},{name:"群位置",field:"location"},{name:"群大小",field:"maxmembers"},{name:"创建时间",field:"createdtime"},{name:"群活跃值",field:"score"}],operations:[{name:"升级",icon:"success",disabled:function(e){return!0},callback:v.active.bind(this,this.state)},{name:"解散",icon:"warning",disabled:function(e){return!0},callback:v.deactive.bind(this,this.state)}]}),u.createElement(h,{ref:"dialog",title:"互动活动",items:[{field:"name",name:"活动标题",maxLength:15,required:!0},{type:"select",field:"type",name:"活动类型",required:!0},{type:"date",startField:"beginDate",endField:"endDate",format:"YYYY-MM-DD HH:mm:ss",name:"起止时间",required:!0},{type:"textarea",maxLength:500,field:"openId",name:"活动规则",required:!0},{type:"image",field:"imgUrl",name:"图片信息",urlField:"imgUrl",uploadUrl:D.domain.events+"/static/text/upload.html",required:!0}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=M,M.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(260)),o=a(n(3)),s=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:20,currentPage:0}},getDataFilter:function(){return[{field:"groupid",name:"群ID或名称"},{type:"date",startField:"starttime",endField:"endtime",name:"创建时间",format:"YYYY-MM-DD"}]},getDefaultItem:function(){return{name:"",openId:"",openAppId:"",qbCur:"",award:"",beginDate:"",endDate:"",appId:"",isRepeat:0}},onCreate:function(e,t){var n=_.pick(t,["name","openId","openAppId","qbCur","award","beginDate","endDate","appId","isRepeat"]);$.ajax({url:s.domain.market+"/app/coupon/insertOrUpdate",data:n,method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"添加奖励发放配置成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))}).fail(function(e){o.fail({message:e})})},onQuery:function(e){var t=this,n=_.pick(_.pick(e,["groupid","starttime","endtime"]),function(e){return!_.isEmpty(e)});n.page=e.currentPage,n.limit=e.perPage,$.ajax({url:s.domain.square+"/api/groupsearch",data:n,method:"POST",dataType:"json"}).then(function(n){200===n.meta.code?t.trigger({data:{list:n.data.items,totalCount:n.data.totalcount,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.errorMsg})}).fail(function(e){o.fail({message:e})})},onUpdate:function(e,t){var n=_.pick(t,["id","name","openId","openAppId","qbCur","award","beginDate","endDate","appId","isRepeat"]);$.ajax({url:s.domain.market+"/app/coupon/insertOrUpdate",data:n,method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"修改奖励发放配置成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))}).fail(function(e){o.fail({message:e})})},onDelete:function(e,t){$.ajax({url:s.domain.market+"/app/coupon/delete",data:{id:t.id},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"删除奖励发放配置成功"}),i.query(e)):o.fail({message:t.errorMsg})}).fail(function(e){o.fail({message:e})})},onActive:function(e,t){$.ajax({url:s.domain.market+"/app/coupon/publish",data:{id:t.id,publish:1},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"奖励配置上架成功"}),i.query(e)):o.fail({message:t.errorMsg})}).fail(function(e){o.fail({message:e})})},onDeactive:function(e,t){$.ajax({url:s.domain.market+"/app/coupon/publish",data:{id:t.id,publish:0},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"奖励配置下架成功"}),i.query(e)):o.fail({message:t.errorMsg})}).fail(function(e){o.fail({message:e})})},onGet:function(e){var t=this;$.ajax({url:s.domain.market+"/app/coupon/selectById",data:{id:e.id},method:"POST",dataType:"json"}).done(function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})}).fail(function(e){o.fail({message:e})})}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=n(11),i=n(1),o=a(n(14)),s=(n(2),n(7)),l=n(606),u=n(261),c=n(9),d=r.createClass({displayName:"EditDialog",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return l.getDefaultItem()},handleConfirm:function(e){e.preventDefault(),"create"===this.state.mode?this.props.onCreate(this.state):this.props.onUpdate(this.state),$(r.findDOMNode(this.refs["edit-dialog"])).modal("hide")},create:function(){this.setState($.extend(l.getDefaultItem(),{mode:"create"}),function(){$(r.findDOMNode(this.refs["edit-dialog"])).modal("show")})},update:function(e){this.setState($.extend(e,{mode:"update"}),function(){$(r.findDOMNode(this.refs["edit-dialog"])).modal("show")}.bind(this))},queryData:function(e){gActions.query({data:e.data,filter:this.state.filter})},render:function(){var e="未知",t="未知",n="未知";switch(this.state.ctype){case 101:e="头像",t=this.state.pubavatar_oral,n=this.state.pubavatar;break;case 102:e="简介",t=this.state.desc_oral,n=this.state.desc;break;case 103:e="运营邮箱",t=this.state.runemail_oral,n=this.state.runemail}return r.createElement("div",{className:"modal fade",ref:"edit-dialog"},r.createElement("div",{className:"modal-dialog modal-lg"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},r.createElement("span",null,"×")),r.createElement("h4",{className:"modal-title"},"变更登记表 | ",this.state.id)),r.createElement("div",{className:"modal-header with-border"},r.createElement("table",{className:"table table-bordered table-hover text-center"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"项目"),r.createElement("th",null,"原登记信息"),r.createElement("th",null,"申请变更信息"))),r.createElement("tbody",null,101===this.state.ctype?r.createElement("tr",null,r.createElement("td",null,e),r.createElement("td",null,r.createElement("a",{href:t,target:"_blank"},r.createElement("img",{className:"preview",src:t}))),r.createElement("td",null,r.createElement("a",{href:n,target:"_blank"},r.createElement("img",{className:"preview",src:n})))):r.createElement("tr",null,r.createElement("td",null,e),r.createElement("td",null,t),r.createElement("td",null,n))))),r.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"审核结果"),r.createElement("div",{className:"col-sm-10"},r.createElement("select",{className:"form-control",disabled:this.state.canUpdate?!1:!0,valueLink:this.linkState("status")},r.createElement("option",{value:"2"},"审核通过"),r.createElement("option",{value:"3"},"审核未通过")))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"审核意见"),r.createElement("div",{className:"col-sm-10"},r.createElement("textarea",{className:"form-control",disabled:this.state.canUpdate?!1:!0,required:"0"===this.state.passornot,valueLink:this.linkState("opinion")})))),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),this.state.canUpdate?r.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}):null)))))}}),m=r.createClass({displayName:"DataFilter",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return l.getFilter()},render:function(){return r.createElement("div",{className:"data-filter"},r.createElement("div",{className:"box-header"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",null,"审核状态"),r.createElement("select",{className:"form-control",valueLink:this.linkState("status")},r.createElement("option",{value:"0"},"全部"),r.createElement("option",{value:"1"},"待审核"),r.createElement("option",{value:"2"},"审核通过"),r.createElement("option",{value:"3"},"审核未通过"))),r.createElement("div",{className:"col-sm-3"},r.createElement("label",null,"公众账号或ID"),r.createElement("input",{className:"form-control",type:"text",valueLink:this.linkState("keyword"),placeholder:"公众账号或ID"})),r.createElement("div",{className:"col-sm-offset-3 col-sm-3"},r.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询"))))}}),f=r.createClass({displayName:"InfoChange",mixins:[i.connect(l,"data"),o.State],getInitialState:function(){return{data:l.getDefaultData(),filter:l.getFilter()}},componentWillMount:function(){this.state.userName=this.getQuery().userName},showCreate:function(){this.refs.dialog.create()},showUpdate:function(e){1===e.status?this.refs.dialog.update(Object.assign({},e,{status:2,canUpdate:!0})):this.refs.dialog.update(Object.assign({},e,{canUpdate:!1}))},showDelete:function(e){c.warning({message:"是否删除首推商品 "+e.proName,onConfirm:this.deleteData.bind(null,e)})},createData:function(e){u.create({item:e,filter:this.state.filter,data:this.state.data,userName:this.state.userName})},queryData:function(e){u.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter,userName:this.state.userName})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},updateData:function(e){u.update({item:e,filter:this.state.filter,data:this.state.data,userName:this.state.userName})},deleteData:function(e){u["delete"]({item:e,filter:this.state.filter,data:this.state.data,userName:this.state.userName})},render:function(){return r.createElement("div",{className:"box"},r.createElement(m,{onFilterData:this.filterData,onCreateData:this.showCreate}),r.createElement(s,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"公众号ID",field:"qbid"},{name:"公众号账号",field:"pubaccount"},{name:"申请变更时间",field:"time"},{name:"审核处理时间",field:"ctime"},{name:"状态",field:"status",value:function(e){switch(e.status){case 1:return"待审核";case 2:return"审核通过";case 3:return"审核未通过"}}}],operations:[{name:"详情",icon:"info",callback:this.showUpdate}]}),r.createElement(d,{ref:"dialog",item:this.state.item,onCreate:this.createData,onUpdate:this.updateData}))}});e.exports=f},function(e,t,n){"use strict";var a=n(1),r=n(261),i=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDefaultItem:function(){return{passornot:"1",opinion:""}},getFilter:function(){return{keyword:"",status:0}},onQueryCompleted:function(e){e.list.forEach(function(e){e.id=e.uid}),this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},i=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function k(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:k(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=n(11),c=a(u),d=u.Component,m=n(1),f=(a(m),m.ListenerMethods),p=a(n(6)),h=a(n(12)),g=a(n(7)),v=a(n(13)),y=a(n(608)),b=a(n(262)),D=a(n(9)),E=a(n(3)),M=a(n(2)),w=a(n(26)),N=function(e){function t(e,n){l(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=y.getInitialState()}return s(t,e),i(t,{componentDidMount:{value:function(){var e=this;y.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item),t.types&&e.setState({types:t.types.map(function(e){return e.value=e.id,e})})}),b.queryType(),w.loadState(this)}},componentWillUnmount:{value:function(){f.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){var e=this;this.setState({mode:"create"},function(){e.refs.dialog.create(Object.assign({},y.getDefaultItem(),{activeTypeId:e.state.types[0].value}))})}},showUpdate:{value:function(e){var t=this;this.setState({mode:"update"},function(){t.refs.dialog.update(e)})}},showView:{value:function(e){this.refs.dialog.show(e)}},showDelete:{value:function(e){D.warning({message:"是否删除奖励发放 "+e.name,onConfirm:b["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){w.saveState(this),this.context.router.transitionTo("/market/award-history",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){b.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return _.isEmpty(e.startTime)?(E.fail({message:"请输入活动起止时间"}),!1):_.isEmpty(e.uploadStartTime)?(E.fail({message:"请输入资料上传时间"}),!1):p(e.startTime)>p(e.uploadStartTime)?(E.fail({message:"资料上传时间早于活动开始时间"}),!1):p(e.uploadEndTime)>p(e.endTime)?(E.fail({message:"资料上传时间晚于活动结束时间"}),!1):_.isEmpty(e.infoDesc)?(E.fail({message:"活动详情不可为空"}),!1):!0}},render:{value:function(){var e=y.getDataFilter();return e.push({type:"select",field:"activeTypeId",name:"活动类型",options:[{name:"所有活动",value:""}].concat(r(this.state.types))}),c.createElement("div",{className:"box"},c.createElement(h,{filters:e,onFilterData:this.filterData.bind(this),onCreateData:this.showCreate.bind(this)}),c.createElement(g,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"活动ID",field:"id"},{name:"活动类型",field:"activeTypeName"},{name:"活动标题",field:"title"},{name:"活动图片",field:"picUrl",value:function(e){return c.createElement("img",{className:"preview",src:e.picUrl})}},{name:"开始时间",field:"startTime"},{name:"结束时间",field:"endTime"},{name:"状态",field:"state",value:function(e){switch(e.state){case 0:return"待上架";case 1:return"已上架";case 2:return"已下架"}}}],operations:[{name:"上架",icon:"success",disabled:function(e){return 1===e.state},callback:b.active.bind(this,this.state)},{name:"下架",icon:"warning",disabled:function(e){return 1!==e.state},callback:b.deactive.bind(this,this.state)},{name:"编辑",icon:"info",callback:this.showUpdate.bind(this),disabled:function(e){return 1===e.state}},{name:"查看",icon:"default",callback:this.showView.bind(this)}]}),c.createElement(v,{ref:"dialog",title:"互动活动",items:[{field:"title",name:"活动标题",maxLength:30,required:!0},{type:"select",field:"activeTypeId",name:"活动类型",options:this.state.types,required:!0,disabled:"update"===this.state.mode},{type:"date",startField:"startTime",endField:"endTime",format:"YYYY-MM-DD HH:mm:ss",name:"活动起止时间",timePicker:!0,required:!0},{type:"date",startField:"uploadStartTime",endField:"uploadEndTime",format:"YYYY-MM-DD HH:mm:ss",name:"资料上传时间",timePicker:!0,required:!0},{type:"textarea",maxLength:500,field:"rule",name:"活动规则",required:!0},{type:"rich",field:"infoDesc",name:"活动详情",upImgUrl:M.domain.events+"/static/text/uploadRichJson.html"},{type:"image",field:"picUrl",name:"图片信息",urlField:"picUrl",uploadUrl:M.domain.events+"/static/text/uploadJson.html",required:!0}],onCheck:this.checkInput.bind(this),onCreate:b.create.bind(this,this.state),onUpdate:b.update.bind(this,this.state)}))}}}),t}(d);e.exports=N,N.contextTypes={router:c.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(262)),o=a(n(3)),s=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:20,currentPage:0,types:[]}},getDataFilter:function(){return[{field:"id",name:"活动ID"},{type:"select",field:"searchWebState",name:"活动状态",options:[{name:"全部活动",value:""},{name:"待发布",value:"0"},{name:"进行中",value:"1"},{name:"已过期",value:"2"},{name:"已下架",value:"3"}]},{type:"date",startField:"startTime",endField:"endTime",name:"起止时间",format:"YYYY-MM-DD HH:mm:ss",timePicker:!0},{field:"title",name:"活动标题"}]},getDefaultItem:function(){return{title:"",activeTypeId:"",rule:"",startTime:"",endTime:"",uploadStartTime:"",uploadEndTime:"",infoDesc:"",picUrl:""}},onCreate:function(e,t){var n=_.pick(t,["title","activeTypeId","rule","startTime","endTime","uploadStartTime","uploadEndTime","infoDesc","picUrl"]);$.ajax({url:s.domain.events+"/interActiveInfo/addInfo.html",data:n,method:"POST",dataType:"json"}).done(function(t){t.success?(o.success({message:"添加互动活动成功"}),i.query(e)):(o.fail({message:t.message}),i.query(e))}).fail(function(e){o.fail({message:e})})},onQuery:function(e){var t=this,n=_.pick(_.pick(e,["id","title","searchWebState","startTime","endTime","activeTypeId"]),function(e){return!_.isEmpty(e)});n.page=e.currentPage+1,n.pageSize=e.perPage,$.ajax({url:s.domain.events+"/interActiveInfo/listInfo.html",data:n,method:"POST",dataType:"json"}).then(function(n){n.success?t.trigger({data:{list:n.data.rows,totalCount:n.data.total,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.message})}).fail(function(e){o.fail({message:e})})},onQueryType:function(e){var t=this;$.ajax({url:s.domain.events+"/interActiveType/listValidType.html",method:"POST",dataType:"json"}).then(function(e){e.success?t.trigger({types:e.data}):o.fail({message:e.message})}).fail(function(e){o.fail({message:e})})},onUpdate:function(e,t){var n=_.pick(t,["id","title","activeTypeId","rule","startTime","endTime","uploadStartTime","uploadEndTime","infoDesc","picUrl"]);$.ajax({url:s.domain.events+"/interActiveInfo/modifyInfo.html",data:n,method:"POST",dataType:"json"}).done(function(t){t.success?(o.success({message:"修改互动活动成功"}),i.query(e)):(o.fail({message:t.message}),i.query(e))}).fail(function(e){o.fail({message:e})})},onDelete:function(e,t){$.ajax({url:s.domain.market+"/app/coupon/delete",data:{id:t.id},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"删除奖励发放配置成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onActive:function(e,t){$.ajax({url:s.domain.events+"/interActiveInfo/publishInfo.html",data:{infoId:t.id,state:1},method:"POST",dataType:"json"}).done(function(t){t.success?(o.success({message:"互动活动上架成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onDeactive:function(e,t){$.ajax({url:s.domain.events+"/interActiveInfo/publishInfo.html",data:{infoId:t.id,state:2},method:"POST",dataType:"json"}).done(function(t){t.success?(o.success({message:"互动活动下架成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onGet:function(e){var t=this;$.ajax({url:s.domain.market+"/app/coupon/selectById",data:{id:e.id},method:"POST",dataType:"json"}).done(function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.message})}).fail(function(e){o.fail({message:e})})}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function w(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);
if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:w(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(4)),p=a(n(12)),h=a(n(7)),g=a(n(13)),v=a(n(610)),y=a(n(263)),b=a(n(9)),_=a(n(3)),D=a(n(2)),E=a(n(26)),M=(a(n(598)),function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=v.getInitialState(),this.state.filters=v.getDataFilter(),this.state.percentage=""}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;v.listen(function(t){if(t.data&&e.setState(t.data),t.item&&(4!=t.item.state&&(t.item.state=3),e.refs.dialog.update(t.item)),t.view&&e.refs.dialog.show(t.view),t.modify&&e.refs.dialog.update(t.modify),t.types){var n=t.types.map(function(e){return e.value=e.id,e});e.setState({types:n})}}),y.queryType(),E.loadState(this),this.overlay=$(this.refs.overlay.getDOMNode()).hide()}},componentWillUnmount:{value:function(){m.stopListeningToAll(),clearTimeout(this.checkTimer)}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(v.getDefaultItem())}},showUpdate:{value:function(e){y.get(e)}},showView:{value:function(e){y.view(e)}},showModify:{value:function(e){y.modify(e)}},showExport:{value:function(e){this.setState(e,function(){var e=this,t=f.pick(f.pick(this.state,["state","searchStartTime","searchEndTime","qbUserName","activeInfoId"]),function(e){return!f.isEmpty(e)});this.queryData({currentPage:0}),this.overlay.show(),$.ajax({url:D.domain.events+"/interActiveUser/export.html",data:t,method:"POST",dataType:"json"}).done(function(t){t.success?!function(){var n=function(){$.ajax({url:D.domain.events+"/interActiveUser/checkExport.html",data:{fileName:t.data},method:"POST",dataType:"json"}).done(function(a){a.success?a.data.success?(e.overlay.hide(),window.open(D.domain.events+"/export/"+t.data)):(e.setState({percentage:a.data.speed}),e.checkTimer=setTimeout(n,5e3)):(e.overlay.hide(),_.fail({message:"导出数据失败"}))}).fail(function(t){e.overlay.hide(),_.fail({message:"导出数据失败"})})};n()}():(e.overlay.hide(),_.fail({message:"导出数据失败"}))}).fail(function(t){e.overlay.hide(),_.fail({message:"导出数据失败"})})}.bind(this))}},showDelete:{value:function(e){b.warning({message:"是否删除奖励发放 "+e.name,onConfirm:y["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){E.saveState(this),this.context.router.transitionTo("/market/award-history",{},{id:e.id})}},showGroup:{value:function(e){this.refs["group-dialog"].create({items:e})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){y.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return f.isEmpty(e.beginDate)?(_.fail({message:"请输入起止时间"}),!1):!0}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(p,{filters:this.state.filters,onFilterData:this.filterData.bind(this),createText:"批量导出",onCreateData:this.showExport.bind(this)}),u.createElement(h,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"序号",field:"id"},{name:"类型",field:"name",value:function(e){return e.typeInfo.name}},{name:"标题",field:"title",value:function(e){return e.activeInfo.title}},{name:"钱宝账号",field:"account",value:function(e){return e.activeUser.qbUserName}},{name:"资料上传时间",field:"createTime",value:function(e){return e.activeUser.createTime}},{name:"开始时间",field:"startTime",value:function(e){return e.activeInfo.startTime}},{name:"结束时间",field:"endTime",value:function(e){return e.activeInfo.endTime}},{name:"审核人",field:"auditUser",value:function(e){return 2===e.activeUser.state?e.activeUser.lockUser:e.activeUser.auditUser}},{name:"状态",field:"state",value:function(e){switch(e.activeUser.state){case 1:return"待审核";case 2:return"审核中";case 3:return"已通过";case 4:return"未通过"}}}],operations:[{name:"查看",icon:"primary",callback:this.showView.bind(this)},{name:"审核",icon:"info",disabled:function(e){return 1!==e.activeUser.state&&2!==e.activeUser.state},callback:this.showUpdate.bind(this)},{name:"修改",icon:"default",disabled:function(e){return 1===e.activeUser.state||2===e.activeUser.state},callback:this.showModify.bind(this)}],groupOperations:[{name:"审核通过",icon:"primary",callback:this.showGroup.bind(this)}]}),u.createElement(g,{ref:"dialog",title:"信息审核",items:[{field:"qbUserName",name:"钱宝账号",readOnly:!0},{field:"createTime",name:"提交时间",readOnly:!0},{type:"table",field:"list",dataMap:[{field:"typeExtendName",name:"信息类别"},{field:"dataValue",name:"信息内容",value:function(e){if(0===e.typeExtendId){var t=e.dataValue.split(";");return u.createElement("div",null,t.map(function(e,t){return u.createElement("a",{key:t,href:e,target:"_blank",style:{display:"block"}},u.createElement("img",{style:{maxWidth:"500px"},src:e}))}))}return e.dataValue}}]},{type:"select",field:"state",name:"审核结果",options:[{name:"通过",value:"3"},{name:"不通过",value:"4"}]},{field:"auditReason",required:!0,name:"不通过原因",hide:function(e){return 4!=e.state}},{field:"remark",name:"备注信息",maxLength:30}],onCreate:y.create.bind(this,this.state),onUpdate:y.update.bind(this,this.state)}),u.createElement(g,{ref:"group-dialog",title:"批量审核",items:[{field:"remark",name:"备注信息",maxLength:30}],onCreate:y.groupApprove.bind(this,this.state)}),u.createElement("div",{ref:"overlay",className:"overlay"},u.createElement("i",{style:{position:"fixed"},className:"fa fa-refresh fa-spin"}),u.createElement("div",{style:{position:"fixed",top:"50%",left:"50%",marginLeft:"-30px",marginTop:"30px",fontSize:"20px"}},this.state.percentage)))}}}),t}(c));e.exports=M,M.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(263)),o=a(n(3)),s=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:50,currentPage:0}},getDataFilter:function(){return[{name:"活动ID",field:"activeInfoId"},{type:"date",startField:"searchStartTime",endField:"searchEndTime",name:"提交时间",format:"YYYY-MM-DD HH:mm:ss",timePicker:!0},{type:"select",field:"state",name:"处理状态",options:[{name:"全部",value:""},{name:"待审核",value:"1"},{name:"审核中",value:"2"},{name:"已通过",value:"3"},{name:"未通过",value:"4"}]},{name:"钱宝账号",field:"qbUserName"}]},getDefaultItem:function(){return{name:"",openId:"",openAppId:"",qbCur:"",award:"",beginDate:"",endDate:"",appId:"",isRepeat:0}},onCreate:function(e,t){var n=_.pick(t,["name","openId","openAppId","qbCur","award","beginDate","endDate","appId","isRepeat"]);$.ajax({url:s.domain.market+"/app/coupon/insertOrUpdate",data:n,method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"添加奖励发放配置成功"}),i.query(e)):(o.fail({message:t.message}),i.query(e))}).fail(function(e){o.fail({message:e})})},onQuery:function(e){var t=this,n=_.pick(_.pick(e,["state","searchStartTime","searchEndTime","activeTypeId","activeInfoId","qbUserName"]),function(e){return!_.isEmpty(e)});n.page=e.currentPage+1,n.pageSize=e.perPage,$.ajax({url:s.domain.events+"/interActiveUser/listUserInfo.html",data:n,method:"POST",dataType:"json"}).then(function(n){n.success?t.trigger({data:{list:n.data.rows,totalCount:n.data.total,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.message})}).fail(function(e){o.fail({message:e})})},onQueryType:function(e){var t=this;$.ajax({url:s.domain.events+"/interActiveType/listValidType.html",method:"POST",dataType:"json"}).then(function(e){e.success?t.trigger({types:e.data}):o.fail({message:e.message})}).fail(function(e){o.fail({message:e})})},onUpdate:function(e,t){var n=_.pick(t,["state","auditReason","remark"]);n.userInfoId=t.id,$.ajax({url:s.domain.events+"/interActiveUser/auditUserInfo.html",data:n,method:"POST",dataType:"json"}).done(function(t){t.success?(o.success({message:"审核成功"}),i.query(e)):(o.fail({message:t.message}),i.query(e))}).fail(function(e){o.fail({message:e})})},onDelete:function(e,t){$.ajax({url:s.domain.market+"/app/coupon/delete",data:{id:t.id},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"删除奖励发放配置成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onActive:function(e,t){$.ajax({url:s.domain.market+"/app/coupon/publish",data:{id:t.id,publish:1},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"奖励配置上架成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onDeactive:function(e,t){$.ajax({url:s.domain.market+"/app/coupon/publish",data:{id:t.id,publish:0},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"奖励配置下架成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onGet:function(e){var t=this;$.ajax({url:s.domain.events+"/interActiveUser/intoAuditUserInfo.html",data:{userInfoId:e.id},method:"POST",dataType:"json"}).done(function(e){if(e.success){var n=e.data.activeUser;n.list={list:e.data.userDataList},t.trigger({item:n})}else o.fail({message:e.message})}).fail(function(e){o.fail({message:e})})},onView:function(e){var t=this;$.ajax({url:s.domain.events+"/interActiveUser/intoModifyUserInfo.html",data:{userInfoId:e.id},method:"POST",dataType:"json"}).done(function(e){if(e.success){var n=e.data.activeUser;n.list={list:e.data.userDataList},t.trigger({view:n})}else o.fail({message:e.message})}).fail(function(e){o.fail({message:e})})},onModify:function(e){var t=this;$.ajax({url:s.domain.events+"/interActiveUser/intoModifyUserInfo.html",data:{userInfoId:e.id},method:"POST",dataType:"json"}).done(function(e){if(e.success){var n=e.data.activeUser;n.list={list:e.data.userDataList},t.trigger({modify:n})}else o.fail({message:e.message})}).fail(function(e){o.fail({message:e})})},onGroupApprove:function(e,t){$.ajax({url:s.domain.events+"/interActiveUser/batchAudit.html",data:{state:3,remark:t.remark||"",id:t.items.map(function(e){return e.id}).join("|")},method:"POST",dataType:"json"}).done(function(t){t.success?(o.success({message:"审核成功"}),i.query(e)):(o.fail({message:t.message}),i.query(e))}).fail(function(e){o.fail({message:e})})}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function M(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:M(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=(a(n(179)),a(n(4))),p=a(n(12)),h=a(n(7)),g=a(n(13)),v=a(n(612)),y=a(n(264)),b=a(n(9)),_=a(n(3)),D=(a(n(2)),a(n(26))),E=function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=v.getInitialState()}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;v.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item)}),D.loadState(this)}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},onDataChange:{value:function(e){var t=this;e.item&&this.setState({currentItem:e.item},function(){t.refs.dialog.update(e.item)})}},showCreate:{value:function(){this.refs.dialog.create(Object.assign({},v.getDefaultItem()))}},showUpdate:{value:function(e){""===e.extendJson&&(e.extendJson="[]"),e.requires={list:JSON.parse(e.extendJson)},this.refs.dialog.update(e)}},showDelete:{value:function(e){b.warning({message:"是否删除奖励发放 "+e.name,onConfirm:y["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){D.saveState(this),this.context.router.transitionTo("/market/award-history",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){y.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return 0===e.requires.list.length&&0==e.allowUploadPicState?(_.fail({message:"必填项为空时，上传图片不可为空"}),!1):(e.extendJson=JSON.stringify(e.requires.list),!0)}},render:{value:function(){var e=this;return u.createElement("div",{className:"box"},u.createElement(p,{filters:v.getDataFilter(),onCreateData:this.showCreate.bind(this)}),u.createElement(h,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"ID",field:"id"},{name:"类型名称",field:"name"},{name:"上传次数",field:"uploadNums"},{name:"必填信息字段",field:"extendJson",value:function(e){return f.isEmpty(e.extendJson)?void 0:JSON.parse(e.extendJson).reduce(function(e,t,n){return e+t.name+"; "},"")}},{name:"上传图片",field:"allowUploadPicState",value:function(e){return 0==e.allowUploadPicState?"不允许":"允许"}},{name:"最大上传个数",field:"uploadPicNums"},{name:"截图信息",field:"uploadPicTips"}],operations:[{name:"编辑",icon:"info",callback:this.showUpdate.bind(this)},{name:"删除",icon:"danger",callback:this.showDelete.bind(this)}]}),u.createElement(g,{ref:"dialog",title:"互动活动类型",items:[{field:"name",name:"类型名称",maxLength:30,required:!0},{type:"number",field:"uploadNums",name:"资料上传次数上限",min:1,max:99,required:!0},{type:"select",options:[{name:"是",value:1},{name:"否",value:0}],field:"allowUploadPicState",name:"是否上传图片"},{type:"number",field:"uploadPicNums",name:"单次图片上传上限",min:1,max:99,required:!0,hide:function(e){return 0==e.allowUploadPicState}},{type:"textarea",field:"uploadPicTips",name:"图片提示文字",maxLength:200,required:!0,hide:function(e){return 0==e.allowUploadPicState}},{type:"select",options:[{name:"宝券",value:"1"},{name:"宝币",value:"0"}],field:"rewardType",name:"奖励类型"},{type:"number",field:"rewardNum",min:"0",required:!0,name:"奖励数额"},{type:"table",field:"requires",dataMap:[{name:"必填项",field:"name",value:function(t){return u.createElement("input",{className:"form-control",type:"text",required:!0,maxLength:20,value:t.name,onChange:function(n){t.name=n.target.value,e.forceUpdate()}})}},{name:"唯一性校验",field:"isRepeatState",value:function(t){return u.createElement("select",{className:"form-control",value:t.isRepeatState,onChange:function(n){t.isRepeatState=n.target.value,e.forceUpdate()}},u.createElement("option",{value:"1"},"是"),u.createElement("option",{value:"0"},"否"))}}],operations:[{name:"删除",icon:"danger",callback:function(t,n){e.refs.dialog.changeState({field:"requires",callback:function(e){return e.list=e.list.filter(function(e,t){return n!==t}),e}})}}]}],customButton:"添加必填项",customCallback:function(){e.refs.dialog.changeState({field:"requires",callback:function(e){return e.list.push({name:"必填项",isRepeatState:0}),e}}),e.forceUpdate()},onCheck:this.checkInput.bind(this),onCreate:y.create.bind(this,this.state),onUpdate:y.update.bind(this,this.state)}))}}}),t}(c);e.exports=E,E.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(264)),o=a(n(3)),s=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:20,currentPage:0}},getDataFilter:function(){return[]},getDefaultItem:function(){return{name:"",allowUploadPicState:0,uploadPicNums:1,uploadPicTips:"",uploadNums:1,rewardType:0,rewardNum:0,extendJson:"",requires:{list:[]}}},onCreate:function(e,t){var n=_.pick(t,["name","allowUploadPicState","uploadPicNums","uploadPicTips","uploadNums","rewardType","rewardNum","extendJson"]);$.ajax({url:s.domain.events+"/interActiveType/addType.html",data:n,method:"POST",dataType:"json"}).done(function(t){t.success?(o.success({message:"添加互动活动类型成功"}),i.query(e)):(o.fail({message:t.message}),i.query(e))}).fail(function(e){o.fail({message:e})})},onQuery:function(e){var t=this;$.ajax({url:s.domain.events+"/interActiveType/listType.html",data:{page:e.currentPage+1,pageSize:e.perPage},method:"POST",dataType:"json"}).then(function(n){n.success?t.trigger({data:{list:n.data.rows,totalCount:n.data.total,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.message})}).fail(function(e){o.fail({message:e})})},onUpdate:function(e,t){var n=_.pick(t,["id","name","allowUploadPicState","uploadPicNums","uploadPicTips","uploadNums","rewardType","rewardNum","extendJson"]);$.ajax({url:s.domain.events+"/interActiveType/modifyType.html",data:n,method:"POST",dataType:"json"}).done(function(t){t.success?(o.success({message:"修改互动活动类型成功"}),i.query(e)):(o.fail({message:t.message}),i.query(e))}).fail(function(e){o.fail({message:e})})},onDelete:function(e,t){$.ajax({url:s.domain.events+"/interActiveType/delType.html",data:{typeId:t.id},method:"POST",dataType:"json"}).done(function(t){t.success?(o.success({message:"删除互动活动类型成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onActive:function(e,t){$.ajax({url:s.domain.market+"/app/coupon/publish",data:{id:t.id,publish:1},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"奖励配置上架成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onDeactive:function(e,t){$.ajax({url:s.domain.market+"/app/coupon/publish",data:{id:t.id,publish:0},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"奖励配置下架成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onGet:function(e){var t=this;$.ajax({url:s.domain.market+"/app/coupon/selectById",data:{id:e.id},method:"POST",dataType:"json"}).done(function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.message})}).fail(function(e){o.fail({message:e})})}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function _(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:_(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(614)),v=a(n(265)),y=a(n(9)),b=function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=g.getInitialState(),this.state.userName=n.router.getCurrentQuery().userName}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item),t.recommend&&e.context.router.transitionTo("/square/material-hot",{},{userName:e.state.userName})})}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(g.getDefaultItem())}},showUpdate:{value:function(e){this.refs.dialog.update(Object.assign({},g.getDefaultItem(),e))}},showDelete:{value:function(e){y.warning({message:"是否删除游戏Banner "+e.title,onConfirm:v["delete"].bind(this,this.state,e)})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onFilterData:this.filterData.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"图文素材缩略图",field:"img_url",value:function(e){return u.createElement("div",null,e.items.map(function(e,t){return u.createElement("p",{key:t},u.createElement("img",{src:e.img_url,className:"preview"}))}))}},{name:"图文素材标题",field:"title",value:function(e){return u.createElement("div",null,e.items.map(function(t,n){return u.createElement("p",{key:n},u.createElement("a",{href:t.url,target:"_blank"},t.title),u.createElement("a",{className:"btn btn-sm btn-primary",style:{marginLeft:"10px"},onClick:function(){return v.recommend({item:e,idx:n})}},"推荐"))}))}},{name:"公众号账号",field:"pubaccount"},{name:"公众号名称",field:"pubname"},{name:"更新时间",field:"ct"},{name:"浏览量",field:"read_count",value:function(e){return u.createElement("div",null,e.items.map(function(e,t){return u.createElement("p",{key:t},e.read_count||0)}))}}],operations:[{name:"审核删除",icon:"danger",callback:this.showUpdate.bind(this)}]}),u.createElement(h,{ref:"dialog",title:"审核删除原因",message:"删除素材后，会同步删除用户素材库中的图文素材，并发送审核删除站内信告知用户，请谨慎操作！",items:[{type:"textarea",field:"opinion",name:"审核删除原因",maxLength:140,required:!0}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=b,b.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(265)),o=a(n(3)),s=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:20,currentPage:0}},getDataFilter:function(){return[{name:"公众号账号或名称",field:"keyword"}]},getDefaultItem:function(){return{opinion:""}},onCreate:function(e,t){t.append("platform",2),$.ajax({url:s.domain.market+"/app/banner/save",data:t,method:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){1e3===t.responseCode?(o.success({message:"添加游戏Banner成功"}),i.query(e)):(o.fail({message:t.errorMsg}),i.query(e))}).fail(function(e){o.fail({message:e})})},onQuery:function(e){var t=this;$.ajax({url:s.domain.square+"/api/resources/check",data:{status:e.status,page:e.currentPage,limit:e.perPage,cm:e.userName,keyword:e.keyword},method:"GET",dataType:"json"}).then(function(n){200===n.meta.code?t.trigger({data:{list:n.data.data.map(function(e,t){return Object.assign(e,e.imgtext,{id:t})}),totalCount:n.data.count,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.message})}).fail(function(e){o.fail({message:e})})},onUpdate:function(e,t){var n=t.items.map(function(e){return e.title});$.ajax({url:s.domain.square+"/api/resources/check",data:{cm:e.userName,qbid:t.qbid,rid:t.rid,opinion:t.opinion,title:JSON.stringify(n)},method:"POST",dataType:"json"}).done(function(t){200===t.meta.code?(o.success({message:"审核删除成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onDelete:function(e,t){$.ajax({url:s.domain.market+"/app/banner/deleteById",data:{id:t.id,platform:2},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"删除游戏Banner成功"}),i.query(e)):o.fail({message:t.errorMsg})}).fail(function(e){o.fail({message:e})})},onActive:function(e,t){$.ajax({url:s.domain.market+"/app/banner/publish",data:{id:t.id,publish:"1"},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"游戏Banner上架成功"}),i.query(e)):o.fail({message:t.errorMsg})}).fail(function(e){o.fail({message:e})})},onDeactive:function(e,t){$.ajax({url:s.domain.market+"/app/banner/publish",data:{id:t.id,publish:"0"},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"游戏Banner下架成功"}),i.query(e)):o.fail({message:t.errorMsg})}).fail(function(e){o.fail({message:e})})},onGet:function(e){var t=this;$.ajax({url:s.domain.market+"/app/activity/selectById",data:{id:e.id},method:"POST",dataType:"json"}).done(function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.errorMsg})}).fail(function(e){o.fail({message:e})})},onRecommend:function(e){var t=this,n=e.item,a=e.idx;$.ajax({url:s.domain.square+"/api/resources/reload",data:{rid:n.rid,idx:a},method:"POST",dataType:"json"}).done(function(e){200===e.meta.code?t.trigger({recommend:n}):o.fail({message:e.message})}).fail(function(e){o.fail({message:e})})}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function w(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:w(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=n(11),u=a(l),c=l.Component,d=n(1),m=(a(d),d.ListenerMethods),f=a(n(12)),p=a(n(7)),h=a(n(13)),g=a(n(616)),v=a(n(266)),y=a(n(9)),b=a(n(3)),D=a(n(2)),E=a(n(26)),M=function(e){function t(e,n){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state=g.getInitialState(),this.state.userName=n.router.getCurrentQuery().userName}return o(t,e),r(t,{componentDidMount:{value:function(){var e=this;g.listen(function(t){t.data&&e.setState(t.data),t.item&&e.refs.dialog.update(t.item),t.types&&e.setState({types:t.types})}),E.loadState(this)}},componentWillUnmount:{value:function(){m.stopListeningToAll()}},onDataChange:{value:function(e){e.item&&this.refs.dialog.update(e.item)}},showCreate:{value:function(){this.refs.dialog.create(Object.assign({},g.getDefaultItem(),{activeTypeId:this.state.types[0].value}))}},showUpdate:{value:function(e){v.get(e)}},showView:{value:function(e){this.refs.dialog.view(e)}},showDelete:{value:function(e){y.warning({message:"是否删除奖励发放 "+e.name,onConfirm:v["delete"].bind(this,this.state,e)})}},showHistory:{value:function(e){E.saveState(this),this.context.router.transitionTo("/market/award-history",{},{id:e.id})}},queryData:{value:function(e){this.setState({currentPage:e.currentPage},function(){v.query(this.state)}.bind(this))}},filterData:{value:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))}},checkInput:{value:function(e){return _.isEmpty(e.beginDate)?(b.fail({message:"请输入起止时间"}),!1):!0}},render:{value:function(){return u.createElement("div",{className:"box"},u.createElement(f,{filters:g.getDataFilter(),onFilterData:this.filterData.bind(this)}),u.createElement(p,{onLoadPage:this.queryData.bind(this),data:this.state,dataMap:[{name:"标题",field:"title"},{name:"缩略图",field:"imgurl",value:function(e){return u.createElement("img",{className:"preview",src:e.imgurl})}},{name:"公众账号",field:"publicaccount"},{name:"公众号名称",field:"publicname"},{name:"更新时间",field:"date"},{name:"浏览量",field:"readcount"},{name:"状态",field:"status",value:function(e){switch(e.status){case 0:return"未发布";case 1:return"已发布"}}}],operations:[{name:"发布",icon:"success",disabled:function(e){return 1===e.status},callback:v.active.bind(this,this.state)},{name:"移除",icon:"warning",disabled:function(e){return 1!==e.status},callback:v.deactive.bind(this,this.state)}]}),u.createElement(h,{ref:"dialog",title:"互动活动",items:[{field:"title",name:"活动标题",maxLength:15,required:!0},{type:"select",field:"activeTypeId",name:"活动类型",options:this.state.types,required:!0},{type:"date",startField:"startTime",endField:"endTime",format:"YYYY-MM-DD HH:mm:ss",name:"起止时间",required:!0},{type:"textarea",maxLength:500,field:"rule",name:"活动规则",required:!0},{type:"rich",field:"infoDesc",name:"活动详情",upImgUrl:D.domain.events+"/static/text/uploadRichJson.html"},{type:"image",field:"imgUrl",name:"图片信息",urlField:"imgUrl",uploadUrl:D.domain.events+"/static/text/uploadJson.html",required:!0}],onCreate:v.create.bind(this,this.state),onUpdate:v.update.bind(this,this.state)}))}}}),t}(c);e.exports=M,M.contextTypes={router:u.PropTypes.func.isRequired}},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=a(n(1)),i=a(n(266)),o=a(n(3)),s=a(n(2));e.exports=r.createStore({listenables:i,getInitialState:function(){return{list:[],totalCount:0,perPage:20,currentPage:0,types:[]}},getDataFilter:function(){return[{field:"keyword",name:"公众号账号或名称"}]},getDefaultItem:function(){return{title:"",activeTypeId:"",rule:"",startTime:"",endTime:"",infoDesc:"",imgUrl:""}},onCreate:function(e,t){var n=_.pick(t,["title","activeTypeId","rule","startTime","endTime","infoDesc","imgUrl"]);$.ajax({url:s.domain.events+"/interActive/addInfo.html",data:n,method:"POST",dataType:"json"}).done(function(t){t.success?(o.success({message:"添加互动活动成功"}),i.query(e)):(o.fail({message:t.message}),i.query(e))}).fail(function(e){o.fail({message:e})})},onQuery:function(e){var t=this,n=_.pick(_.pick(e,["keyword"]),function(e){return!_.isEmpty(e)});n.page=e.currentPage,n.limit=e.perPage,n.cm=e.userName,$.ajax({url:s.domain.square+"/api/hotlist",data:n,method:"GET",dataType:"json"}).then(function(n){200===n.meta.code?t.trigger({data:{list:n.data.items,totalCount:n.data.count,perPage:e.perPage,currentPage:e.currentPage}}):o.fail({message:n.message})}).fail(function(e){o.fail({message:e})})},onQueryType:function(e){var t=this;$.ajax({url:s.domain.events+"/interActive/listValidType.html",method:"POST",dataType:"json"}).then(function(e){e.success?t.trigger({types:e.data}):o.fail({message:e.message})}).fail(function(e){o.fail({message:e})})},onUpdate:function(e,t){var n=_.pick(t,["id","title","activeTypeId","rule","startTime","endTime","infoDesc","imgUrl"]);$.ajax({url:s.domain.market+"/app/coupon/insertOrUpdate",data:n,method:"POST",dataType:"json"}).done(function(t){t.success?(o.success({message:"修改互动活动成功"}),i.query(e)):(o.fail({message:t.message}),i.query(e))}).fail(function(e){o.fail({message:e})})},onDelete:function(e,t){$.ajax({url:s.domain.market+"/app/coupon/delete",data:{id:t.id},method:"POST",dataType:"json"}).done(function(t){1e3===t.responseCode?(o.success({message:"删除奖励发放配置成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onActive:function(e,t){$.ajax({url:s.domain.square+"/api/hotpublish",data:{rid:t.rid,idx:t.idx},method:"POST",dataType:"json"}).done(function(t){200===t.meta.code?(o.success({message:"发布热度推荐成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onDeactive:function(e,t){$.ajax({url:s.domain.square+"/api/hotdel",data:{rid:t.rid,idx:t.idx},method:"POST",dataType:"json"}).done(function(t){200===t.meta.code?(o.success({message:"移除热度推荐成功"}),i.query(e)):o.fail({message:t.message})}).fail(function(e){o.fail({message:e})})},onGet:function(e){var t=this;$.ajax({url:s.domain.market+"/app/coupon/selectById",data:{id:e.id},method:"POST",dataType:"json"}).done(function(e){1e3===e.responseCode?t.trigger({item:e.data}):o.fail({message:e.message})}).fail(function(e){o.fail({
message:e})})}})},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=n(11),i=n(1),o=a(n(14)),s=(n(2),n(7)),l=n(620),u=n(267),c=n(9),d=r.createClass({displayName:"EditDialog",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return l.getDefaultItem()},handleConfirm:function(e){e.preventDefault(),"create"===this.state.mode?this.props.onCreate(this.state):this.props.onUpdate(this.state),$(r.findDOMNode(this.refs["edit-dialog"])).modal("hide")},create:function(){this.setState($.extend(l.getDefaultItem(),{mode:"create"}),function(){$(r.findDOMNode(this.refs["edit-dialog"])).modal("show")})},update:function(e){this.setState($.extend(e,{mode:"update"}),function(){$(r.findDOMNode(this.refs["edit-dialog"])).modal("show")}.bind(this))},queryData:function(e){gActions.query({data:e.data,filter:this.state.filter})},render:function(){return r.createElement("div",{className:"modal fade",ref:"edit-dialog"},r.createElement("div",{className:"modal-dialog modal-lg"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},r.createElement("span",null,"×")),r.createElement("h4",{className:"modal-title"},"变更登记表 | ",this.state.id)),r.createElement("div",{className:"modal-header with-border"},r.createElement("table",{className:"table table-bordered table-hover text-center"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"项目"),r.createElement("th",null,"原登记信息"),r.createElement("th",null,"申请变更信息"))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,"功能描述"),r.createElement("td",null,"AAAAAAA"),r.createElement("td",null,"BBBBBBB")),r.createElement("tr",null,r.createElement("td",null,"公众号头像"),r.createElement("td",null,"AAAAAAA"),r.createElement("td",null,"BBBBBBB"))))),r.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"审核结果"),r.createElement("div",{className:"col-sm-10"},r.createElement("select",{className:"form-control",valueLink:this.linkState("result")},r.createElement("option",{value:"0"},"审核通过"),r.createElement("option",{value:"1"},"审核未通过")))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"审核意见"),r.createElement("div",{className:"col-sm-10"},r.createElement("textarea",{className:"form-control",required:!0,valueLink:this.linkState("reason")})))),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),r.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}),m=r.createClass({displayName:"DataFilter",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return l.getFilter()},render:function(){return r.createElement("div",{className:"data-filter"},r.createElement("div",{className:"box-header"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",null,"公众账号或ID"),r.createElement("input",{className:"form-control",type:"text",valueLink:this.linkState("keyword"),placeholder:"公众账号或ID"})),r.createElement("div",{className:"col-sm-offset-6 col-sm-3"},r.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询"))))}}),f=r.createClass({displayName:"PushMessage",mixins:[i.connect(l,"data"),o.State],getInitialState:function(){return{data:l.getDefaultData()}},componentWillMount:function(){this.state.userName=this.getQuery().userName},showCreate:function(){this.refs.dialog.create()},showUpdate:function(e){this.refs.dialog.update(e)},showDelete:function(e){c.warning({message:"是否删除此推文 "+e.id,onConfirm:this.deleteData.bind(null,e)})},createData:function(e){u.create({item:e,filter:this.state.filter,data:this.state.data})},queryData:function(e){u.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter,userName:this.state.userName})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},updateData:function(e){u.update({item:e,filter:this.state.filter,data:this.state.data})},deleteData:function(e){u["delete"]({item:e,filter:this.state.filter,data:this.state.data,userName:this.state.userName})},render:function(){return r.createElement("div",{className:"box"},r.createElement(m,{onFilterData:this.filterData,onCreateData:this.showCreate}),r.createElement(s,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"公众号ID",field:"pId"},{name:"公众号名称",field:"pName"},{name:"发布时间",field:"t"},{name:"标题",field:"items",value:function(e){switch(e.t_type){case 0:return e.items;case 1:case 2:case 3:return r.createElement("a",{target:"_blank",href:e.items.url},e.items.name);case 4:case 5:return r.createElement("div",null,e.items.items.map(function(e,t){return r.createElement("p",{key:t},r.createElement("a",{target:"_blank",href:e.url},e.title))}))}}}],operations:[{name:"审核删除",icon:"danger",callback:this.showDelete}]}),r.createElement(d,{ref:"dialog",item:this.state.item,onCreate:this.createData,onUpdate:this.updateData}))}});e.exports=f},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})},i=function(){function e(e,t){for(var n in t){var a=t[n];a.configurable=!0,a.value&&(a.writable=!0)}Object.defineProperties(e,t)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function D(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:D(r,t,n)}if("value"in a&&a.writable)return a.value;var i=a.get;return void 0===i?void 0:i.call(n)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=n(11),c=a(u),d=u.Component,m=a(n(1)),f=a(n(14)),p=(n(2),n(7)),h=n(619),g=n(268),v=n(9),y=function(e){function t(e){l(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state=h.getDefaultItem()}return s(t,e),i(t,{handleConfirm:{value:function(e){e.preventDefault(),"create"===this.state.mode?this.props.onCreate(this.state):this.props.onUpdate(this.state),$(c.findDOMNode(this.refs["edit-dialog"])).modal("hide")}},create:{value:function(){this.setState($.extend(h.getDefaultItem(),{mode:"create"}),function(){$(c.findDOMNode(this.refs["edit-dialog"])).modal("show")})}},update:{value:function(e){this.setState($.extend(e,{mode:"update"}),function(){$(c.findDOMNode(this.refs["edit-dialog"])).modal("show")}.bind(this))}},queryData:{value:function(e){gActions.query({data:e.data,filter:this.state.filter})}},changeState:{value:function(e,t){this.setState(r({},e,t.target.value))}},render:{value:function(){return c.createElement("div",{className:"modal fade",ref:"edit-dialog"},c.createElement("div",{className:"modal-dialog modal-lg"},c.createElement("div",{className:"modal-content"},c.createElement("div",{className:"modal-header"},c.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},c.createElement("span",null,"×")),c.createElement("h4",{className:"modal-title"},"审核未通过")),c.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm.bind(this)},c.createElement("div",{className:"modal-body"},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"col-sm-2 control-label"},"不通过原因"),c.createElement("div",{className:"col-sm-10"},c.createElement("textarea",{className:"form-control",required:!0,value:this.state.opinion,onChange:this.changeState.bind(this,"opinion")})))),c.createElement("div",{className:"modal-footer"},c.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),c.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}}),t}(d),b=function(e){function t(e){l(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state=h.getFilter()}return s(t,e),i(t,{changeState:{value:function(e,t){this.setState(r({},e,t.target.value))}},render:{value:function(){return c.createElement("div",{className:"data-filter"},c.createElement("div",{className:"box-header"},c.createElement("div",{className:"col-sm-3"},c.createElement("label",null,"审核状态"),c.createElement("select",{className:"form-control",value:this.state.status,onChange:this.changeState.bind(this,"status")},c.createElement("option",{value:"0"},"全部"),c.createElement("option",{value:"1"},"待审核"),c.createElement("option",{value:"2"},"审核通过"),c.createElement("option",{value:"3"},"审核未通过"))),c.createElement("div",{className:"col-sm-3"},c.createElement("label",null,"公众账号或ID"),c.createElement("input",{className:"form-control",type:"text",value:this.state.keyword,onChange:this.changeState.bind(this,"keyword"),placeholder:"公众账号或ID"})),c.createElement("div",{className:"col-sm-offset-3 col-sm-3"},c.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询"))))}}}),t}(d),_=c.createClass({displayName:"PushMessageAudit",mixins:[m.connect(h,"data"),f.State],getInitialState:function(){return{data:h.getDefaultData(),filter:h.getFilter()}},componentWillMount:function(){this.state.userName=this.getQuery().userName},showCreate:function(){this.refs.dialog.create()},showUpdate:function(e){this.refs.dialog.update(e)},showDelete:function(e){v.warning({message:"是否删除首推商品 "+e.proName,onConfirm:this.deleteData.bind(null,e)})},createData:function(e){g.create({item:e,filter:this.state.filter,data:this.state.data})},queryData:function(e){g.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter,userName:this.state.userName})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},updateData:function(e){g.reject({item:e,filter:this.state.filter,data:this.state.data,userName:this.state.userName})},deleteData:function(e){g["delete"]({item:e,filter:this.state.filter,data:this.state.data})},acceptData:function(e){g.accept({item:e,filter:this.state.filter,data:this.state.data,userName:this.state.userName})},render:function(){return c.createElement("div",{className:"box"},c.createElement(b,{onFilterData:this.filterData,onCreateData:this.showCreate}),c.createElement(p,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"公众号ID",field:"pId"},{name:"公众号名称",field:"pName"},{name:"发布时间",field:"t"},{name:"标题",field:"t_type",value:function(e){switch(e.t_type){case 0:return e.items;case 1:case 2:case 3:return c.createElement("a",{target:"_blank",href:e.items.url},e.items.name);case 4:case 5:return c.createElement("div",null,e.items.items.map(function(e,t){return c.createElement("p",{key:t},c.createElement("a",{target:"_blank",href:e.url},e.title))}))}}},{name:"状态",field:"status",value:function(e){switch(e.status){case 1:return"待审核";case 2:return"审核通过";case 3:return"审核未通过";case 4:return"已发送";case 5:return"发送失败"}}},{name:"审核时间",field:"ct"},{name:"审核人",field:"cm"},{name:"不通过原因",field:"opinion"}],operations:[{name:"通过",icon:"success",callback:this.acceptData,disabled:function(e){return 1!=e.status}},{name:"不通过",icon:"danger",callback:this.showUpdate,disabled:function(e){return 1!=e.status}}]}),c.createElement(y,{ref:"dialog",item:this.state.item,onCreate:this.createData,onUpdate:this.updateData}))}});e.exports=_},function(e,t,n){"use strict";var a=n(1),r=n(268),i=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDefaultItem:function(){return{categoryId:0,title:"",folderUrl:"",author:"",outsideUrl:"",txt:"",opinion:""}},getFilter:function(){return{keyword:"",status:0}},onQueryCompleted:function(e){e.list.forEach(function(e){$.extend(e,e.res,{id:e.tid})}),this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=n(1),r=n(267),i=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDefaultItem:function(){return{categoryId:0,title:"",folderUrl:"",author:"",outsideUrl:"",txt:""}},getFilter:function(){return{keyword:"",categoryId:0}},onQueryCompleted:function(e){this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=n(11),i=n(1),o=n(14),s=n(7),l=(n(25),n(9)),u=a(n(3)),c=n(624),d=n(269),m=n(13),f=r.createClass({displayName:"DataFilter",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return c.getFilter()},render:function(){return r.createElement("div",{className:"data-filter"},r.createElement("div",{className:"box-header"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",null,"活动名称"),r.createElement("input",{type:"text",className:"form-control",placeholder:"活动名称",valueLink:this.linkState("title")})),r.createElement("div",{className:"col-sm-offset-3 col-sm-3"},r.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询")),r.createElement("div",{className:"col-sm-3"},r.createElement("button",{className:"btn btn-primary btn-block",onClick:this.props.onCreateData},"创建"))))}}),p=r.createClass({displayName:"RankingActivity",mixins:[i.connect(c,"data"),o.Navigation],getInitialState:function(){return{data:c.getDefaultData(),filter:c.getFilter()}},showCreate:function(){this.transitionTo("/square/ranking-activity-detail")},showUpdate:function(e){this.transitionTo("/square/ranking-activity-detail?id="+e.id)},showDelete:function(e){l.warning({message:"是否删除此活动 "+e.title,onConfirm:this.deleteData.bind(null,e)})},showLinks:function(e){this.refs.dialog.show({links:{list:[{id:1,name:"微信链接",url:"http://wx.qbao.com/website/bangdan/index?id="+e.id},{id:2,name:"钱宝链接",url:"http://wx.qbao.com/website4qb/bangdan/index?id="+e.id}]}}),this.refs["wx-url"]},createData:function(e){d.create({item:e,filter:this.state.filter,data:this.state.data})},queryData:function(e){d.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},updateData:function(e){d.update({item:e,filter:this.state.filter,data:this.state.data})},deleteData:function(e){d["delete"]({item:e,filter:this.state.filter,data:this.state.data})},putawayData:function(e){d.putaway({item:e,filter:this.state.filter,data:this.state.data})},withdrawData:function(e){d.withdraw({item:e,filter:this.state.filter,data:this.state.data})},syncData:function(e){d.sync({item:e,filter:this.state.filter,data:this.state.data})},bindClipboard:function(){var e=new ZeroClipboard(document.getElementsByClassName("url-clipboard-button"));e.on("ready",function(){e.on("aftercopy",function(){u.success({message:"已拷贝链接至剪贴板"})})})},render:function(){return r.createElement("div",{className:"box"},r.createElement(f,{onFilterData:this.filterData,onCreateData:this.showCreate}),r.createElement(s,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"活动ID",field:"id"},{name:"活动名称",field:"title"},{name:"活动说明",field:"descContent"},{name:"报名时间",field:"signBeginTime",value:function(e){return e.signBeginTime+" - "+e.signEndTime}},{name:"拉票时间",field:"voteBeginTime",value:function(e){return e.voteBeginTime+" - "+e.voteEndTime}},{name:"活动图片",field:"voteImg",value:function(e){return r.createElement("img",{className:"preview",src:e.voteImg})}},{name:"投票次数限制",field:"voteRuleLimit",value:function(e){switch(e.voteRuleLimit){case 1:return"只可投一次";case 2:return"每天投一次";case 3:return"不限投票次数"}}},{name:"状态",field:"state",value:function(e){switch(e.state){case 0:return"待上架";case 1:return"已上架";case 2:return"已下架"}}}],operations:[{name:"编辑",icon:"primary",disabled:function(e){return 1===e.state},callback:this.showUpdate},{name:"上架",icon:"success",disabled:function(e){return 1===e.state},callback:this.putawayData},{name:"下架",icon:"warning",disabled:function(e){return 2===e.state},callback:this.withdrawData},{name:"删除",icon:"danger",disabled:function(e){return 1===e.state},callback:this.showDelete},{name:"链接",icon:"gray",callback:this.showLinks},{name:"同步",icon:"default",callback:this.syncData}]}),r.createElement(m,{ref:"dialog",title:"活动链接",items:[{type:"table",field:"links",dataMap:[{name:"类型",field:"name"},{name:"链接",field:"url"}],operations:[{drawFn:function(e){return r.createElement("button",{className:"btn btn-sm btn-primary url-clipboard-button","data-clipboard-text":e.url,type:"button"},"复制")}}]}],onShown:this.bindClipboard,onCreate:d.create.bind(this,this.state),onUpdate:d.update.bind(this,this.state)}))}});e.exports=p},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},r=n(11),i=n(4),o=n(179),s=n(1),l=n(14),u=l.Link,c=n(25),d=a(n(42)),m=a(n(13)),f=a(n(7)),p=n(623),h=n(270),g=n(3),v=r.createClass({displayName:"RankingActivityDetail",mixins:[s.listenTo(p,"onDataChange"),r.addons.LinkedStateMixin,l.State,l.Navigation],getInitialState:function(){return p.getDefaultItem()},onDataChange:function(e){this.setState(e)},componentDidMount:function(){this.overlay=$(r.findDOMNode(this.refs.overlay)).hide();var e=this.getQuery();i.isEmpty(e)?this.setState({mode:"create"}):this.setState({mode:"update"},function(){h.query(e).then(function(e){}.bind(this))}.bind(this))},showCreate:function(){this.refs.dialog.create({id:0})},showCreateBanner:function(){this.refs["banner-dialog"].create({id:0})},showUpdate:function(e){this.refs.dialog.update(e)},showUpdateBanner:function(e){this.refs["banner-dialog"].update(e)},createAward:function(e){this.state.awardInfo.push({id:"create-"+o.v4(),awardName:e.awardName,awardImg:e.awardImg}),this.forceUpdate()},createBanner:function(e){this.state.bannerInfo.push({id:"create-"+o.v4(),bannerLink:e.bannerLink,bannerImg:e.bannerImg}),this.forceUpdate()},updateAward:function(e){Object.assign(this.state.awardInfo[e._tableIndex],{awardName:e.awardName,awardImg:e.awardImg}),this.forceUpdate()},updateBanner:function(e){Object.assign(this.state.bannerInfo[e._tableIndex],{bannerLink:e.bannerLink,bannerImg:e.bannerImg}),this.forceUpdate()},deleteAward:function(e){this.state.awardInfo.splice(e._tableIndex,1),this.forceUpdate()},deleteBanner:function(e){this.state.bannerInfo.splice(e._tableIndex,1),this.forceUpdate()},checkValidate:function(){return i.isEmpty(this.state.signBeginTime)?(g.fail({message:"请设置报名时间"}),!1):i.isEmpty(this.state.voteBeginTime)?(g.fail({message:"请设置投票时间"}),!1):i.isEmpty(this.state.voteImg)?(g.fail({message:"请设置活动图片"}),!1):0===this.state.awardInfo.length?(g.fail({message:"请设置奖项"}),!1):0===this.state.bannerInfo.length?(g.fail({message:"请设置banner"}),!1):!0},handleConfirm:function(e){if(e.preventDefault(),this.checkValidate()){var t=this.state.awardInfo.map(function(e){return(e.id+"").startsWith("create-")&&(e.id=0),e});this.state.awardInfo=JSON.stringify(t);var n=this.state.bannerInfo.map(function(e){return(e.id+"").startsWith("create-")&&(e.id=0),e});this.state.bannerInfo=JSON.stringify(n),"create"===this.state.mode?h.create({item:this.state}).then(function(){this.overlay.hide(),this.transitionTo("/square/ranking-activity")}.bind(this))["catch"](function(){this.overlay.hide(),this.state.awardInfo=JSON.parse(this.state.awardInfo),this.state.bannerInfo=JSON.parse(this.state.bannerInfo)}.bind(this)):h.update({item:this.state}).then(function(){this.overlay.hide(),this.transitionTo("/square/ranking-activity")}.bind(this))["catch"](function(){this.overlay.hide(),this.state.awardInfo=JSON.parse(this.state.awardInfo),this.state.bannerInfo=JSON.parse(this.state.bannerInfo)}.bind(this))}},clearPic:function(e){this.state.pics=i.reject(this.state.pics,e)},onDateChange:function(e,t){"sign"===e?(this.state.signBeginTime=i.isEmpty(t.startDate)?"":t.startDate.format("YYYY-MM-DD HH:mm:ss"),this.state.signEndTime=i.isEmpty(t.endDate)?"":t.endDate.format("YYYY-MM-DD HH:mm:ss")):(this.state.voteBeginTime=i.isEmpty(t.startDate)?"":t.startDate.format("YYYY-MM-DD HH:mm:ss"),this.state.voteEndTime=i.isEmpty(t.startDate)?"":t.endDate.format("YYYY-MM-DD HH:mm:ss"))},render:function(){var e=this;return this.state.awardInfo.forEach(function(e,t){return e._tableIndex=t}),this.state.bannerInfo.forEach(function(e,t){return e._tableIndex=t}),r.createElement("div",{className:"box"},r.createElement("div",{className:"box-header with-border"},r.createElement("h4",null,"create"===this.state.mode?"添加活动详情":"修改活动详情")),r.createElement("form",{ref:"edit-form",onSubmit:this.handleConfirm},"create"===this.state.mode?"":r.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),r.createElement("div",{className:"box-body"},r.createElement("fieldset",null,r.createElement("legend",null,"基础信息"),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"活动名称"),r.createElement("input",{className:"form-control",type:"text",maxLength:"15",required:!0,name:"title",valueLink:this.linkState("title"),placeholder:"活动名称"}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-3 form-group"},r.createElement("label",null,"报名时间"),r.createElement(d,{item:{endField:"signEndTime",format:"YYYY-MM-DD HH:mm:ss",timePicker:!0},startDate:this.state.signBeginTime,endDate:this.state.signEndTime,onDateChange:this.onDateChange.bind(null,"sign"),required:!0})),r.createElement("div",{className:"col-sm-3 form-group"},r.createElement("label",null,"投票时间"),r.createElement(d,{item:{endField:"voteEndTime",format:"YYYY-MM-DD HH:mm:ss",timePicker:!0},startDate:this.state.voteBeginTime,endDate:this.state.voteEndTime,onDateChange:this.onDateChange.bind(null,"vote"),required:!0})),r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"投票次数限制"),r.createElement("select",{className:"form-control",name:"voteRuleLimit",required:!0,valueLink:this.linkState("voteRuleLimit")},r.createElement("option",{value:"1"},"只可投一次"),r.createElement("option",{value:"2"},"每天投一次"),r.createElement("option",{value:"3"},"不限投票次数")))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-6 form-group"},r.createElement("label",null,"活动图片(750x230)"),r.createElement(c,{name:"voteImg",urlField:"voteImg",uploadField:"files",exactWidth:750,exactHeight:230,required:!0,keepUrlField:!0,imageUrl:this.state.voteImg,onChange:function(t){return e.state.voteImg=t.imageUrl},uploadUrl:"http://wxba.qbao.com/photo/upload.html"}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"活动说明"),r.createElement("textarea",{className:"form-control",rows:"3",required:!0,maxLength:"100",name:"descContent",valueLink:this.linkState("descContent")}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"活动规则"),r.createElement("textarea",{className:"form-control",rows:"10",required:!0,maxLength:"1000",name:"ruleContent",valueLink:this.linkState("ruleContent")})))),r.createElement("fieldset",{className:"form-horizontal"},r.createElement("legend",null,"Banner设置"),r.createElement(f,{disablePaginator:!0,disableAutoLoad:!0,data:{list:this.state.bannerInfo},dataMap:[{name:"活动Banner",field:"bannerImg",value:function(e){return r.createElement("img",{src:e.bannerImg,className:"preview"})}},{name:"跳转地址",field:"bannerLink"}],operations:[{name:"编辑",icon:"info",callback:this.showUpdateBanner},{name:"删除",icon:"danger",callback:this.deleteBanner}]})),r.createElement("fieldset",{className:"form-horizontal"},r.createElement("legend",null,"奖项设置"),r.createElement(f,{disablePaginator:!0,disableAutoLoad:!0,data:{list:this.state.awardInfo},dataMap:[{name:"奖品名称",field:"awardName"},{name:"奖品图片",field:"awardImg",value:function(e){return r.createElement("img",{src:e.awardImg,className:"preview"})}}],operations:[{name:"编辑",icon:"info",callback:this.showUpdate},{name:"删除",icon:"danger",callback:this.deleteAward}]}))),r.createElement("div",{className:"box-footer"},r.createElement("div",{className:"row"},r.createElement("input",{type:"button",className:"btn btn-success col-sm-offset-1 col-sm-2",value:"添加Banner",onClick:this.showCreateBanner}),r.createElement("input",{type:"button",className:"btn btn-default col-sm-offset-1 col-sm-2",value:"添加奖品",onClick:this.showCreate}),r.createElement("input",{type:"submit",className:"btn btn-primary col-sm-offset-1 col-sm-1",value:"提交"}),r.createElement(u,{className:"btn btn-info col-sm-offset-1 col-sm-1",to:"/square/ranking-activity"},"取消")))),r.createElement("div",{ref:"overlay",className:"overlay"},r.createElement("i",{className:"fa fa-refresh fa-spin"})),r.createElement(m,{ref:"dialog",title:"奖品",items:[{field:"awardName",name:"奖品名称",maxLength:20,required:!0},{field:"awardImg",urlField:"awardImg",keepUrlField:!0,name:"奖品图片",type:"image",uploadUrl:"http://wxba.qbao.com/photo/upload.html",uploadField:"files",required:!0}],onCreate:this.createAward,onUpdate:this.updateAward}),r.createElement(m,{ref:"banner-dialog",title:"Banner",items:[{field:"bannerImg",urlField:"bannerImg",keepUrlField:!0,name:"活动Banner(750x230)",type:"image",exactWidth:750,exactHeight:230,uploadUrl:"http://wxba.qbao.com/photo/upload.html",uploadField:"files",required:!0},{field:"bannerLink",name:"跳转地址",type:"url"}],onCreate:this.createBanner,onUpdate:this.updateBanner}))}});e.exports=v},function(e,t,n){"use strict";var a=n(1),r=n(270),i=a.createStore({listenables:r,getDefaultItem:function(){return{title:"",descContent:"",ruleContent:"",signBeginTime:"",signEndTime:"",voteBeginTime:"",voteEndTime:"",voteImg:"",bgImg:"",voteRuleLimit:1,awardInfo:[],bannerInfo:[]}},onQueryCompleted:function(e){this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=n(1),r=n(269),i=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:20,currentPage:0}},getDefaultItem:function(){return{title:"",descContent:"",ruleContent:"",signBeginTime:"",signEndTime:"",voteBeginTime:"",voteEndTime:"",voteImg:"",bgImg:"",voteRuleLimit:0,awardPicFile:[],awardNames:[]}},getFilter:function(){return{title:"",categoryId:0}},onQueryCompleted:function(e){this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(7),o=n(25),s=n(626),l=n(271),u=n(9),c=a.createClass({displayName:"EditDialog",mixins:[a.addons.LinkedStateMixin],getInitialState:function(){return s.getDefaultItem()},componentDidMount:function(){this.$dialog=$(a.findDOMNode(this.refs["edit-dialog"])),this.$dialog.on("hidden.bs.modal",function(){this.refs["image-uploader"].clearImage()}.bind(this))},handleConfirm:function(e){e.preventDefault();var t=new FormData(a.findDOMNode(this.refs["edit-form"]));"create"===this.state.mode?this.props.onCreate(t):this.props.onUpdate(t),this.$dialog.modal("hide")},create:function(e){this.setState($.extend(s.getDefaultItem(),{mode:"create",platform:e}),function(){this.$dialog.modal("show")}.bind(this))},update:function(e){this.setState($.extend(e,{mode:"update"}),function(){this.$dialog.modal("show")}.bind(this))},render:function(){return a.createElement("div",{className:"modal fade edit-dialog",ref:"edit-dialog"},a.createElement("div",{className:"modal-dialog modal-lg"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},a.createElement("span",null,"×")),a.createElement("h4",{className:"modal-title"},"create"===this.state.mode?"添加游戏Banner":"修改游戏Banner")),a.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},"create"===this.state.mode?"":a.createElement("input",{type:"hidden",name:"id",value:this.state.id}),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"排序"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control",required:!0,min:"0",name:"order",type:"number",placeholder:"排序",valueLink:this.linkState("order")}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"Banner标题"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control",type:"text",placeholder:"Banner标题",name:"title",valueLink:this.linkState("title")}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"链接地址"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control",type:"text",placeholder:"链接地址",name:"url",valueLink:this.linkState("url")}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"Banner图片"),a.createElement("div",{className:"col-sm-10"},a.createElement(o,{ref:"image-uploader",name:"file",imageUrl:this.state.picUrl})))),a.createElement("div",{className:"modal-footer"},a.createElement("input",{type:"button",className:"btn btn-default",value:"取消","data-dismiss":"modal"}),a.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}),d=a.createClass({displayName:"DataFilter",mixins:[r.connect(s),a.addons.LinkedStateMixin],render:function(){return a.createElement("div",{className:"data-filter"},a.createElement("div",{className:"box-header"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"Banner标题"),a.createElement("input",{className:"form-control",type:"text",valueLink:this.linkState("title"),placeholder:"Banner标题"})),a.createElement("div",{className:"col-sm-offset-3 col-sm-3"},a.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询")),a.createElement("div",{className:"col-sm-3"},a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.props.onCreateData},"创建"))))}}),m=a.createClass({displayName:"RankingBanner",mixins:[r.connect(s)],showCreate:function(){this.refs.dialog.create()},showUpdate:function(e){this.refs.dialog.update(e)},showDelete:function(e){u.warning({message:"是否删除此Banner "+e.name,onConfirm:this.deleteData.bind(null,e)})},queryData:function(e){l.query($.extend(this.state,{currentPage:e.currentPage}))},filterData:function(e){this.setState(e,function(){this.queryData({currentPage:0})}.bind(this))},createData:function(e){l.create({item:e,filter:this.state.filter,data:this.state.data})},updateData:function(e){l.update({item:e,filter:this.state.filter,data:this.state.data})},deleteData:function(e){l["delete"]({item:e,filter:this.state.filter,data:this.state.data})},render:function(){return a.createElement("div",{className:"box"},a.createElement(d,{onFilterData:this.filterData,onCreateData:this.showCreate}),a.createElement(i,{onLoadPage:this.queryData,data:this.state,dataMap:[{name:"排序",field:"order"},{name:"Banner标题",field:"title"},{name:"链接地址",field:"gotoUrl"},{name:"Banner图片",value:function(e){return a.createElement("img",{className:"preview",src:e.url})}}],operations:[{name:"修改",icon:"info",callback:this.showUpdate},{name:"删除",icon:"danger",callback:this.showDelete}]}),a.createElement(c,{ref:"dialog",onCreate:this.createData,onUpdate:this.updateData}))}});e.exports=m},function(e,t,n){"use strict";var a=n(1),r=n(271),i=n(3),o=n(8),s=n(2),l=a.createStore({listenables:r,getInitialState:function(){return{list:[],totalCount:0,perPage:10,currentPage:0,title:""}},getDefaultItem:function(){return{
order:"",title:"",url:"",picUrl:""}},onCreate:function(e){var t=s.domain.market+"/pic/insert",n=e.item,a=function(t){1e3===t.responseCode?(i.success({message:"添加资讯成功"}),r.query(e)):(i.fail({message:t.errorMsg}),r.query(e))};o(t,n,a)},onQuery:function(e){var t=s.domain.market+"/pic/get-by-cat-id-and-title-paged",n=function(t){1e3===t.responseCode?this.trigger({list:t.data.aaData,totalCount:t.data.itotalRecords,perPage:e.perPage,currentPage:e.currentPage}):i.fail({message:t.errorMsg})}.bind(this),a=_.pick(_.pick(e,"title"),function(e){return!_.isEmpty(e)});a.pageNo=e.currentPage+1,a.pageSize=e.perPage,o(t,a,n)},onUpdate:function(e){var t=s.domain.market+"/pic/update-by-id",n=e.item,a=function(t){1e3===t.responseCode?(i.success({message:"修改资讯成功"}),RankingBannerActions.query(e)):i.fail({message:t.message})};o(t,n,a)},onDelete:function(e){var t=s.domain.market+"/pic/del-by-id",n={id:e.item.id},a=function(t){1e3===t.responseCode?(i.success({message:"删除资讯成功"}),RankingBannerActions.query(e)):i.fail({message:t.errorMsg})};o(t,n,a)}});e.exports=l},function(e,t,n){"use strict";var a=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},r=n(11),i=n(1),o=n(14),s=(n(4),n(7)),l=(n(25),n(13)),u=n(9),c=n(3),d=n(2),m=n(628),f=n(272),p=r.createClass({displayName:"EditDialog",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return m.getDefaultItem()},handleConfirm:function(e){e.preventDefault();var t=new FormData(r.findDOMNode(this.refs["edit-form"]));"create"===this.state.mode?this.props.onCreate(t):this.props.onUpdate(t),this.dialog.modal("hide")},handleAccept:function(){this.props.onAccept(this.state),this.dialog.modal("hide")},handleReject:function(){this.props.onReject(this.state),this.dialog.modal("hide")},create:function(){this.setState($.extend({},m.getDefaultItem(),{mode:"create"}),function(){this.dialog.modal("show")})},update:function(e){this.setState($.extend({},e,{mode:"update"}),function(){this.dialog.modal("show")}.bind(this))},componentDidMount:function(){this.dialog=$(r.findDOMNode(this.refs["edit-dialog"]))},render:function(){return r.createElement("div",{className:"modal fade",ref:"edit-dialog"},r.createElement("div",{className:"modal-dialog modal-lg"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},r.createElement("span",null,"×")),r.createElement("h4",{className:"modal-title"},"报名详情")),r.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},"create"===this.state.mode?"":r.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"编号ID"),r.createElement("div",{className:"col-sm-10"},r.createElement("p",{className:"form-control"},this.state.voteId))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"用户名或微信昵称"),r.createElement("div",{className:"col-sm-10"},r.createElement("p",{className:"form-control"},this.state.userName))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"昵称"),r.createElement("div",{className:"col-sm-10"},r.createElement("p",{className:"form-control"},this.state.nickName))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"手机号"),r.createElement("div",{className:"col-sm-10"},r.createElement("p",{className:"form-control"},this.state.telephone))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"主题宣言"),r.createElement("div",{className:"col-sm-10"},r.createElement("textarea",{className:"form-control",readOnly:!0,rows:"3",valueLink:this.linkState("declaration")}))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"个人介绍"),r.createElement("div",{className:"col-sm-10"},r.createElement("textarea",{className:"form-control",readOnly:!0,rows:"10",valueLink:this.linkState("introduce")}))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"上传图片"),r.createElement("div",{className:"col-sm-10"},this.state.userImg&&this.state.userImg.split(",").map(function(e,t){return r.createElement("img",{key:t,className:"col-sm-3",src:e})}))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"审核人"),r.createElement("div",{className:"col-sm-10"},r.createElement("input",{readOnly:!0,className:"form-control",value:this.state.auditUser}))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"未通过原因"),r.createElement("div",{className:"col-sm-10"},r.createElement("input",{readOnly:!0,className:"form-control",value:this.state.auditReason})))),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),r.createElement("input",{type:"button",className:"btn btn-success",value:"通过",onClick:this.handleAccept}),r.createElement("input",{type:"button",className:"btn btn-danger",value:"不通过",onClick:this.handleReject}))))))}}),h=r.createClass({displayName:"RaiseDialog",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return m.getDefaultItem()},handleConfirm:function(e){e.preventDefault(),this.props.onRaise(this.state),$(r.findDOMNode(this.refs["edit-dialog"])).modal("hide")},raise:function(e){this.setState($.extend({},e,{mode:"raise"}),function(){$(r.findDOMNode(this.refs["edit-dialog"])).modal("show")}.bind(this))},render:function(){return r.createElement("div",{className:"modal fade",ref:"edit-dialog"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},r.createElement("span",null,"×")),r.createElement("h4",{className:"modal-title"},"初始票数")),r.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"初始票数"),r.createElement("div",{className:"col-sm-10"},r.createElement("input",{type:"number",className:"form-control",required:!0,min:"1",max:"10000",valueLink:this.linkState("initVoteNum")})))),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),r.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}),g=r.createClass({displayName:"RejectDialog",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return m.getDefaultItem()},handleConfirm:function(e){e.preventDefault(),this.props.onReject(this.state),$(r.findDOMNode(this.refs["edit-dialog"])).modal("hide")},raise:function(e){this.setState($.extend({},e,{mode:"raise"}),function(){$(r.findDOMNode(this.refs["edit-dialog"])).modal("show")}.bind(this))},render:function(){return r.createElement("div",{className:"modal fade",ref:"edit-dialog"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},r.createElement("span",null,"×")),r.createElement("h4",{className:"modal-title"},"审核不通过")),r.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"原因"),r.createElement("div",{className:"col-sm-10"},r.createElement("input",{type:"text",className:"form-control",required:!0,maxLength:"50",valueLink:this.linkState("auditReason")})))),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),r.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}),v=r.createClass({displayName:"DataFilter",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return m.getFilter()},componentDidMount:function(){$.ajax({url:d.domain.weixin+"/voteSignManage/selectActivity.html",method:"POST",dataType:"json"}).done(function(e){e.success?(this.setState({votes:e.data}),this.props.onActivitiesChanged(e.data)):c.fail({message:e.message})}.bind(this)).fail(function(e){c.fail({message:e})})},render:function(){return r.createElement("div",null,r.createElement("div",{className:"box-header"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",null,"活动"),r.createElement("select",{className:"form-control",valueLink:this.linkState("voteId")},r.createElement("option",{value:""},"全部"),this.state.votes&&this.state.votes.map(function(e){return r.createElement("option",{key:e.id,value:e.id},e.title)}))),r.createElement("div",{className:"col-sm-3"},r.createElement("label",null,"状态"),r.createElement("select",{className:"form-control",valueLink:this.linkState("state")},r.createElement("option",{value:""},"全部"),r.createElement("option",{value:1},"未审核"),r.createElement("option",{value:2},"通过"),r.createElement("option",{value:3},"不通过"))),r.createElement("div",{className:"col-sm-3"},r.createElement("label",null,"编号ID"),r.createElement("input",{type:"text",className:"form-control",placeholder:"编号ID",valueLink:this.linkState("id")})),r.createElement("div",{className:"col-sm-3"},r.createElement("label",null,"用户名"),r.createElement("input",{type:"text",className:"form-control",placeholder:"用户名",valueLink:this.linkState("userName")}))),r.createElement("div",{className:"box-header"},r.createElement("div",{className:"col-sm-offset-6 col-sm-3"},r.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询")),r.createElement("div",{className:"col-sm-3"},r.createElement("button",{className:"btn btn-primary btn-block",onClick:this.props.onCreateData},"创建"))))}}),y=r.createClass({displayName:"RankingRegistration",mixins:[i.connect(m,"data"),o.Navigation],getInitialState:function(){return{data:m.getDefaultData(),filter:m.getFilter(),votes:[]}},showCreate:function(){this.refs["create-dialog"].create(m.getDefaultItem())},checkInput:function(e){return!0},showUpdate:function(e){this.refs.dialog.update(e)},showRaise:function(e){this.refs["raise-dialog"].raise(e)},showReject:function(e){this.refs["reject-dialog"].raise(e)},showDelete:function(e){u.warning({message:"是否删除本条资讯"+e.title,onConfirm:this.deleteData.bind(null,e)})},createData:function(e){f.create({item:e,filter:this.state.filter,data:this.state.data})},queryData:function(e){f.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},updateData:function(e){f.update({item:e,filter:this.state.filter,data:this.state.data})},deleteData:function(e){f["delete"]({item:e,filter:this.state.filter,data:this.state.data})},acceptData:function(e){f.accept({item:e,filter:this.state.filter,data:this.state.data})},rejectData:function(e){f.reject({item:e,filter:this.state.filter,data:this.state.data})},raiseData:function(e){f.raise({item:e,filter:this.state.filter,data:this.state.data})},render:function(){var e=this;this.state.userImg=this.state.userImg||[],this.state.userImg1=this.state.userImg[0],this.state.userImg2=this.state.userImg[1],this.state.userImg3=this.state.userImg[2],this.state.userImg4=this.state.userImg[3],this.state.userImg5=this.state.userImg[4];var t=this.state.votes.map(function(e){return{name:e.title,value:e.id}});return r.createElement("div",{className:"box"},r.createElement(v,{onFilterData:this.filterData,onActivitiesChanged:function(t){return e.setState({votes:t})},onCreateData:this.showCreate}),r.createElement(s,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"编号ID",field:"id"},{name:"用户类型",field:"voteWay",value:function(e){return 0===e.voteWay?"微信":"钱宝"}},{name:"用户名或微信昵称",field:"userName"},{name:"昵称",field:"nickName"},{name:"手机号",field:"telephone"},{name:"投票数",field:"totalVoteNum"},{name:"点赞数",field:"praiseNum"},{name:"人气数",field:"visitNum"},{name:"状态",field:"state",value:function(e){switch(e.state){case 1:return"未审核";case 2:return"通过";case 3:return"不通过"}}},{name:"审核人",field:"auditUser"}],operations:[{name:"详情",icon:"primary",callback:this.showUpdate},{name:"通过",icon:"success",callback:this.acceptData},{name:"不通过",icon:"danger",callback:this.showReject},{name:"初始票数",icon:"default",disabled:function(e){return 2!==e.state},callback:this.showRaise}]}),r.createElement(p,{ref:"dialog",item:this.state.item,onCreate:this.createData,onUpdate:this.updateData,onAccept:this.acceptData,onReject:this.showReject}),r.createElement(h,{ref:"raise-dialog",item:this.state.item,onRaise:this.raiseData}),r.createElement(g,{ref:"reject-dialog",item:this.state.item,onReject:this.rejectData}),r.createElement(l,{ref:"create-dialog",title:"榜单报名",items:[{field:"activityId",name:"榜单活动",type:"select",options:[{name:"请选择",value:""}].concat(a(t)),required:!0},{field:"qbname",name:"用户名或微信昵称",maxLength:16,required:!0},{field:"nickName",name:"昵称",maxLength:16,required:!0},{type:"number",field:"telephone",max:2e10,name:"手机号",required:!0},{type:"textarea",field:"declaration",maxLength:20,name:"主题宣言",required:!0},{type:"textarea",field:"introduce",name:"个人介绍",maxLength:200,required:!0},{field:"iconImg",urlField:"iconImg",keepUrlField:!0,name:"主题图片",type:"image",uploadUrl:"http://wxba.qbao.com/photo/upload.html",uploadField:"files",required:!0},{field:"userImg1",urlField:"userImg1",keepUrlField:!0,name:"用户图片1",type:"image",uploadUrl:"http://wxba.qbao.com/photo/upload.html",uploadField:"files"},{field:"userImg2",urlField:"userImg2",keepUrlField:!0,name:"用户图片2",type:"image",uploadUrl:"http://wxba.qbao.com/photo/upload.html",uploadField:"files"},{field:"userImg3",urlField:"userImg3",keepUrlField:!0,name:"用户图片3",type:"image",uploadUrl:"http://wxba.qbao.com/photo/upload.html",uploadField:"files"},{field:"userImg4",urlField:"userImg4",keepUrlField:!0,name:"用户图片4",type:"image",uploadUrl:"http://wxba.qbao.com/photo/upload.html",uploadField:"files"},{field:"userImg5",urlField:"userImg5",keepUrlField:!0,name:"用户图片5",type:"image",uploadUrl:"http://wxba.qbao.com/photo/upload.html",uploadField:"files"}],onCheck:this.checkInput,onCreate:this.createData,onUpdate:this.updateData}))}});e.exports=y},function(e,t,n){"use strict";var a=n(1),r=n(272),i=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDefaultItem:function(){return{qbname:"",activityId:"",nickName:"",telephone:"",introduce:"",declaration:"",iconImg:"",userImg1:"",userImg2:"",userImg3:"",userImg4:"",userImg5:""}},getFilter:function(){return{title:"",votes:[],voteId:""}},onQueryCompleted:function(e){e.list=e.list.map(function(e){var t=e.bdSignInfo;return Object.assign(t,e.bdSignSummaryInfo)}),this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(14),o=(n(2),n(7)),s=n(13),l=n(630),u=n(273),c=n(9),d=a.createClass({displayName:"EditDialog",mixins:[a.addons.LinkedStateMixin],getInitialState:function(){return l.getDefaultItem()},handleConfirm:function(e){e.preventDefault(),"create"===this.state.mode?this.props.onCreate(this.state):this.props.onUpdate(this.state),$(a.findDOMNode(this.refs["edit-dialog"])).modal("hide")},create:function(){this.setState($.extend(l.getDefaultItem(),{mode:"create"}),function(){$(a.findDOMNode(this.refs["edit-dialog"])).modal("show")})},update:function(e){this.setState($.extend(e,{mode:"update"}),function(){$(a.findDOMNode(this.refs["edit-dialog"])).modal("show")}.bind(this))},queryData:function(e){gActions.query({data:e.data,filter:this.state.filter})},render:function(){return a.createElement("div",{className:"modal fade",ref:"edit-dialog"},a.createElement("div",{className:"modal-dialog modal-lg"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},a.createElement("span",null,"×")),a.createElement("h4",{className:"modal-title"},"推文审核")),a.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"推文驳回原因"),a.createElement("div",{className:"col-sm-10"},a.createElement("textarea",{className:"form-control",required:!0,valueLink:this.linkState("result")})))),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),a.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}),m=a.createClass({displayName:"DataFilter",mixins:[a.addons.LinkedStateMixin],getInitialState:function(){return l.getFilter()},render:function(){return a.createElement("div",{className:"data-filter"},a.createElement("div",{className:"box-header"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"消息状态"),a.createElement("select",{className:"form-control",valueLink:this.linkState("status")},a.createElement("option",{value:"0"},"全部"),a.createElement("option",{value:"1"},"待审核"),a.createElement("option",{value:"2"},"已通过"),a.createElement("option",{value:"3"},"未通过"))),a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"公众账号或ID"),a.createElement("input",{disabled:!0,className:"form-control",type:"text",valueLink:this.linkState("id"),placeholder:"公众账号或ID"})),a.createElement("div",{className:"col-sm-offset-3 col-sm-3"},a.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询"))))}}),f=a.createClass({displayName:"SignMessage",mixins:[r.connect(l,"data"),i.State],getInitialState:function(){return{data:l.getDefaultData(),filter:l.getFilter()}},componentWillMount:function(){this.state.userName=this.getQuery().userName},showCreate:function(){this.refs.dialog.create()},showUpdate:function(e){this.refs.dialog.update(e)},setWeight:function(e){this.refs["weight-dialog"].update(e)},showDelete:function(e){c.warning({message:"是否移除推文 "+e.items[0].title,onConfirm:this.deleteData.bind(null,e)})},createData:function(e){u.create({item:e,filter:this.state.filter,data:this.state.data})},queryData:function(e){u.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter,userName:this.state.userName})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},acceptData:function(e){u.accept({item:e,filter:this.state.filter,data:this.state.data,userName:this.state.userName})},updateData:function(e){u.reject({item:e,filter:this.state.filter,data:this.state.data,userName:this.state.userName})},deleteData:function(e){u["delete"]({item:e,filter:this.state.filter,data:this.state.data,userName:this.state.userName})},weightData:function(e){u.setWeight({item:e,filter:this.state.filter,data:this.state.data,userName:this.state.userName})},render:function(){return a.createElement("div",{className:"box"},a.createElement(m,{onFilterData:this.filterData,onCreateData:this.showCreate}),a.createElement(o,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"封面图片",value:function(e){return a.createElement("div",null,e.items.map(function(e,t){return a.createElement("p",{key:t},a.createElement("img",{className:"preview",src:e.img_url}))}))},field:"img_url"},{name:"标题",value:function(e){return a.createElement("div",null,e.items.map(function(t,n){return a.createElement("p",{key:n},a.createElement("a",{href:e.items[n].url,target:"_blank"},e.items[n].title))}))},field:"title"},{name:"公众号名称",field:"pName"},{name:"公众号账号",field:"pId"},{name:"发送日期",field:"t"},{name:"权重",field:"weight"},{name:"状态",field:"statusDesc"},{name:"不通过原因",field:"result"},{name:"审核人",field:"cm"},{name:"审核时间",field:"ct"}],operations:[{name:"通过",icon:"success",disabled:function(e){return 1===e.del||1!==e.status},callback:this.acceptData},{name:"驳回",icon:"warning",disabled:function(e){return 1===e.del||1!==e.status},callback:this.showUpdate},{name:"移除",icon:"danger",disabled:function(e){return 1===e.del},callback:this.showDelete},{name:"设置权重",icon:"primary",disabled:function(e){return 2!==e.status},callback:this.setWeight}]}),a.createElement(d,{ref:"dialog",item:this.state.item,onCreate:this.createData,onUpdate:this.updateData}),a.createElement(s,{ref:"weight-dialog",title:"权重",small:!0,items:[{type:"number",field:"weight",name:"权重",min:1,max:100,required:!0}],onUpdate:this.weightData}))}});e.exports=f},function(e,t,n){"use strict";var a=n(1),r=n(273),i={0:"未知",1:"待审核",2:"审核通过",3:"不通过"},o=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:10,currentPage:0}},getDefaultItem:function(){return{categoryId:0,title:"",folderUrl:"",author:"",outsideUrl:"",txt:""}},getFilter:function(){return{title:"",status:1}},onQueryCompleted:function(e){e.list.forEach(function(e){$.extend(e,e.res,{statusDesc:i[e.res.status],id:e.tid})}),this.trigger(e)}});e.exports=o},function(e,t,n){"use strict";var a={AccountAudit:n(599),InfoChange:n(605),PushMessageAudit:n(618),CustomerReport:n(601),SignMessage:n(629),PushMessage:n(617),RankingBanner:n(625),RankingActivity:n(621),RankingActivityDetail:n(622),RankingRegistration:n(627),MaterialAudit:n(613),MaterialHot:n(615),InteractivePrototype:n(611),InteractiveActivities:n(607),InteractiveAudit:n(609),GroupList:n(603)};e.exports=a},function(e,t,n){"use strict";var a=n(1),r=n(274),i=a.createStore({listenables:r,getDefaultData:function(){return[]},onQueryCompleted:function(e){this.trigger(e.list)}});e.exports=i},function(e,t,n){"use strict";var a=n(5),r=n(275),i=n(634),o=n(27),s=n(31),l=n(2),u=n(23);n(33);var c=[{id:1,label:"Some Awesome Label 1",x:"a"},{id:2,label:"Some Awesome Label 2",x:"b"},{id:3,label:"Some Awesome Label 3",x:"c"},{id:4,label:"Some Awesome Label 4",x:"d"},{id:5,label:"Some Awesome Label 5",x:"e"},{id:6,label:"Some Awesome Label 6",x:"f"},{id:7,label:"Some Awesome Label 7",x:"g"},{id:8,label:"Some Awesome Label 8",x:"h"}],d=a.createClass({displayName:"SortableItem",render:function(){return a.createElement("li",{className:this._classNames()},a.createElement("strong",null,this.props.label)," - ",this.props.x,a.createElement("span",{ref:"drag"},"Drag Handle"))},_classNames:function(){return o({item:!0,over:this.props.isOver})}}),m=a.createClass({displayName:"ResetPassword",mixins:[a.addons.LinkedStateMixin],getInitialState:function(){return $.extend({},i.getDefaultData(),{collection1:c,collection2:Array.prototype.slice.call(c)})},handleConfirm:function(e){e.preventDefault();var t=new FormData(a.findDOMNode(this.refs["edit-form"]));r.reset({item:t}),this.setState({password:"",newPassword:""})},componentDidMount:function(){var e=u.cookie.load(l.constants.STORAGE_KEY);e&&this.setState({showUserName:e.userName,userName:e.userName})},render:function(){return a.createElement("div",{className:"modal-content"},a.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},a.createElement("input",{type:"hidden",name:"userName",valueLink:this.linkState("userName")}),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"帐号"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control input-role",type:"text",required:!0,disabled:!0,name:"showUserName",maxLength:"50",valueLink:this.linkState("showUserName")}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"原密码"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control input-role",type:"text",required:!0,name:"password",maxLength:"50",valueLink:this.linkState("password")}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"新密码"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control input-role",type:"text",required:!0,name:"newPassword",maxLength:"50",valueLink:this.linkState("newPassword")}))),a.createElement("div",{className:"form-group sortedCollection hidden"},a.createElement(s,{container:"ol",collection:this.state.collection1,onSorted:this._handleSorted1},a.createElement(d,null)))),a.createElement("div",{className:"modal-footer"},a.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))},_handleSorted1:function(e){this.setState({collection1:e})}});e.exports=m},function(e,t,n){"use strict";var a=n(1),r=n(275),i=n(3),o=n(2),s=n(8),l=new a.createStore({listenables:r,getDefaultData:function(){return{showUserName:"",userName:"",password:"",newPassword:""}},onReset:function(e){var t=o.domain.market+"/userManager/updatePwd",n=e.item,a=function(e){1e3===e.responseCode?i.success({message:"修改密码成功"}):i.fail({message:e.errorMsg})};s(t,n,a)}});e.exports=l},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(14),o=(n(4),n(7)),s=n(9),l=n(3),u=n(2),c=n(276),d=n(136),m=n(274),f=n(632),p=n(134),h=n(87),g=n(23);n(178);var v=a.createClass({displayName:"EditDialog",mixins:[a.addons.LinkedStateMixin,r.connect(f,"data")],getInitialState:function(){return $.extend({},c.getDefaultItem(),{data:f.getDefaultData()})},handleConfirm:function(e){e.preventDefault();var t=new FormData(a.findDOMNode(this.refs["edit-form"])),n=g.getSelectedTraverseNodes(this.state.data);return 0===n.length?void l.warning({message:"请选择权限"}):(t.append("menuIds",n.join(",")),"create"===this.state.mode?this.props.onCreate(t):this.props.onUpdate(t),void $(a.findDOMNode(this.refs["edit-dialog"])).modal("hide"))},create:function(){this.setState($.extend({},c.getDefaultItem(),{mode:"create"}),function(){var e=g.traverseNodes(this.state.data,[]);h.update(e),this.dialog.modal("show")})},update:function(e){this.setState($.extend({},e,{mode:"update"}),function(){var e=[];this.state.menuIds&&(e=this.state.menuIds.split(","));var t=g.traverseNodes(this.state.data,e);h.update(t),this.dialog.modal("show")}.bind(this))},componentDidMount:function(){var e=g.cookie.load(u.constants.STORAGE_KEY);e&&m.query({data:{parent:e.platform}}),this.dialog=$(a.findDOMNode(this.refs["edit-dialog"]))},render:function(){return a.createElement("div",{className:"modal fade",ref:"edit-dialog"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},a.createElement("span",null,"×")),a.createElement("h4",{className:"modal-title"},"create"===this.state.mode?"新增角色":"编辑角色")),a.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},"create"===this.state.mode?"":a.createElement("input",{type:"hidden",value:this.state.roleId,name:"roleId"}),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"角色名称"),a.createElement("div",{className:"col-sm-10"},"create"===this.state.mode?a.createElement("input",{className:"form-control input-role",type:"text",required:!0,name:"name",maxLength:"50",valueLink:this.linkState("name")}):a.createElement("input",{className:"form-control input-role",type:"text",required:!0,disabled:!0,name:"name",maxLength:"50",valueLink:this.linkState("name")}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"权限"),a.createElement("div",{className:"col-sm-10"},a.createElement(p,{data:this.state.data})))),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),a.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}),y=a.createClass({displayName:"DataFilter",mixins:[a.addons.LinkedStateMixin],getInitialState:function(){return $.extend({},c.getFilter())},render:function(){return a.createElement("div",{className:"data-filter"},a.createElement("div",{className:"box-header"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",null,"角色名称"),a.createElement("input",{type:"text",className:"form-control",placeholder:"角色名称",valueLink:this.linkState("name")})),a.createElement("div",{className:"col-sm-3 col-sm-offset-3"},a.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询")),a.createElement("div",{className:"col-sm-3"},a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.props.onCreateData},"新增"))))}}),b=a.createClass({displayName:"Role",mixins:[r.connect(c,"data"),i.Navigation],getInitialState:function(){return{data:c.getDefaultData(),filter:c.getFilter()}},showCreate:function(){this.refs.dialog.create()},showUpdate:function(e){$.extend(e,{name:e.roleName}),this.refs.dialog.update(e)},showDelete:function(e){s.warning({message:"是否删除"+e.roleName+"角色",onConfirm:this.deleteData.bind(null,e)})},createData:function(e){d.create({item:e,filter:this.state.filter,data:this.state.data})},queryData:function(e){d.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},updateData:function(e){d.update({item:e,filter:this.state.filter,data:this.state.data})},deleteData:function(e){d["delete"]({item:e,filter:this.state.filter,data:this.state.data})},render:function(){return a.createElement("div",{className:"box"},a.createElement(y,{onFilterData:this.filterData,onCreateData:this.showCreate}),a.createElement(o,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"roleId"},{name:"角色",field:"roleName"},{name:"关联功能",field:"menuNames"}],operations:[{name:"编辑",icon:"primary",callback:this.showUpdate},{name:"删除",icon:"danger",callback:this.showDelete}]}),a.createElement(v,{ref:"dialog",item:this.state.item,onCreate:this.createData,onUpdate:this.updateData}))}});e.exports=b},function(e,t,n){"use strict";var a={Role:n(635),User:n(637),ModifyPassword:n(633),MenuManage:n(639)};e.exports=a},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(14),o=(n(4),n(7)),s=n(9),l=n(3),u=(n(2),n(638)),c=n(277),d=n(136),m=n(276),f=n(134),p=n(87),h=n(23);n(178);var g=a.createClass({displayName:"EditDialog",mixins:[a.addons.LinkedStateMixin,r.connect(m,"data")],getInitialState:function(){return $.extend({},u.getDefaultItem(),{data:m.getDataList()})},handleConfirm:function(e){e.preventDefault();var t=new FormData(a.findDOMNode(this.refs["edit-form"])),n=h.getSelectedTraverseNodes(this.state.data);return 0===n.length?void l.warning({message:"请选择角色"}):(t.append("roleIds",n.join(",")),"create"===this.state.mode?this.props.onCreate(t):this.props.onUpdate(t),void $(a.findDOMNode(this.refs["edit-dialog"])).modal("hide"))},create:function(){this.setState($.extend({},u.getDefaultItem(),{mode:"create"}),function(){var e=h.traverseNodes(this.state.data,[]);p.update(e),this.dialog.modal("show")})},update:function(e){this.setState($.extend({},e,{mode:"update"}),function(){var e=this.state.roles.split(","),t=h.traverseNodes(this.state.data,e);p.update(t),this.dialog.modal("show")}.bind(this));
},componentDidMount:function(){d.queryTree(),this.dialog=$(a.findDOMNode(this.refs["edit-dialog"]))},render:function(){return a.createElement("div",{className:"modal fade",ref:"edit-dialog"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},a.createElement("span",null,"×")),a.createElement("h4",{className:"modal-title"},"create"===this.state.mode?"新增帐户":"编辑帐户")),a.createElement("form",{ref:"edit-form",className:"form-horizontal",onSubmit:this.handleConfirm},"create"===this.state.mode?"":a.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"帐号"),a.createElement("div",{className:"col-sm-10"},"create"===this.state.mode?a.createElement("input",{className:"form-control input-role",type:"text",required:!0,name:"userName",maxLength:"50",valueLink:this.linkState("userName")}):a.createElement("input",{className:"form-control input-role",type:"text",required:!0,disabled:!0,name:"userName",maxLength:"50",valueLink:this.linkState("userName")}))),"update"===this.state.mode?"":a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"密码"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control input-role",type:"text",required:!0,name:"password",maxLength:"50",valueLink:this.linkState("password")}))),"update"===this.state.mode?"":a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"邮箱"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control input-role",type:"text",required:!0,name:"email",maxLength:"50",valueLink:this.linkState("email")}))),"update"===this.state.mode?"":a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"手机号码"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{className:"form-control input-role",type:"text",required:!0,name:"mobile",maxLength:"50",valueLink:this.linkState("mobile")}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"角色"),a.createElement("div",{className:"col-sm-10"},a.createElement(f,{data:this.state.data})))),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"取消"),a.createElement("input",{type:"submit",className:"btn btn-primary",value:"确认"}))))))}}),v=a.createClass({displayName:"DataFilter",mixins:[a.addons.LinkedStateMixin],getInitialState:function(){return $.extend({},u.getFilter())},render:function(){return a.createElement("div",{className:"data-filter"},a.createElement("div",{className:"box-header"},a.createElement("div",{className:"col-sm-3 col-sm-offset-3"},a.createElement("button",{className:"btn btn-info btn-block",onClick:this.props.onFilterData.bind(null,this.state)},"查询")),a.createElement("div",{className:"col-sm-3"},a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.props.onCreateData},"新增"))))}}),y=a.createClass({displayName:"User",mixins:[r.connect(u,"data"),i.Navigation],getInitialState:function(){return{data:u.getDefaultData(),filter:u.getFilter()}},showCreate:function(){this.refs.dialog.create()},showUpdate:function(e){$.extend(e,{userName:e.username}),this.refs.dialog.update(e)},showDelete:function(e){s.warning({message:"是否删除"+e.username+"角色",onConfirm:this.deleteData.bind(null,e)})},createData:function(e){c.create({item:e,filter:this.state.filter,data:this.state.data})},queryData:function(e){c.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},filterData:function(e){this.setState({filter:e},function(){this.queryData({currentPage:0})}.bind(this))},updateData:function(e){c.update({item:e,filter:this.state.filter,data:this.state.data})},deleteData:function(e){c["delete"]({item:e,filter:this.state.filter,data:this.state.data})},render:function(){return a.createElement("div",{className:"box"},a.createElement(v,{onFilterData:this.filterData,onCreateData:this.showCreate}),a.createElement(o,{onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"帐户",field:"username"},{name:"角色",field:"name"}],operations:[{name:"编辑",icon:"primary",callback:this.showUpdate},{name:"删除",icon:"danger",callback:this.showDelete}]}),a.createElement(g,{ref:"dialog",item:this.state.item,onCreate:this.createData,onUpdate:this.updateData}))}});e.exports=y},function(e,t,n){"use strict";var a=n(1),r=n(277),i=a.createStore({listenables:r,getDefaultData:function(){return{list:[],totalCount:0,perPage:15,currentPage:0}},getDefaultItem:function(){return{id:0,userName:"",password:"",mobile:"",email:""}},getFilter:function(){return{name:""}},onQueryCompleted:function(e){this.trigger(e)}});e.exports=i},function(e,t,n){"use strict";var a,r=n(5),i=n(278),o=n(640),s=n(7),l=n(12),u=n(34),c=(n(45),n(4)),d=n(9),m=(n(3),n(2),[{name:"是",value:0},{name:"否",value:1}]),f=[{name:"不启用",value:0},{name:"启用",value:1}],p=0,h=function(e){var t=function(t,n){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e,t){var n=e.filter(function(e){return e.value===t}),a={};return n.length>0&&(a=n[0]),-1!==a.parent&&a.parent?p++>10?-1:h(e,a.parent):a.value?a.value:-1});a=r.createClass({displayName:"MenuManage",getInitialState:function(){return{data:c.assign(o.getDefaultData(),{list:[]}),filter:o.getDefaultFilter(),item:o.getDefaultItem(),parentList:[],platformList:[]}},componentDidMount:function(){var e=this;this.unsubscribe=o.listen(function(t){if("list"===t.type){var n=t.data;e.setState({data:n})}else if("listAll"===t.type){var n=t.data;e.setState({parentList:n.list.map(function(e){return{name:e.name,value:e.id,parent:e.parent}}),platformList:n.list.filter(function(e){return-1===e.parent}).map(function(e){return{name:e.name,value:e.id,parent:e.parent}})})}else"create"===t.type&&t.data&&e.refs.dialog.hide()}),i.queryAll()},componentWillUnMount:function(){this.unsubscribe(),this.platformunsubscribe()},filterData:function(e){this.setState({filter:e},function(){i.query({data:c.assign(this.state.data,{currentPage:0}),filter:this.state.filter})}.bind(this))},queryData:function(e){i.query({data:$.extend(this.state.data,{currentPage:e.currentPage}),filter:this.state.filter})},create:function(){var e=this;this.setState({item:o.getDefaultItem()},function(){e.refs.dialog.show()})},update:function(e){var t=this,n=e.parent,a=h(this.state.parentList,n);this.setState({item:c.assign(e,{platform:a,parent:n})},function(){t.refs.dialog.show()})},"delete":function(e){var t=this;d.warning({message:"确认删除？",onConfirm:function(){i["delete"](t.state,e.id)}})},handleConfirm:function(e){e.preventDefault();var t=this.state.item;-1!==t.platform&&-1===t.parent&&(t.parent=t.platform),t.id?i.update(this.state,t):i.create(this.state,t)},back:function(){this.refs.dialog.hide()},render:function(){var e=this;return r.createElement("div",{className:"box"},r.createElement(l,{filters:[{name:"功能名称",field:"menuName"}],onFilterData:this.filterData,onCreateData:this.create}),r.createElement(s,{ref:"table",onLoadPage:this.queryData,data:this.state.data,dataMap:[{name:"ID",field:"id"},{name:"功能名称",field:"name"},{name:"URL",field:"url"},{name:"是否启用",field:"enableDesc"},{name:"是否页子",field:"isLeafDesc"},{name:"父菜单ID",field:"parent"},{name:"父菜单",field:"parentDesc"},{name:"排序",field:"seq"}],operations:[{name:"编辑",icon:"primary",callback:this.update},{name:"删除",icon:"danger",callback:this["delete"]}]}),r.createElement(u,{ref:"dialog",title:"菜单编辑"},r.createElement("div",{className:"box"},r.createElement("div",{className:"box-header with-border"},r.createElement("h4",null,this.state.item.id?"修改":"添加")),r.createElement("form",{ref:"edit-form",onSubmit:this.handleConfirm},"create"===this.state.mode?"":r.createElement("input",{type:"hidden",value:this.state.id,name:"id"}),r.createElement("div",{className:"box-body"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"平台"),r.createElement("select",{className:"form-control",value:this.state.item.platform,required:!0,onChange:function(t){e.setState({item:c.assign(e.state.item,{platform:t.target.value})})}},[{name:"请选择",value:null}].concat(this.state.platformList).map(function(e){return r.createElement("option",{value:e.value},e.name)})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"父级菜单"),r.createElement("select",{className:"form-control",value:this.state.item.parent,required:!0,onChange:function(t){e.setState({item:c.assign(e.state.item,{parent:t.target.value})})}},[{name:"请选择",value:null}].concat(c.filter(this.state.parentList,function(t){return-1===t.parent?!1:t.parent===parseInt(e.state.item.platform)})).map(function(e){return r.createElement("option",{value:e.value},e.name)})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"功能名称"),r.createElement("input",{type:"text",className:"form-control",name:"name",required:!0,value:this.state.item.name,onChange:function(t){e.setState({item:c.assign(e.state.item,{name:t.target.value})})}}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"URL"),r.createElement("input",{type:"text",className:"form-control",name:"url",value:this.state.item.url,onChange:function(t){e.setState({item:c.assign(e.state.item,{url:t.target.value})})}}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"是否页子"),r.createElement("select",{className:"form-control",value:this.state.item.isLeaf,required:!0,onChange:function(t){e.setState({item:c.assign(e.state.item,{isLeaf:t.target.value})})}},m.map(function(e,t){return r.createElement("option",{key:"IsLeaf_"+t,value:e.value},e.name)})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"是否启用"),r.createElement("select",{className:"form-control",value:this.state.item.enable,required:!0,onChange:function(t){e.setState({item:c.assign(e.state.item,{enable:t.target.value})})}},f.map(function(e,t){return r.createElement("option",{key:"enable_"+t,value:e.value},e.name)})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12 form-group"},r.createElement("label",null,"排序"),r.createElement("input",{type:"text",className:"form-control",name:"seq",value:this.state.item.seq,onChange:function(t){e.setState({item:c.assign(e.state.item,{seq:t.target.value})})}})))),r.createElement("div",{className:"box-footer"},r.createElement("div",{className:"row"},r.createElement("input",{type:"submit",className:"btn btn-primary col-sm-offset-2 col-sm-3",value:"提交"}),r.createElement("input",{type:"button",className:"btn btn-info col-sm-offset-2 col-sm-3",value:"取消",onClick:this.back})))))))}}),e.exports=a},function(e,t,n){"use strict";var a,r=n(1),i=n(278),o=n(4),s=n(16),l=n(8),u=(n(2),n(3));a=r.createStore({listenables:i,getDefaultData:function(){return s.dataTable()},getDefaultFilter:function(){return{menuName:"",isPage:!0}},getDefaultItem:function(){return{id:null,name:"",url:"",platform:-1,parent:-1,enable:1,isLeaf:1,seq:null}},getPickFiled:function(){return["name","url","parent","enable","isLeaf","seq"]},createOrUpdate:function(e,t,n){var a=this,r="菜单创建成功",s="/menu/addOrEditMenu";"update"===t&&(r="菜单修改成功"),"update"!==t&&o.assign(n,{data:o.assign(n.data,{currentPage:0})});var c=function(e){a.trigger({type:"create",data:!0}),u.success({message:r}),setTimeout(function(){i.query(n),i.queryAll()},200)};l(s,e,c)},onQuery:function(e){var t=this,n="/menu/selectMenuPageByParam",a=function(n){t.trigger({type:"list",filter:e.filter,data:{list:n.data.list,totalCount:n.data.totalCount,perPage:e.data.perPage,currentPage:e.data.currentPage}})},r=e.filter;r=o.assign(r,{pageNo:e.data.currentPage+1,pageSize:e.data.perPage}),l(n,r,a,"GET")},onQueryAll:function(){var e=this,t="/menu/selectMenuPageByParam",n=function(t){e.trigger({type:"listAll",data:{list:t.data.list}})},a={};a=o.assign(a,{pageNo:1,pageSize:15,isPage:!1}),l(t,a,n,"GET")},onDelete:function(e,t){var n="/menu/deleteMenuById",a={menuId:t},r=function(t){u.success({message:"已删除"}),i.query(e),i.queryAll()};l(n,a,r)},onCreate:function(e,t){var n=e,a=o.pick(t,this.getPickFiled());this.createOrUpdate(a,"",n)},onUpdate:function(e,t){var n=e,a=o.pick(t,this.getPickFiled().concat(["id"]));this.createOrUpdate(a,"update",n)}}),e.exports=a},function(e,t,n){(function(e){"use strict";if(e._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");e._babelPolyfill=!0,n(644),n(902)}).call(t,function(){return this}())},function(e,t,n){e.exports=n(641)},function(e,t,n){var a=function(e,t,n){n=n||{};var a=n.encode||i,r=[e+"="+a(t)];if(null!=n.maxAge){var o=n.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");r.push("Max-Age="+o)}return n.domain&&r.push("Domain="+n.domain),n.path&&r.push("Path="+n.path),n.expires&&r.push("Expires="+n.expires.toUTCString()),n.httpOnly&&r.push("HttpOnly"),n.secure&&r.push("Secure"),r.join("; ")},r=function(e,t){t=t||{};var n={},a=e.split(/; */),r=t.decode||o;return a.forEach(function(e){var t=e.indexOf("=");if(!(0>t)){var a=e.substr(0,t).trim(),i=e.substr(++t,e.length).trim();if('"'==i[0]&&(i=i.slice(1,-1)),void 0==n[a])try{n[a]=r(i)}catch(o){n[a]=i}}}),n},i=encodeURIComponent,o=decodeURIComponent;e.exports.serialize=a,e.exports.parse=r},function(e,t,n){!function(t,n,a){"use strict";function r(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function i(e){return"function"==typeof e}function o(e,t,n){e&&!gt(e=n?e:e[ve],qt)&&Pt(e,qt,t)}function s(e){return rt.call(e).slice(8,-1)}function l(e){var t,n;return e==a?e===a?"Undefined":"Null":"string"==typeof(n=(t=Se(e))[qt])?n:s(t)}function u(){for(var e=T(this),t=arguments.length,n=xe(t),a=0,r=Ft._,i=!1;t>a;)(n[a]=arguments[a++])===r&&(i=!0);return function(){var a,o=this,s=arguments.length,l=0,u=0;if(!i&&!s)return d(e,n,o);if(a=n.slice(),i)for(;t>l;l++)a[l]===r&&(a[l]=arguments[u++]);for(;s>u;)a.push(arguments[u++]);return d(e,a,o)}}function c(e,t,n){if(T(e),~n&&t===a)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,r){return e.call(t,n,a,r)}}return function(){return e.apply(t,arguments)}}function d(e,t,n){var r=n===a;switch(0|t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);case 5:return r?e(t[0],t[1],t[2],t[3],t[4]):e.call(n,t[0],t[1],t[2],t[3],t[4])}return e.apply(n,t)}function m(e){return vt(x(e))}function f(e){return e}function p(){return this}function h(e,t){return gt(e,t)?e[t]:void 0}function g(e){return L(e),pt?ft(e).concat(pt(e)):ft(e)}function v(e,t){for(var n,a=m(e),r=mt(a),i=r.length,o=0;i>o;)if(a[n=r[o++]]===t)return n}function y(e){return Te(e).split(",")}function b(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,s=5==e||o;return function(l){for(var u,d,m=Se(x(this)),f=arguments[1],p=vt(m),h=c(l,f,3),g=w(p.length),v=0,y=t?xe(g):n?[]:a;g>v;v++)if((s||v in p)&&(u=p[v],d=h(u,v,m),e))if(t)y[v]=d;else if(d)switch(e){case 3:return!0;case 5:return u;case 6:return v;case 2:y.push(u)}else if(i)return!1;return o?-1:r||i?i:y}}function _(e){return function(t){var n=m(this),a=w(n.length),r=N(arguments[1],a);if(e&&t!=t){for(;a>r;r++)if(E(n[r]))return e||r}else for(;a>r;r++)if((e||r in n)&&n[r]===t)return e||r;return!e&&-1}}function D(e,t){return"function"==typeof e?e:t}function E(e){return e!=e}function M(e){return isNaN(e)?0:xt(e)}function w(e){return e>0?Ct(M(e),Dt):0}function N(e,t){var e=M(e);return 0>e?kt(e+t,0):Ct(e,t)}function k(e,t,n){var a=r(t)?function(e){return t[e]}:t;return function(t){return Te(n?t:this).replace(e,a)}}function C(e){return function(t){var n,r,i=Te(x(this)),o=M(t),s=i.length;return 0>o||o>=s?e?"":a:(n=i.charCodeAt(o),55296>n||n>56319||o+1===s||(r=i.charCodeAt(o+1))<56320||r>57343?e?i.charAt(o):n:e?i.slice(o,o+2):(n-55296<<10)+(r-56320)+65536)}}function S(e,t,n){if(!e)throw Re(n?t+n:t)}function x(e){if(e==a)throw Re("Function called on null or undefined");return e}function T(e){return S(i(e),e," is not a function!"),e}function L(e){return S(r(e),e," is not an object!"),e}function P(e,t,n){S(e instanceof t,n,": use the 'new' operator!")}function O(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function I(e,t,n){return e[t]=n,e}function Y(e){return Tt?function(t,n,a){return ct(t,n,O(e,a))}:I}function j(e){return fe+"("+e+")_"+(++Lt+St())[be](36)}function q(e,t){return qe&&qe[e]||(t?qe:It)(fe+nt+e)}function A(e,t){for(var n in t)Pt(e,n,t[n]);return e}function R(e){!Tt||!n&&at(e)||ct(e,At,{configurable:!0,get:p})}function U(e,a,r){var o,s,l,u,d=e&Wt,m=d?t:e&Bt?t[a]:(t[a]||Ze)[ve],f=d?Ut:Ut[a]||(Ut[a]={});d&&(r=a);for(o in r)s=!(e&Vt)&&m&&o in m&&(!i(m[o])||at(m[o])),l=(s?m:r)[o],n||!d||i(m[o])?e&zt&&s?u=c(l,t):e&Gt&&!n&&m[o]==l?(u=function(e){return this instanceof l?new l(e):l(e)},u[ve]=l[ve]):u=e&$t&&i(l)?c(it,l):l:u=r[o],n&&m&&!s&&(d?m[o]=l:delete m[o]&&Pt(m,o,l)),f[o]!=l&&Pt(f,o,u)}function F(e,t){Pt(e,ee,t),we in Xe&&Pt(e,we,t)}function H(e,t,n,a){e[ve]=st(a||Zt,{next:O(1,n)}),o(e,t+" Iterator")}function V(e,t,a,r){var i=e[ve],s=h(i,ee)||h(i,we)||r&&h(i,r)||a;if(n&&(F(i,s),s!==a)){var l=lt(s.call(new e));o(l,t+" Iterator",!0),gt(i,we)&&F(l,p)}return Xt[t]=s,Xt[t+" Iterator"]=p,s}function W(e,t,n,a,r,i){function o(e){return function(){return new n(this,e)}}H(n,t,a);var s=o(Jt+Kt),l=o(Kt);r==Kt?l=V(e,t,l,"values"):s=V(e,t,s,"entries"),r&&U($t+Vt*en,t,{entries:s,keys:i?l:o(Jt),values:l})}function B(e,t){return{value:t,done:!!e}}function $(e){var n=Se(e),a=t[fe],r=(a&&a[Me]||we)in n;return r||ee in n||gt(Xt,l(n))}function z(e){var n=t[fe],a=e[n&&n[Me]||we],r=a||e[ee]||Xt[l(e)];return L(r.call(e))}function G(e,t,n){return n?d(e,t):e(t)}function Q(e){var t=!0,n={next:function(){throw 1},"return":function(){t=!1}};n[ee]=p;try{e(n)}catch(a){}return t}function J(e){var t=e["return"];t!==a&&t.call(e)}function K(e,t){try{e(t)}catch(n){throw J(t),n}}function X(e,t,n,a){K(function(e){for(var r,i=c(n,a,t?2:1);!(r=e.next()).done;)if(G(i,r.value,t)===!1)return J(e)},z(e))}var Z,ee,te,ne="Object",ae="Function",re="Array",ie="String",oe="Number",se="RegExp",le="Date",ue="Map",ce="Set",de="WeakMap",me="WeakSet",fe="Symbol",pe="Promise",he="Math",ge="Arguments",ve="prototype",ye="constructor",be="toString",_e=be+"Tag",De="hasOwnProperty",Ee="forEach",Me="iterator",we="@@"+Me,Ne="process",ke="createElement",Ce=t[ae],Se=t[ne],xe=t[re],Te=t[ie],Le=t[oe],Pe=t[se],Oe=(t[le],t[ue]),Ie=t[ce],Ye=t[de],je=t[me],qe=t[fe],Ae=t[he],Re=t.TypeError,Ue=t.RangeError,Fe=t.setTimeout,He=t.setImmediate,Ve=t.clearImmediate,We=t.parseInt,Be=t.isFinite,$e=t[Ne],ze=$e&&$e.nextTick,Ge=t.document,Qe=Ge&&Ge.documentElement,Je=(t.navigator,t.define),Ke=t.console||{},Xe=xe[ve],Ze=Se[ve],et=Ce[ve],tt=1/0,nt=".",at=c(/./.test,/\[native code\]\s*\}\s*$/,1),rt=Ze[be],it=et.call,ot=et.apply,st=Se.create,lt=Se.getPrototypeOf,ut=Se.setPrototypeOf,ct=Se.defineProperty,dt=(Se.defineProperties,Se.getOwnPropertyDescriptor),mt=Se.keys,ft=Se.getOwnPropertyNames,pt=Se.getOwnPropertySymbols,ht=Se.isFrozen,gt=c(it,Ze[De],2),vt=Se,yt=Se.assign||function(e,t){for(var n=Se(x(e)),a=arguments.length,r=1;a>r;)for(var i,o=vt(arguments[r++]),s=mt(o),l=s.length,u=0;l>u;)n[i=s[u++]]=o[i];return n},bt=Xe.push,_t=(Xe.unshift,Xe.slice,Xe.splice,Xe.indexOf,Xe[Ee]),Dt=9007199254740991,Et=Ae.pow,Mt=Ae.abs,wt=Ae.ceil,Nt=Ae.floor,kt=Ae.max,Ct=Ae.min,St=Ae.random,xt=Ae.trunc||function(e){return(e>0?Nt:wt)(e)},Tt=!!function(){try{return 2==ct({},"a",{get:function(){return 2}}).a}catch(e){}}(),Lt=0,Pt=Y(1),Ot=qe?I:Pt,It=qe||j,Yt=q("unscopables"),jt=Xe[Yt]||{},qt=q(_e),At=q("species"),Rt=s($e)==Ne,Ut={},Ft=n?t:Ut,Ht=t.core,Vt=1,Wt=2,Bt=4,$t=8,zt=16,Gt=32;"undefined"!=typeof e&&e.exports?e.exports=Ut:i(Je)&&Je.amd?Je(function(){return Ut}):te=!0,(te||n)&&(Ut.noConflict=function(){return t.core=Ht,Ut},t.core=Ut),ee=q(Me);var Qt=It("iter"),Jt=1,Kt=2,Xt={},Zt={},en="keys"in Xe&&!("next"in[].keys());F(Zt,p),!function(e,n,a,r){at(qe)||(qe=function(t){S(!(this instanceof qe),fe+" is not a "+ye);var n=j(t),i=Ot(st(qe[ve]),e,n);return a[n]=i,Tt&&r&&ct(Ze,n,{configurable:!0,set:function(e){Pt(this,n,e)}}),i},Pt(qe[ve],be,function(){return this[e]})),U(Wt+Gt,{Symbol:qe});var i={"for":function(e){return gt(n,e+="")?n[e]:n[e]=qe(e)},iterator:ee||q(Me),keyFor:u.call(v,n),species:At,toStringTag:qt=q(_e,!0),unscopables:Yt,pure:It,set:Ot,useSetter:function(){r=!0},useSimple:function(){r=!1}};_t.call(y("hasInstance,isConcatSpreadable,match,replace,search,split,toPrimitive"),function(e){i[e]=q(e)}),U(Bt,fe,i),o(qe,fe),U(Bt+Vt*!at(qe),ne,{getOwnPropertyNames:function(e){for(var t,n=ft(m(e)),r=[],i=0;n.length>i;)gt(a,t=n[i++])||r.push(t);return r},getOwnPropertySymbols:function(e){for(var t,n=ft(m(e)),r=[],i=0;n.length>i;)gt(a,t=n[i++])&&r.push(a[t]);return r}}),o(Ae,he,!0),o(t.JSON,"JSON",!0)}(It("tag"),{},{},!0),!function(){var e={assign:yt,is:function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}};"__proto__"in Ze&&function(t,n){try{n=c(it,dt(Ze,"__proto__").set,2),n({},Xe)}catch(a){t=!0}e.setPrototypeOf=ut=ut||function(e,a){return L(e),S(null===a||r(a),a,": can't set as prototype!"),t?e.__proto__=a:n(e,a),e}}(),U(Bt,ne,e)}(),!function(e){e[qt]=nt,s(e)!=nt&&Pt(Ze,be,function(){return"[object "+l(this)+"]"})}({}),!function(){function e(e,t){var n=Se[e],a=Ut[ne][e],i=0,o={};if(!a||at(a)){o[e]=1==t?function(e){return r(e)?n(e):e}:2==t?function(e){return r(e)?n(e):!0}:3==t?function(e){return r(e)?n(e):!1}:4==t?function(e,t){return n(m(e),t)}:function(e){return n(m(e))};try{n(nt)}catch(s){i=1}U(Bt+Vt*i,ne,o)}}e("freeze",1),e("seal",1),e("preventExtensions",1),e("isFrozen",2),e("isSealed",2),e("isExtensible",3),e("getOwnPropertyDescriptor",4),e("getPrototypeOf"),e("keys"),e("getOwnPropertyNames")}(),!function(e){e in et||Tt&&ct(et,e,{configurable:!0,get:function(){var t=Te(this).match(/^\s*function ([^ (]*)/),n=t?t[1]:"";return gt(this,e)||ct(this,e,O(5,n)),n},set:function(t){gt(this,e)||ct(this,e,O(0,t))}})}("name"),Le("0o1")&&Le("0b1")||function(e,n){function a(e){if(r(e)&&(e=o(e)),"string"==typeof e&&e.length>2&&48==e.charCodeAt(0)){var t=!1;switch(e.charCodeAt(1)){case 66:case 98:t=!0;case 79:case 111:return We(e.slice(2),t?2:8)}}return+e}function o(e){var t,n;if(i(t=e.valueOf)&&!r(n=t.call(e)))return n;if(i(t=e[be])&&!r(n=t.call(e)))return n;throw Re("Can't convert object to number")}Le=function s(t){return this instanceof s?new e(a(t)):a(t)},_t.call(Tt?ft(e):y("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY"),function(t){t in Le||ct(Le,t,dt(e,t))}),Le[ve]=n,n[ye]=Le,Pt(t,oe,Le)}(Le,Le[ve]),!function(e){U(Bt,oe,{EPSILON:Et(2,-52),isFinite:function(e){return"number"==typeof e&&Be(e)},isInteger:e,isNaN:E,isSafeInteger:function(t){return e(t)&&Mt(t)<=Dt},MAX_SAFE_INTEGER:Dt,MIN_SAFE_INTEGER:-Dt,parseFloat:parseFloat,parseInt:We})}(Le.isInteger||function(e){return!r(e)&&Be(e)&&Nt(e)===e}),!function(){function e(t){return Be(t=+t)&&0!=t?0>t?-e(-t):r(t+i(t*t+1)):t}function t(e){return 0==(e=+e)?e:e>-1e-6&&1e-6>e?e+e*e/2:a(e)-1}var n=Ae.E,a=Ae.exp,r=Ae.log,i=Ae.sqrt,o=Ae.sign||function(e){return 0==(e=+e)||e!=e?e:0>e?-1:1};U(Bt,he,{acosh:function(e){return(e=+e)<1?NaN:Be(e)?r(e/n+i(e+1)*i(e-1)/n)+1:e},asinh:e,atanh:function(e){return 0==(e=+e)?e:r((1+e)/(1-e))/2},cbrt:function(e){return o(e=+e)*Et(Mt(e),1/3)},clz32:function(e){return(e>>>=0)?32-e[be](2).length:32},cosh:function(e){return(a(e=+e)+a(-e))/2},expm1:t,fround:function(e){return new Float32Array([e])[0]},hypot:function(e,t){for(var n,a=0,r=arguments.length,o=r,s=xe(r),l=-tt;r--;){if(n=s[r]=+arguments[r],n==tt||n==-tt)return tt;n>l&&(l=n)}for(l=n||1;o--;)a+=Et(s[o]/l,2);return l*i(a)},imul:function(e,t){var n=65535,a=+e,r=+t,i=n&a,o=n&r;return 0|i*o+((n&a>>>16)*o+i*(n&r>>>16)<<16>>>0)},log1p:function(e){return(e=+e)>-1e-8&&1e-8>e?e-e*e/2:r(1+e)},log10:function(e){return r(e)/Ae.LN10},log2:function(e){return r(e)/Ae.LN2},sign:o,sinh:function(e){return Mt(e=+e)<1?(t(e)-t(-e))/2:(a(e-1)-a(-e-1))*(n/2)},tanh:function(e){var n=t(e=+e),r=t(-e);return n==tt?1:r==tt?-1:(n-r)/(a(e)+a(-e))},trunc:xt})}(),!function(e){function t(e){if(s(e)==se)throw Re()}U(Bt,ie,{fromCodePoint:function(t){for(var n,a=[],r=arguments.length,i=0;r>i;){if(n=+arguments[i++],N(n,1114111)!==n)throw Ue(n+" is not a valid code point");a.push(65536>n?e(n):e(((n-=65536)>>10)+55296,n%1024+56320))}return a.join("")},raw:function(e){for(var t=m(e.raw),n=w(t.length),a=arguments.length,r=[],i=0;n>i;)r.push(Te(t[i++])),a>i&&r.push(Te(arguments[i]));return r.join("")}}),U($t,ie,{codePointAt:C(!1),endsWith:function(e){t(e);var n=Te(x(this)),r=arguments[1],i=w(n.length),o=r===a?i:Ct(w(r),i);return e+="",n.slice(o-e.length,o)===e},includes:function(e){return t(e),!!~Te(x(this)).indexOf(e,arguments[1])},repeat:function(e){var t=Te(x(this)),n="",a=M(e);if(0>a||a==tt)throw Ue("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n},startsWith:function(e){t(e);var n=Te(x(this)),a=w(Ct(arguments[1],n.length));return e+="",n.slice(a,a+e.length)===e}})}(Te.fromCharCode),!function(){U(Bt+Vt*Q(xe.from),re,{from:function(e){var t,n,r,i=Se(x(e)),o=arguments[1],s=o!==a,l=s?c(o,arguments[2],2):a,u=0;if($(i))n=new(D(this,xe)),K(function(e){for(;!(r=e.next()).done;u++)n[u]=s?l(r.value,u):r.value},z(i));else for(n=new(D(this,xe))(t=w(i.length));t>u;u++)n[u]=s?l(i[u],u):i[u];return n.length=u,n}}),U(Bt,re,{of:function(){for(var e=0,t=arguments.length,n=new(D(this,xe))(t);t>e;)n[e]=arguments[e++];return n.length=t,n}}),R(xe)}(),!function(){U($t,re,{copyWithin:function(e,t){var n=Se(x(this)),r=w(n.length),i=N(e,r),o=N(t,r),s=arguments[2],l=s===a?r:N(s,r),u=Ct(l-o,r-i),c=1;for(i>o&&o+u>i&&(c=-1,o=o+u-1,i=i+u-1);u-->0;)o in n?n[i]=n[o]:delete n[i],i+=c,o+=c;return n},fill:function(e){for(var t=Se(x(this)),n=w(t.length),r=N(arguments[1],n),i=arguments[2],o=i===a?n:N(i,n);o>r;)t[r++]=e;return t},find:b(5),findIndex:b(6)}),n&&(_t.call(y("find,findIndex,fill,copyWithin,entries,keys,values"),function(e){jt[e]=!0}),Yt in Xe||Pt(Xe,Yt,jt))}(),!function(e){W(xe,re,function(e,t){Ot(this,Qt,{o:m(e),i:0,k:t})},function(){var e=this[Qt],t=e.o,n=e.k,r=e.i++;return!t||r>=t.length?(e.o=a,B(1)):n==Jt?B(0,r):n==Kt?B(0,t[r]):B(0,[r,t[r]])},Kt),Xt[ge]=Xt[re],W(Te,ie,function(e){Ot(this,Qt,{o:Te(e),i:0})},function(){var t,n=this[Qt],a=n.o,r=n.i;return r>=a.length?B(1):(t=e.call(a,r),n.i+=t.length,B(0,t))})}(C(!0)),Tt&&!function(e,n){(function(){try{return"/a/i"==Pe(/a/g,"i")}catch(e){}})()||(Pe=function(e,t){return new n(s(e)==se&&t!==a?e.source:e,t)},_t.call(ft(n),function(e){e in Pe||ct(Pe,e,{configurable:!0,get:function(){return n[e]},set:function(t){n[e]=t}})}),e[ye]=Pe,Pe[ve]=e,Pt(t,se,Pe)),"g"!=/./g.flags&&ct(e,"flags",{configurable:!0,get:k(/^.*\/(\w*)$/,"$1")}),R(Pe)}(Pe[ve],Pe),i(He)&&i(Ve)||function(e){function n(e){if(gt(h,e)){var t=h[e];delete h[e],t()}}function a(e){n(e.data)}var r,o,s,l=t.postMessage,m=t.addEventListener,f=t.MessageChannel,p=0,h={};He=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return h[++p]=function(){d(i(e)?e:Ce(e),t)},r(p),p},Ve=function(e){delete h[e]},Rt?r=function(e){ze(u.call(n,e))}:m&&i(l)&&!t.importScripts?(r=function(e){l(e,"*")},m("message",a,!1)):i(f)?(o=new f,s=o.port2,o.port1.onmessage=a,r=c(s.postMessage,s,1)):r=Ge&&e in Ge[ke]("script")?function(t){Qe.appendChild(Ge[ke]("script"))[e]=function(){Qe.removeChild(this),n(t)}}:function(e){Fe(n,0,e)}}("onreadystatechange"),U(Wt+zt,{setImmediate:He,clearImmediate:Ve}),!function(e,t){i(e)&&i(e.resolve)&&e.resolve(t=new e(function(){}))==t||function(t,n){function o(e){var t;return r(e)&&(t=e.then),i(t)?t:!1}function s(e){var t,a=e[n],r=a.c,i=0;if(a.h)return!0;for(;r.length>i;)if(t=r[i++],t.fail||s(t.P))return!0}function l(e,n){var a=e.c;(n||a.length)&&t(function(){var t=e.p,r=e.v,l=1==e.s,u=0;if(n&&!s(t))Fe(function(){s(t)||(Rt?!$e.emit("unhandledRejection",r,t):i(Ke.error)&&Ke.error("Unhandled promise rejection",r))},1e3);else for(;a.length>u;)!function(t){var n,a,i=l?t.ok:t.fail;try{i?(l||(e.h=!0),n=i===!0?r:i(r),n===t.P?t.rej(Re(pe+"-chain cycle")):(a=o(n))?a.call(n,t.res,t.rej):t.res(n)):t.rej(r)}catch(s){t.rej(s)}}(a[u++]);a.length=0})}function u(e){var t,n,a=this;if(!a.d){a.d=!0,a=a.r||a;try{(t=o(e))?(n={r:a,d:!1},t.call(e,c(u,n,1),c(d,n,1))):(a.v=e,a.s=1,l(a))}catch(r){d.call(n||{r:a,d:!1},r)}}}function d(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,l(t,!0))}function m(e){var t=L(e)[At];return t!=a?t:e}e=function(t){T(t),P(this,e,pe);var r={p:this,c:[],s:0,d:!1,v:a,h:!1};Pt(this,n,r);try{t(c(u,r,1),c(d,r,1))}catch(i){d.call(r,i)}},A(e[ve],{then:function(t,r){var o=L(L(this)[ye])[At],s={ok:i(t)?t:!0,fail:i(r)?r:!1},u=s.P=new(o!=a?o:e)(function(e,t){s.res=T(e),s.rej=T(t)}),c=this[n];return c.c.push(s),c.s&&l(c),u},"catch":function(e){return this.then(a,e)}}),A(e,{all:function(e){var t=m(this),n=[];return new t(function(a,r){X(e,!1,bt,n);var i=n.length,o=xe(i);i?_t.call(n,function(e,n){t.resolve(e).then(function(e){o[n]=e,--i||a(o)},r)}):a(o)})},race:function(e){var t=m(this);return new t(function(n,a){X(e,!1,function(e){t.resolve(e).then(n,a)})})},reject:function(e){return new(m(this))(function(t,n){n(e)})},resolve:function(e){return r(e)&&n in e&&lt(e)===this[ve]?e:new(m(this))(function(t,n){t(e)})}})}(ze||He,It("record")),o(e,pe),R(e),U(Wt+Vt*!at(e),{Promise:e})}(t[pe]),!function(){function e(e,t,r,i,s,l){function u(e,t){return t!=a&&X(t,s,e[f],e),e}function c(e,t){var a=p[e];n&&(p[e]=function(e,n){var r=a.call(this,0===e?0:e,n);return t?this:r})}var f=s?"set":"add",p=e&&e[ve],y={};if(at(e)&&(l||!en&&gt(p,Ee)&&gt(p,"entries"))){var _,D=e,E=new e,M=E[f](l?{}:-0,1);Q(function(t){new e(t)})&&(e=function(n){return P(this,e,t),u(new D,n)},e[ve]=p,n&&(p[ye]=e)),l||E[Ee](function(e,t){_=1/t===-tt}),_&&(c("delete"),c("has"),s&&c("get")),(_||M!==E)&&c(f,!0)}else e=l?function(n){P(this,e,t),Ot(this,d,b++),u(this,n)}:function(n){var r=this;P(r,e,t),Ot(r,m,st(null)),Ot(r,v,0),Ot(r,h,a),Ot(r,g,a),u(r,n)},A(A(e[ve],r),i),l||!Tt||ct(e[ve],"size",{get:function(){return x(this[v])}});return o(e,t),R(e),y[t]=e,U(Wt+Gt+Vt*!at(e),y),l||W(e,t,function(e,t){Ot(this,Qt,{o:e,k:t})},function(){for(var e=this[Qt],t=e.k,n=e.l;n&&n.r;)n=n.p;return e.o&&(e.l=n=n?n.n:e.o[g])?t==Jt?B(0,n.k):t==Kt?B(0,n.v):B(0,[n.k,n.v]):(e.o=a,B(1))},s?Jt+Kt:Kt,!s),e}function t(e,t){if(!r(e))return("string"==typeof e?"S":"P")+e;if(ht(e))return"F";if(!gt(e,d)){if(!t)return"E";Pt(e,d,++b)}return"O"+e[d]}function i(e,n){var a,r=t(n);if("F"!=r)return e[m][r];for(a=e[g];a;a=a.n)if(a.k==n)return a}function s(e,n,r){var o,s,l=i(e,n);return l?l.v=r:(e[h]=l={i:s=t(n,!0),k:n,v:r,p:o=e[h],n:a,r:!1},e[g]||(e[g]=l),o&&(o.n=l),e[v]++,"F"!=s&&(e[m][s]=l)),e}function l(e,t,n){return ht(L(t))?u(e).set(t,n):(gt(t,f)||Pt(t,f,{}),t[f][e[d]]=n),e}function u(e){return e[p]||Pt(e,p,new Oe)[p]}var d=It("uid"),m=It("O1"),f=It("weak"),p=It("leak"),h=It("last"),g=It("first"),v=Tt?It("size"):"size",b=0,_={},D={clear:function(){for(var e=this,t=e[m],n=e[g];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=a),delete t[n.i];e[g]=e[h]=a,e[v]=0},"delete":function(e){var t=this,n=i(t,e);if(n){var a=n.n,r=n.p;delete t[m][n.i],n.r=!0,r&&(r.n=a),a&&(a.p=r),t[g]==n&&(t[g]=a),t[h]==n&&(t[h]=r),
t[v]--}return!!n},forEach:function(e){for(var t,n=c(e,arguments[1],3);t=t?t.n:this[g];)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!i(this,e)}};Oe=e(Oe,ue,{get:function(e){var t=i(this,e);return t&&t.v},set:function(e,t){return s(this,0===e?0:e,t)}},D,!0),Ie=e(Ie,ce,{add:function(e){return s(this,e=0===e?0:e,e)}},D);var E={"delete":function(e){return r(e)?ht(e)?u(this)["delete"](e):gt(e,f)&&gt(e[f],this[d])&&delete e[f][this[d]]:!1},has:function(e){return r(e)?ht(e)?u(this).has(e):gt(e,f)&&gt(e[f],this[d]):!1}};Ye=e(Ye,de,{get:function(e){if(r(e)){if(ht(e))return u(this).get(e);if(gt(e,f))return e[f][this[d]]}},set:function(e,t){return l(this,e,t)}},E,!0,!0),n&&7!=(new Ye).set(Se.freeze(_),7).get(_)&&_t.call(y("delete,has,get,set"),function(e){var t=Ye[ve][e];Ye[ve][e]=function(n,a){if(r(n)&&ht(n)){var i=u(this)[e](n,a);return"set"==e?this:i}return t.call(this,n,a)}}),je=e(je,me,{add:function(e){return l(this,e,!0)}},E,!1,!0)}(),!function(){function e(e){var t,n=[];for(t in e)n.push(t);Ot(this,Qt,{o:e,a:n,i:0})}function t(e){return function(t){L(t);try{return e.apply(a,arguments),!0}catch(n){return!1}}}function n(e,t){var i,o=arguments.length<3?e:arguments[2],s=dt(L(e),t);return s?gt(s,"value")?s.value:s.get===a?a:s.get.call(o):r(i=lt(e))?n(i,t,o):a}function i(e,t,n){var o,s,l=arguments.length<4?e:arguments[3],u=dt(L(e),t);if(!u){if(r(s=lt(e)))return i(s,t,n,l);u=O(0)}return gt(u,"value")?u.writable!==!1&&r(l)?(o=dt(l,t)||O(0),o.value=n,ct(l,t,o),!0):!1:u.set===a?!1:(u.set.call(l,n),!0)}H(e,ne,function(){var e,t=this[Qt],n=t.a;do if(t.i>=n.length)return B(1);while(!((e=n[t.i++])in t.o));return B(0,e)});var o=Se.isExtensible||f,s={apply:c(it,ot,3),construct:function(e,t){var n=T(arguments.length<3?e:arguments[2])[ve],a=st(r(n)?n:Ze),i=ot.call(e,a,t);return r(i)?i:a},defineProperty:t(ct),deleteProperty:function(e,t){var n=dt(L(e),t);return n&&!n.configurable?!1:delete e[t]},enumerate:function(t){return new e(L(t))},get:n,getOwnPropertyDescriptor:function(e,t){return dt(L(e),t)},getPrototypeOf:function(e){return lt(L(e))},has:function(e,t){return t in e},isExtensible:function(e){return!!o(L(e))},ownKeys:g,preventExtensions:t(Se.preventExtensions||f),set:i};ut&&(s.setPrototypeOf=function(e,t){return ut(L(e),t),!0}),U(Wt,{Reflect:{}}),U(Bt,"Reflect",s)}(),!function(){function e(e){return function(t){var n,a=m(t),r=mt(t),i=r.length,o=0,s=xe(i);if(e)for(;i>o;)s[o]=[n=r[o++],a[n]];else for(;i>o;)s[o]=a[r[o++]];return s}}U($t,re,{includes:_(!0)}),U($t,ie,{at:C(!0)}),U(Bt,ne,{getOwnPropertyDescriptors:function(e){var t=m(e),n={};return _t.call(g(t),function(e){ct(n,e,O(0,dt(t,e)))}),n},values:e(!1),entries:e(!0)}),U(Bt,se,{escape:k(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})}(),!function(e){function t(e){if(e){var t=e[ve];Pt(t,Z,t.get),Pt(t,n,t.set),Pt(t,a,t["delete"])}}Z=q(e+"Get",!0);var n=q(e+ce,!0),a=q(e+"Delete",!0);U(Bt,fe,{referenceGet:Z,referenceSet:n,referenceDelete:a}),Pt(et,Z,p),t(Oe),t(Ye)}("reference"),!function(e){function t(t,n){_t.call(y(t),function(t){t in Xe&&(e[t]=c(it,Xe[t],n))})}t("pop,reverse,shift,keys,values,entries",1),t("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),t("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),U(Bt,re,e)}({}),!function(e){!n||!e||ee in e[ve]||Pt(e[ve],ee,Xt[re]),Xt.NodeList=Xt[re]}(t.NodeList)}("undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),!0)},,function(e,t,n){t=e.exports=n(21)(),t.push([e.id,"",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,"td input{line-height:2rem;width:90%}",""])},646,function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".ContentHeader{border:1px dashed red}",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".Dashboard{border:1px dashed red}",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".data-table .btn{margin-right:10px}img.preview{width:60px;max-height:50px}img.large{width:360px;max-height:300px}img.icon{width:150px;height:150px}img.screen{width:80px;height:133px;margin-right:8px}.group-operation{margin:10px 10px 0 20px}.group-operation .btn{margin-right:20px}",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".flash-message{position:absolute;top:-5000px;left:20%;width:60%;opacity:0;transition:all .5s;z-index:1060}.flash-message.active{position:fixed;top:30%;opacity:1}",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".content iframe{border:none;width:100%;height:600px}",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".image-uploader{max-height:180px;margin-right:10px;text-align:center}.image-uploader .image-preview img{display:block;margin:0 auto;max-height:150px}.image-uploader .image-preview a{width:50%}.image-uploader-group .image-uploader{float:left;width:18%}",""])},646,function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".MainFooter{border:1px dashed red}",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".MainHeader{border:1px dashed red}.platform-checkout{width:150px;float:left;position:relative;top:8px}",""])},646,function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".MainSidebar{border:1px dashed red}",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".pagination-status{margin-top:25px}",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".platform-btn{display:block;height:60px;line-height:58px;border:1px solid;text-align:center;margin-bottom:10px}",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".image-preview{margin-right:8px}.image-preview-middle{width:100px}",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".sortedCollection .item{border:1px solid #d2d6de;padding:.3rem 1rem;margin-bottom:.3rem;background-color:#fff;cursor:move}.sortedCollection .item span{float:right}.sortedCollection .item.over{opacity:.2}",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".checkbox-tree{border:1px solid #d2d6de;padding:10px;margin-bottom:0}.checkbox-tree,.checkbox-tree li{list-style:none}.checkbox-tree li.collapsed ul{display:none}.checkbox-tree .group{cursor:pointer}.checkbox-tree li span,.checkbox-tree li label{margin-left:8px;line-height:22px}.checkbox-tree li input{margin-left:5px}",""])},function(e,t,n){t=e.exports=n(21)(),t.push([e.id,".fade-enter{opacity:.01;transition:opacity .5s ease-in}.fade-enter.fade-enter-active{opacity:1}.fade-leave{opacity:1;transition:opacity .5s ease-in}.fade-leave.fade-leave-active{opacity:.01}.data-filter .btn{margin-top:24px}img{max-width:100%}",""])},,function(e,t,n){var a=n(678),r=n(682),i=n(90),o=i(function(e){return r(a(e,!1,!0))});e.exports=o},function(e,t,n){var a=n(677),r=n(71),i=n(90),o=i(function(e,t){return r(e)?a(e,t):[]});e.exports=o},function(e,t,n){function a(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var a=arguments,r=t?t.apply(this,a):a[0],i=n.cache;if(i.has(r))return i.get(r);var o=e.apply(this,a);return n.cache=i.set(r,o),o};return n.cache=new a.Cache,n}var r=n(670),i="Expected a function";a.Cache=r,e.exports=a},function(e,t,n){function a(){this.__data__={}}var r=n(691),i=n(692),o=n(693),s=n(694);a.prototype["delete"]=r,a.prototype.get=i,a.prototype.has=o,a.prototype.set=s,e.exports=a},function(e,t,n){(function(t){function a(e){var t=e?e.length:0;for(this.data={hash:s(null),set:new o};t--;)this.push(e[t])}var r=n(684),i=n(91),o=i(t,"Set"),s=i(Object,"create");a.prototype.push=r,e.exports=a}).call(t,function(){return this}())},function(e,t,n){function a(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}e.exports=a},function(e,t,n){function a(e,t){return void 0===e?t:e}e.exports=a},function(e,t,n){function a(e,t,n){for(var a=-1,i=r(t),o=i.length;++a<o;){var s=i[a],l=e[s],u=n(l,t[s],s,e,t);(u===u?u===l:l!==l)&&(void 0!==l||s in e)||(e[s]=u)}return e}var r=n(282);e.exports=a},function(e,t,n){function a(e,t){return null==t?e:r(t,i(t),e)}var r=n(676),i=n(282);e.exports=a},function(e,t,n){function a(e,t,n){n||(n={});for(var a=-1,r=t.length;++a<r;){var i=t[a];n[i]=e[i]}return n}e.exports=a},function(e,t,n){function a(e,t){var n=e?e.length:0,a=[];if(!n)return a;var l=-1,u=r,c=!0,d=c&&t.length>=s?o(t):null,m=t.length;d&&(u=i,c=!1,t=d);e:for(;++l<n;){var f=e[l];if(c&&f===f){for(var p=m;p--;)if(t[p]===f)continue e;a.push(f)}else u(t,f,0)<0&&a.push(f)}return a}var r=n(279),i=n(280),o=n(281),s=200;e.exports=a},function(e,t,n){function a(e,t,n,u){u||(u=[]);for(var c=-1,d=e.length;++c<d;){var m=e[c];l(m)&&s(m)&&(n||o(m)||i(m))?t?a(m,t,n,u):r(u,m):n||(u[u.length]=m)}return u}var r=n(672),i=n(93),o=n(94),s=n(71),l=n(72);e.exports=a},function(e,t,n){var a=n(686),r=a();e.exports=r},function(e,t,n){function a(e,t){return r(e,t,i)}var r=n(679),i=n(283);e.exports=a},function(e,t,n){function a(e){return function(t){return null==t?void 0:t[e]}}e.exports=a},function(e,t,n){function a(e,t){var n=-1,a=r,l=e.length,u=!0,c=u&&l>=s,d=c?o():null,m=[];d?(a=i,u=!1):(c=!1,d=t?[]:m);e:for(;++n<l;){var f=e[n],p=t?t(f,n,e):f;if(u&&f===f){for(var h=d.length;h--;)if(d[h]===p)continue e;t&&d.push(p),m.push(f)}else a(d,p,0)<0&&((t||c)&&d.push(p),m.push(f))}return m}var r=n(279),i=n(280),o=n(281),s=200;e.exports=a},function(e,t,n){function a(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,a,r){return e.call(t,n,a,r)};case 4:return function(n,a,r,i){return e.call(t,n,a,r,i)};case 5:return function(n,a,r,i,o){return e.call(t,n,a,r,i,o)}}return function(){return e.apply(t,arguments)}}var r=n(701);e.exports=a},function(e,t,n){function a(e){var t=this.data;"string"==typeof e||r(e)?t.set.add(e):t.hash[e]=!0}var r=n(46);e.exports=a},function(e,t,n){function a(e){return o(function(t,n){var a=-1,o=null==t?0:n.length,s=o>2?n[o-2]:void 0,l=o>2?n[2]:void 0,u=o>1?n[o-1]:void 0;for("function"==typeof s?(s=r(s,u,5),o-=2):(s="function"==typeof u?u:void 0,o-=s?1:0),l&&i(n[0],n[1],l)&&(s=3>o?void 0:s,o=1);++a<o;){var c=n[a];c&&e(t,c,s)}return t})}var r=n(683),i=n(690),o=n(90);e.exports=a},function(e,t,n){function a(e){return function(t,n,a){for(var i=r(t),o=a(t),s=o.length,l=e?s:-1;e?l--:++l<s;){var u=o[l];if(n(i[u],u,i)===!1)break}return t}}var r=n(696);e.exports=a},function(e,t,n){function a(e,t){return r(function(n){var a=n[0];return null==a?a:(n.push(t),e.apply(void 0,n))})}var r=n(90);e.exports=a},function(e,t,n){var a=n(681),r=a("length");e.exports=r},function(e,t,n){function a(e,t,n){for(var a=e.length,r=t+(n?0:-1);n?r--:++r<a;){var i=e[r];if(i!==i)return r}return-1}e.exports=a},function(e,t,n){function a(e,t,n){if(!o(n))return!1;var a=typeof t;if("number"==a?r(n)&&i(t,n.length):"string"==a&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var r=n(71),i=n(137),o=n(46);e.exports=a},function(e,t,n){function a(e){return this.has(e)&&delete this.__data__[e]}e.exports=a},function(e,t,n){function a(e){return"__proto__"==e?void 0:this.__data__[e]}e.exports=a},function(e,t,n){function a(e){return"__proto__"!=e&&i.call(this.__data__,e)}var r=Object.prototype,i=r.hasOwnProperty;e.exports=a},function(e,t,n){function a(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}e.exports=a},function(e,t,n){function a(e){for(var t=l(e),n=t.length,a=n&&e.length,u=!!a&&s(a)&&(i(e)||r(e)),d=-1,m=[];++d<n;){var f=t[d];(u&&o(f,a)||c.call(e,f))&&m.push(f)}return m}var r=n(93),i=n(94),o=n(137),s=n(92),l=n(283),u=Object.prototype,c=u.hasOwnProperty;e.exports=a},function(e,t,n){function a(e){return r(e)?e:Object(e)}var r=n(46);e.exports=a},function(e,t,n){function a(e){return r(e)&&s.call(e)==i}var r=n(46),i="[object Function]",o=Object.prototype,s=o.toString;e.exports=a},function(e,t,n){function a(e){return null==e?!1:r(e)?c.test(l.call(e)):i(e)&&o.test(e)}var r=n(697),i=n(72),o=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=a},function(e,t,n){var a=n(674),r=n(675),i=n(685),o=i(function(e,t,n){return n?a(e,t,n):r(e,t)});e.exports=o},function(e,t,n){var a=n(699),r=n(673),i=n(687),o=i(a,r);e.exports=o},function(e,t,n){function a(e){return e}e.exports=a},,,,,,,function(e,t,n){function a(e,t){var n="undefined"==typeof document?u:l.parse(document.cookie),a=n&&n[e];if(!t)try{a=JSON.parse(a)}catch(r){}return a}function r(e,t,n){u[e]=t,"object"==typeof t&&(u[e]=JSON.stringify(t)),"undefined"!=typeof document&&(document.cookie=l.serialize(e,u[e],n)),c&&c.cookie&&c.cookie(e,t,n)}function i(e,t){delete u[e],"undefined"==typeof t?t={}:"string"==typeof t&&(t={path:t}),"undefined"!=typeof document&&(t.expires=new Date(1970,1,1,0,0,1),document.cookie=l.serialize(e,"",t)),c&&c.clearCookie&&c.clearCookie(e,t)}function o(e){u=e?l.parse(e):{}}function s(e,t){e.cookie?u=e.cookie:e.headers&&e.headers.cookie?o(e.headers.cookie):u={},c=t}var l=n(643),u={},c=void 0,d={load:a,save:r,remove:i,setRawCookie:o,plugToRequest:s};"undefined"!=typeof window&&(window.reactCookie=d),e.exports=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){g["default"].apply(void 0,["DragDropContext","backend"].concat(l.call(arguments))),"object"==typeof e&&"function"==typeof e["default"]&&(e=e["default"]),p["default"]("function"==typeof e,"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://gaearon.github.io/react-dnd/docs-drag-drop-context.html");var t={dragDropManager:new m.DragDropManager(e)};return function(e){var n=e.displayName||e.name||"Component";return function(a){function o(){r(this,o),a.apply(this,arguments)}return i(o,a),o.prototype.getDecoratedComponentInstance=function(){return this.refs.child},o.prototype.getManager=function(){return t.dragDropManager},o.prototype.getChildContext=function(){return t},o.prototype.render=function(){return d["default"].createElement(e,s({},this.props,{ref:"child"}))},u(o,null,[{key:"DecoratedComponent",value:e,enumerable:!0},{key:"displayName",value:"DragDropContext("+n+")",enumerable:!0},{key:"childContextTypes",value:{dragDropManager:c.PropTypes.object.isRequired},enumerable:!0}]),o}(c.Component)}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=Array.prototype.slice,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t["default"]=o;var c=n(5),d=a(c),m=n(140),f=n(18),p=a(f),h=n(95),g=a(h);e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return D["default"].apply(void 0,["DragLayer","collect[, options]"].concat(l.call(arguments))),b["default"]("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-layer.html",e),b["default"](v["default"](t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-layer.html',t),function(n){var a=t.arePropsEqual,o=void 0===a?h["default"]:a,l=n.displayName||n.name||"Component";return function(t){function a(e,n){r(this,a),t.call(this,e),this.handleChange=this.handleChange.bind(this),this.manager=n.dragDropManager,b["default"]("object"==typeof this.manager,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",l,l),this.state=this.getCurrentState()}return i(a,t),a.prototype.getDecoratedComponentInstance=function(){return this.refs.child},a.prototype.shouldComponentUpdate=function(e,t){return!o(e,this.props)||!f["default"](t,this.state)},u(a,null,[{key:"DecoratedComponent",value:n,enumerable:!0},{key:"displayName",value:"DragLayer("+l+")",enumerable:!0},{key:"contextTypes",value:{dragDropManager:c.PropTypes.object.isRequired},enumerable:!0}]),a.prototype.componentDidMount=function(){var e=this.manager.getMonitor();this.unsubscribe=e.subscribeToOffsetChange(this.handleChange)},a.prototype.componentWillUnmount=function(){this.unsubscribe()},a.prototype.handleChange=function(){var e=this.getCurrentState();f["default"](e,this.state)||this.setState(e)},a.prototype.getCurrentState=function(){var t=this.manager.getMonitor();return e(t)},a.prototype.render=function(){return d["default"].createElement(n,s({},this.props,this.state,{ref:"child"}))},a}(c.Component)}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=Array.prototype.slice,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t["default"]=o;var c=n(5),d=a(c),m=(n(140),n(58)),f=a(m),p=n(96),h=a(p),g=n(57),v=a(g),y=n(18),b=a(y),_=n(95),D=a(_);e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){var a=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];p["default"].apply(void 0,["DragSource","type, spec, collect[, options]"].concat(i.call(arguments)));var r=e;"function"!=typeof e&&(c["default"](k["default"](e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',e),r=function(){return e}),c["default"](m["default"](t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',t);var o=_["default"](t);return c["default"]("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',n),c["default"](m["default"](a),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',n),function(e){return g["default"]({connectBackend:function(e,t){return e.connectDragSource(t)},containerDisplayName:"DragSource",createHandler:o,registerHandler:y["default"],createMonitor:E["default"],createConnector:w["default"],DecoratedComponent:e,getType:r,collect:n,options:a})}}t.__esModule=!0;var i=Array.prototype.slice;t["default"]=r;var o=n(5),s=(a(o),n(58)),l=(a(s),n(96)),u=(a(l),n(18)),c=a(u),d=n(57),m=a(d),f=n(95),p=a(f),h=n(370),g=a(h),v=n(723),y=a(v),b=n(717),_=a(b),D=n(718),E=a(D),M=n(716),w=a(M),N=n(372),k=a(N);e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){var a=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];p["default"].apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(i.call(arguments)));var r=e;"function"!=typeof e&&(c["default"](k["default"](e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',e),r=function(){return e}),c["default"](m["default"](t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',t);var o=_["default"](t);return c["default"]("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',n),c["default"](m["default"](a),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',n),function(e){return g["default"]({connectBackend:function(e,t){return e.connectDropTarget(t)},containerDisplayName:"DropTarget",createHandler:o,registerHandler:y["default"],createMonitor:E["default"],createConnector:w["default"],DecoratedComponent:e,getType:r,collect:n,options:a})}}t.__esModule=!0;var i=Array.prototype.slice;t["default"]=r;var o=n(5),s=(a(o),n(58)),l=(a(s),n(96)),u=(a(l),n(18)),c=a(u),d=n(57),m=a(d),f=n(95),p=a(f),h=n(370),g=a(h),v=n(724),y=a(v),b=n(720),_=a(b),D=n(721),E=a(D),M=n(719),w=a(M),N=n(372),k=a(N);e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return w||(w=new Image,w.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),w}function l(e,t,n){var a=t.reduce(function(t,n){return t||e.getData(n)},null);return null!=a?a:n}function u(e){var t=k[e],n=t.exposeProperty,a=t.matchesTypes,s=t.getData;return function(e){function t(){r(this,t),e.call(this),this.item=Object.defineProperties({},o({},n,{get:function(){return console.warn("Browser doesn't allow reading \""+n+'" until the drop event.'),null},configurable:!0,enumerable:!0}))}return i(t,e),t.prototype.mutateItemByReadingDataTransfer=function(e){delete this.item[n],this.item[n]=s(e,a)},t.prototype.beginDrag=function(){return this.item},t}(f.DragSource)}function c(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(k).filter(function(e){var n=k[e].matchesTypes;return n.some(function(e){return t.indexOf(e)>-1})})[0]||null}function d(e){return new C(e)}t.__esModule=!0;var m;t.getEmptyImage=s,t["default"]=d;var f=n(140),p=n(725),h=a(p),g=n(371),v=n(726),y=n(58),b=a(y),_=n(700),D=a(_),E=n(18),M=a(E),w=void 0,N={FILE:"__NATIVE_FILE__",URL:"__NATIVE_URL__",TEXT:"__NATIVE_TEXT__"};t.NativeTypes=N;var k=(m={},o(m,N.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function(e){return Array.prototype.slice.call(e.files)}}),o(m,N.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function(e,t){return l(e,t,"").split("\n")}}),o(m,N.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function(e,t){return l(e,t,"")}}),m),C=function(){function e(t){r(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new h["default"],this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this)}return e.prototype.setup=function(){"undefined"!=typeof window&&(M["default"](!this.constructor.isSetUp,"Cannot have two HTML5 backends at the same time."),this.constructor.isSetUp=!0,window.addEventListener("dragstart",this.handleTopDragStart),window.addEventListener("dragstart",this.handleTopDragStartCapture,!0),window.addEventListener("dragend",this.handleTopDragEndCapture,!0),window.addEventListener("dragenter",this.handleTopDragEnter),window.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),window.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),window.addEventListener("dragover",this.handleTopDragOver),window.addEventListener("dragover",this.handleTopDragOverCapture,!0),window.addEventListener("drop",this.handleTopDrop),window.addEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.teardown=function(){"undefined"!=typeof window&&(this.constructor.isSetUp=!1,window.removeEventListener("dragstart",this.handleTopDragStart),window.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),window.removeEventListener("dragend",this.handleTopDragEndCapture,!0),window.removeEventListener("dragenter",this.handleTopDragEnter),window.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),window.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),window.removeEventListener("dragover",this.handleTopDragOver),window.removeEventListener("dragover",this.handleTopDragOverCapture,!0),window.removeEventListener("drop",this.handleTopDrop),window.removeEventListener("drop",this.handleTopDropCapture,!0),this.clearCurrentDragSourceNode())},e.prototype.connectDragPreview=function(e,t,n){var a=this;return this.sourcePreviewNodeOptions[e]=n,this.sourcePreviewNodes[e]=t,function(){delete a.sourcePreviewNodes[e],delete a.sourcePreviewNodeOptions[e]}},e.prototype.connectDragSource=function(e,t,n){var a=this;this.sourceNodes[e]=t,this.sourceNodeOptions[e]=n;var r=function(t){return a.handleDragStart(t,e)},i=function(t){return a.handleSelectStart(t,e)};return t.setAttribute("draggable",!0),t.addEventListener("dragstart",r),t.addEventListener("selectstart",i),function(){delete a.sourceNodes[e],delete a.sourceNodeOptions[e],t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",i),t.setAttribute("draggable",!1)}},e.prototype.connectDropTarget=function(e,t){var n=this,a=function(t){return n.handleDragEnter(t,e)},r=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",a),t.addEventListener("dragover",r),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",a),t.removeEventListener("dragover",r),t.removeEventListener("drop",i)}},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions[e];return D["default"](t||{},{dropEffect:"move"})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions[e];return D["default"](t||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})},e.prototype.getSourceClientOffset=function(e){return v.getElementClientOffset(this.sourceNodes[e])},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(N).some(function(t){return N[t]===e})},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode();var t=u(e);this.currentNativeSource=new t,this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.endDragNativeItem=function(){this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null},e.prototype.endDragIfSourceWasRemovedFromDOM=function(){var e=this.currentDragSourceNode;document.body.contains(e)||(this.actions.endDrag(),this.clearCurrentDragSourceNode())},e.prototype.setCurrentDragSourceNode=function(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.currentDragSourceNodeOffset=v.getElementClientOffset(e),this.currentDragSourceNodeOffsetChanged=!1,window.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},e.prototype.clearCurrentDragSourceNode=function(){return this.currentDragSourceNode?(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),!0):!1},e.prototype.checkIfCurrentDragSourceRectChanged=function(){var e=this.currentDragSourceNode;return e?this.currentDragSourceNodeOffsetChanged?!0:(this.currentDragSourceNodeOffsetChanged=!b["default"](v.getElementClientOffset(e),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged):!1},e.prototype.handleTopDragStartCapture=function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds.unshift(t)},e.prototype.handleTopDragStart=function(e){var t=this,n=this.dragStartSourceIds;this.dragStartSourceIds=null;var a=v.getEventClientOffset(e);this.actions.beginDrag(n,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});var r=e.dataTransfer,i=c(r);if(this.monitor.isDragging()){if("function"==typeof r.setDragImage){var o=this.monitor.getSourceId(),s=this.sourceNodes[o],l=this.sourcePreviewNodes[o]||s,u=this.getCurrentSourcePreviewNodeOptions(),d=u.anchorX,m=u.anchorY,f={anchorX:d,anchorY:m},p=v.getDragPreviewOffset(s,l,a,f);r.setDragImage(l,p.x,p.y)}try{r.setData("application/json",{})}catch(h){}this.setCurrentDragSourceNode(e.target);var g=this.getCurrentSourcePreviewNodeOptions(),y=g.captureDraggingState;y?this.actions.publishDragSource():setTimeout(function(){return t.actions.publishDragSource()})}else if(i)this.beginDragNativeItem(i);else{if(!(r.types||e.target.hasAttribute&&e.target.hasAttribute("draggable")))return;e.preventDefault()}},e.prototype.handleTopDragEndCapture=function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()},e.prototype.handleTopDragEnterCapture=function(e){this.dragEnterTargetIds=[];var t=this.enterLeaveCounter.enter(e.target);if(t&&!this.monitor.isDragging()){var n=e.dataTransfer,a=c(n);a&&this.beginDragNativeItem(a)}},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleTopDragEnter=function(e){var t=this,n=this.dragEnterTargetIds;if(this.dragEnterTargetIds=[],
this.monitor.isDragging()){g.isFirefox()||this.actions.hover(n,{clientOffset:v.getEventClientOffset(e)});var a=n.some(function(e){return t.monitor.canDropOnTarget(e)});a&&(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect())}},e.prototype.handleTopDragOverCapture=function(){this.dragOverTargetIds=[]},e.prototype.handleDragOver=function(e,t){this.dragOverTargetIds.unshift(t)},e.prototype.handleTopDragOver=function(e){var t=this,n=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer.dropEffect="none");this.actions.hover(n,{clientOffset:v.getEventClientOffset(e)});var a=n.some(function(e){return t.monitor.canDropOnTarget(e)});a?(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(e.preventDefault(),e.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(e.preventDefault(),e.dataTransfer.dropEffect="move")},e.prototype.handleTopDragLeaveCapture=function(e){this.isDraggingNativeItem()&&e.preventDefault();var t=this.enterLeaveCounter.leave(e.target);t&&this.isDraggingNativeItem()&&this.endDragNativeItem()},e.prototype.handleTopDropCapture=function(e){this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e.prototype.handleTopDrop=function(e){var t=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:v.getEventClientOffset(e)}),this.actions.drop(),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()},e.prototype.handleSelectStart=function(e){"function"==typeof e.target.dragDrop&&(e.preventDefault(),e.target.dragDrop())},e}()},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=new s.CompositeDisposable,a={};return Object.keys(e).forEach(function(r){var i=o["default"](t,e[r]),s=i.disposable,l=i.ref;n.add(s),a[r]=function(){return l}}),{disposable:n,handlerConnector:a}}t.__esModule=!0,t["default"]=r;var i=n(715),o=a(i),s=n(138);e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){function n(s,d){if(c.isValidElement(s)){var m=s;return l["default"](m,function(e){return n(e,d)})}var f=c.findDOMNode(s);if(f!==r||!o["default"](i,d)){if(r=f,i=d,!f)return void a.setDisposable(null);var p=t(e,f,d);a.setDisposable(new u.Disposable(p))}}var a=new u.SerialDisposable,r=null,i=null;return{ref:n,disposable:a}}t.__esModule=!0,t["default"]=r;var i=n(58),o=a(i),s=n(727),l=a(s),u=n(138),c=n(5);e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return{dragSource:e.connectDragSource.bind(e),dragPreview:e.connectDragPreview.bind(e)}}t.__esModule=!0,t["default"]=a,e.exports=t["default"]},function(e,t,n){(function(a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){Object.keys(e).forEach(function(t){l["default"](d.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',d.join(", "),t),l["default"]("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html",t,t,e[t])}),m.forEach(function(t){l["default"]("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html",t,t,e[t])});var t=function(){function t(e){i(this,t),this.monitor=e,this.props=null,this.component=null}return t.prototype.receiveProps=function(e){this.props=e},t.prototype.receiveComponent=function(e){this.component=e},t.prototype.canDrag=function(){return e.canDrag?e.canDrag(this.props,this.monitor):!0},t.prototype.isDragging=function(t,n){return e.isDragging?e.isDragging(this.props,this.monitor):n===t.getSourceId()},t.prototype.beginDrag=function(){var t=e.beginDrag(this.props,this.monitor,this.component);return"production"!==a.env.NODE_ENV&&l["default"](c["default"](t),"beginDrag() must return a plain object that represents the dragged item. Instead received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html",t),t},t.prototype.endDrag=function(){e.endDrag&&e.endDrag(this.props,this.monitor,this.component)},t}();return function(e){return new t(e)}}t.__esModule=!0,t["default"]=o;var s=n(18),l=r(s),u=n(57),c=r(u),d=["canDrag","beginDrag","canDrag","isDragging","endDrag"],m=["beginDrag"];e.exports=t["default"]}).call(t,n(10))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return new c(e)}t.__esModule=!0,t["default"]=i;var o=n(18),s=a(o),l=!1,u=!1,c=function(){function e(t){r(this,e),this.internalMonitor=t.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.canDrag=function(){s["default"](!l,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://gaearon.github.io/react-dnd/docs-drag-source-monitor.html");try{return l=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{l=!1}},e.prototype.isDragging=function(){s["default"](!u,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://gaearon.github.io/react-dnd/docs-drag-source-monitor.html");try{return u=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{u=!1}},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return{dropTarget:e.connectDropTarget.bind(e)}}t.__esModule=!0,t["default"]=a,e.exports=t["default"]},function(e,t,n){(function(a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){Object.keys(e).forEach(function(t){l["default"](d.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',d.join(", "),t),l["default"]("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html",t,t,e[t])});var t=function(){function t(e){i(this,t),this.monitor=e,this.props=null,this.component=null}return t.prototype.receiveProps=function(e){this.props=e},t.prototype.receiveMonitor=function(e){this.monitor=e},t.prototype.receiveComponent=function(e){this.component=e},t.prototype.canDrop=function(){return e.canDrop?e.canDrop(this.props,this.monitor):!0},t.prototype.hover=function(){e.hover&&e.hover(this.props,this.monitor,this.component)},t.prototype.drop=function(){if(e.drop){var t=e.drop(this.props,this.monitor,this.component);return"production"!==a.env.NODE_ENV&&l["default"]("undefined"==typeof t||c["default"](t),"drop() must either return undefined, or an object that represents the drop result. Instead received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html",t),t}},t}();return function(e){return new t(e)}}t.__esModule=!0,t["default"]=o;var s=n(18),l=r(s),u=n(57),c=r(u),d=["canDrop","hover","drop"];e.exports=t["default"]}).call(t,n(10))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return new u(e)}t.__esModule=!0,t["default"]=i;var o=n(18),s=a(o),l=!1,u=function(){function e(t){r(this,e),this.internalMonitor=t.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.canDrop=function(){s["default"](!l,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://gaearon.github.io/react-dnd/docs-drop-target-monitor.html");try{return l=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{l=!1}},e.prototype.isOver=function(e){return this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();e.exports=t["default"]},function(e,t,n){(function(e){"use strict";function a(e){return e&&e.__esModule?e["default"]:e}t.__esModule=!0;var r=n(709);t.DragDropContext=a(r);var i=n(710);t.DragLayer=a(i);var o=n(711);t.DragSource=a(o);var s=n(712);t.DropTarget=a(s),"production"!==e.env.NODE_ENV&&Object.defineProperty(t,"default",{get:function(){console.error("React DnD does not provide a default export. You are probably missing the curly braces in the import statement. Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#react-dnd-does-not-provide-a-default-export")}})}).call(t,n(10))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){function a(){r.removeSource(i)}var r=n.getRegistry(),i=r.addSource(e,t);return{handlerId:i,unregister:a}}t.__esModule=!0,t["default"]=r;var i=n(18);a(i);e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){function a(){r.removeTarget(i)}var r=n.getRegistry(),i=r.addTarget(e,t);return{handlerId:i,unregister:a}}t.__esModule=!0,t["default"]=r;var i=n(18);a(i);e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=n(667),o=a(i),s=n(668),l=a(s),u=function(){function e(){r(this,e),this.entered=[]}return e.prototype.enter=function(e){var t=this.entered.length;return this.entered=o["default"](this.entered.filter(function(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(e))}),[e]),0===t&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=l["default"](this.entered.filter(function(e){return document.documentElement.contains(e)}),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e.nodeType!==c&&(e=e.parentElement),!e)return null;var t=e.getBoundingClientRect(),n=t.top,a=t.left;return{x:a,y:n}}function i(e){return{x:e.clientX,y:e.clientY}}function o(e,t,n,a){var i="IMG"===t.nodeName&&(s.isFirefox()||!document.documentElement.contains(t)),o=i?e:t,l=r(o),c={x:n.x-l.x,y:n.y-l.y},d=e.offsetWidth,m=e.offsetHeight,f=a.anchorX,p=a.anchorY,h=i?t.width:d,g=i?t.height:m;s.isSafari()&&i?(g/=window.devicePixelRatio,h/=window.devicePixelRatio):s.isFirefox()&&!i&&(g*=window.devicePixelRatio,h*=window.devicePixelRatio);var v=u["default"]([0,.5,1],[c.x,c.x/d*h,c.x+h-d]),y=u["default"]([0,.5,1],[c.y,c.y/m*g,c.y+g-m]),b=v(f),_=y(p);return s.isSafari()&&i&&(_+=(window.devicePixelRatio-1)*g),{x:b,y:_}}t.__esModule=!0,t.getElementClientOffset=r,t.getEventClientOffset=i,t.getDragPreviewOffset=o;var s=n(371),l=n(728),u=a(l),c=1},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=e.ref;return o["default"]("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),s.cloneElement(e,{ref:function(e){t(e),n&&n(e)}})}t.__esModule=!0,t["default"]=r;var i=n(18),o=a(i),s=n(5);e.exports=t["default"]},function(e,t,n){"use strict";function a(e,t){for(var n=e.length,a=[],r=0;n>r;r++)a.push(r);a.sort(function(t,n){return e[t]<e[n]?-1:1});var i=e,o=t;e=[],t=[];for(var r=0;n>r;r++)e.push(+i[a[r]]),t.push(+o[a[r]]);for(var s=[],l=[],u=[],c=void 0,d=void 0,r=0;n-1>r;r++)c=e[r+1]-e[r],d=t[r+1]-t[r],l.push(c),s.push(d),u.push(d/c);for(var m=[u[0]],r=0;r<l.length-1;r++){var f=u[r],p=u[r+1];if(0>=f*p)m.push(0);else{c=l[r];var h=l[r+1],g=c+h;m.push(3*g/((g+h)/f+(g+c)/p))}}m.push(u[u.length-1]);for(var v=[],y=[],b=void 0,r=0;r<m.length-1;r++){b=u[r];var _=m[r],D=1/l[r],g=_+m[r+1]-b-b;v.push((b-_-g)*D),y.push(g*D*D)}return function(n){var a=e.length-1;if(n===e[a])return t[a];for(var r=0,i=y.length-1,o=void 0;i>=r;){o=Math.floor(.5*(r+i));var s=e[o];if(n>s)r=o+1;else{if(!(s>n))return t[o];i=o-1}}a=Math.max(0,i);var l=n-e[a],u=l*l;return t[a]+m[a]*l+v[a]*u+y[a]*l*u}}t.__esModule=!0,t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e:{"default":e}},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};t.__esModule=!0;var i=n(139),o=a(i),s=function(){function e(){for(var t=arguments.length,n=Array(t),a=0;t>a;a++)n[a]=arguments[a];r(this,e),Array.isArray(n[0])&&1===n.length&&(n=n[0]);for(var i=0;i<n.length;i++)if(!o["default"](n[i]))throw new Error("Expected a disposable");this.disposables=n,this.isDisposed=!1}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){if(this.isDisposed)return!1;var t=this.disposables.indexOf(e);return-1===t?!1:(this.disposables.splice(t,1),e.dispose(),!0)},e.prototype.dispose=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;e>n;n++)t[n]=this.disposables[n];this.isDisposed=!0,this.disposables=[],this.length=0;for(var n=0;e>n;n++)t[n].dispose()}},e}();t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";var a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.__esModule=!0;var i=function(){},o=function(){function e(t){a(this,e),this.isDisposed=!1,this.action=t||i}return e.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},r(e,null,[{key:"empty",enumerable:!0,value:{dispose:i}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e:{"default":e}},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};t.__esModule=!0;var i=n(139),o=a(i),s=function(){function e(){r(this,e),this.isDisposed=!1,this.current=null}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(){var e=void 0===arguments[0]?null:arguments[0];if(null!=e&&!o["default"](e))throw new Error("Expected either an empty value or a valid disposable");var t=this.isDisposed,n=void 0;t||(n=this.current,this.current=e),n&&n.dispose(),t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}},e}();t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(795),s=r(o),l=n(738),u=r(l),c=n(97),d=a(c),m=n(733),f=r(m),p=n(373),h=(r(p),function(){function e(t){i(this,e);var n=s["default"](u["default"]);this.store=n,this.monitor=new f["default"](n),this.registry=this.monitor.registry,this.backend=t(this),n.subscribe(this.handleRefCountChange.bind(this))}return e.prototype.handleRefCountChange=function(){var e=this.store.getState().refCount>0;e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.registry},e.prototype.getActions=function(){function e(e){return function(){var a=e.apply(t,arguments);"undefined"!=typeof a&&n(a)}}var t=this,n=this.store.dispatch;return Object.keys(d).filter(function(e){return"function"==typeof d[e]}).reduce(function(t,n){return t[n]=e(d[n]),t},{})},e}());t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=n(18),o=a(i),s=n(376),l=a(s),u=n(102),c=a(u),d=n(373),m=a(d),f=n(375),p=n(374),h=function(){function e(t){r(this,e),this.store=t,this.registry=new m["default"](t)}return e.prototype.subscribeToStateChange=function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=n.handlerIds;o["default"]("function"==typeof e,"listener must be a function."),o["default"]("undefined"==typeof a||c["default"](a),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId,i=function(){var n=t.store.getState(),i=n.stateId;try{var o=i===r||i===r+1&&!p.areDirty(n.dirtyHandlerIds,a);o||e()}finally{r=i}};return this.store.subscribe(i)},e.prototype.subscribeToOffsetChange=function(e){var t=this;o["default"]("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset,a=function(){var a=t.store.getState().dragOffset;a!==n&&(n=a,e())};return this.store.subscribe(a)},e.prototype.canDragSource=function(e){var t=this.registry.getSource(e);return o["default"](t,"Expected to find a valid source."),this.isDragging()?!1:t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){var t=this.registry.getTarget(e);if(o["default"](t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),a=this.getItemType();return l["default"](n,a)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return Boolean(this.getItemType())},e.prototype.isDraggingSource=function(e){var t=this.registry.getSource(e,!0);if(o["default"](t,"Expected to find a valid source."),!this.isDragging()||!this.isSourcePublic())return!1;var n=this.registry.getSourceType(e),a=this.getItemType();return n!==a?!1:t.isDragging(this,e)},e.prototype.isOverTarget=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.shallow,a=void 0===n?!1:n;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),i=this.getItemType();if(!l["default"](r,i))return!1;var o=this.getTargetIds();if(!o.length)return!1;var s=o.indexOf(e);return a?s===o.length-1:s>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return f.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return f.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}();t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(){a(this,e)}return e.prototype.canDrag=function(){return!0},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}();t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(){a(this,e)}return e.prototype.canDrop=function(){return!0},e.prototype.hover=function(){},e.prototype.drop=function(){},e}();t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return new l(e)}t.__esModule=!0,t["default"]=i;var o=n(381),s=a(o),l=function(){function e(t){r(this,e),this.actions=t.getActions()}return e.prototype.setup=function(){this.didCallSetup=!0},e.prototype.teardown=function(){this.didCallTeardown=!0},e.prototype.connectDragSource=function(){return s["default"]},e.prototype.connectDragPreview=function(){return s["default"]},e.prototype.connectDropTarget=function(){return s["default"]},e.prototype.simulateBeginDrag=function(e,t){this.actions.beginDrag(e,t)},e.prototype.simulatePublishDragSource=function(){this.actions.publishDragSource()},e.prototype.simulateHover=function(e,t){this.actions.hover(e,t)},e.prototype.simulateDrop=function(){this.actions.drop()},e.prototype.simulateEndDrag=function(){this.actions.endDrag()},e}();e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){switch(void 0===e&&(e=c),t.type){case o.BEGIN_DRAG:return i({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case o.PUBLISH_DRAG_SOURCE:return i({},e,{isSourcePublic:!0});case o.HOVER:return i({},e,{targetIds:t.targetIds});case o.PUBLISH_DRAG_SOURCE:return i({},e,{isSourcePublic:!0});case s.REMOVE_TARGET:return-1===e.targetIds.indexOf(t.targetId)?e:i({},e,{targetIds:u["default"](e.targetIds,t.targetId)});case o.DROP:return i({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case o.END_DRAG:return i({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t["default"]=r;var o=n(97),s=n(98),l=n(793),u=a(l),c={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(375),i=a(r),o=n(737),s=a(o),l=n(739),u=a(l),c=n(374),d=a(c),m=n(740),f=a(m);t["default"]=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:d["default"](e.dirtyHandlerIds,t,e.dragOperation),dragOffset:i["default"](e.dragOffset,t),refCount:u["default"](e.refCount,t),dragOperation:s["default"](e.dragOperation,t),stateId:f["default"](e.stateId)}},e.exports=t["default"]},function(e,t,n){"use strict";function a(e,t){switch(void 0===e&&(e=0),t.type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}}t.__esModule=!0,t["default"]=a;var r=n(98);e.exports=t["default"]},function(e,t,n){"use strict";function a(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return e+1}t.__esModule=!0,t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function a(){return r++}t.__esModule=!0,t["default"]=a;var r=0;e.exports=t["default"]},function(e,t,n){function a(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}var r=n(763),i=n(764),o=n(765),s=n(766),l=n(767);a.prototype.clear=r,a.prototype["delete"]=i,a.prototype.get=o,a.prototype.has=s,a.prototype.set=l,e.exports=a},function(e,t,n){function a(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}var r=n(771),i=n(772),o=n(773),s=n(774),l=n(775);a.prototype.clear=r,a.prototype["delete"]=i,a.prototype.get=o,a.prototype.has=s,a.prototype.set=l,e.exports=a},function(e,t,n){var a=n(146),r=n(147),i=a(r,"Map");e.exports=i},function(e,t,n){function a(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}var r=n(776),i=n(777),o=n(778),s=n(779),l=n(780);a.prototype.clear=r,a.prototype["delete"]=i,a.prototype.get=o,a.prototype.has=s,a.prototype.set=l,e.exports=a},function(e,t,n){var a=n(146),r=n(147),i=a(r,"Set");e.exports=i},function(e,t,n){function a(e,t,n){var a=n.length;switch(a){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=a},function(e,t,n){function a(e,t){for(var n=-1,a=e?e.length:0,r=0,i=[];++n<a;){var o=e[n];t(o,n,e)&&(i[r++]=o)}return i}e.exports=a},672,function(e,t,n){function a(e,t,n){if(t!==t)return r(e,n);for(var a=n-1,i=e.length;++a<i;)if(e[a]===t)return a;return-1}var r=n(768);e.exports=a},function(e,t,n){function a(e,t,n){for(var a=n?o:i,d=e[0].length,m=e.length,f=m,p=Array(m),h=1/0,g=[];f--;){var v=e[f];f&&t&&(v=s(v,l(t))),h=c(v.length,h),p[f]=!n&&(t||d>=120&&v.length>=120)?new r(f&&v):void 0}v=e[0];var y=-1,b=p[0];e:for(;++y<d&&g.length<h;){var _=v[y],D=t?t(_):_;if(_=n||0!==_?_:0,!(b?u(b,D):a(g,D,n))){for(f=m;--f;){var E=p[f];if(!(E?u(E,D):a(e[f],D,n)))continue e}b&&b.push(D),g.push(_)}}return g}var r=n(141),i=n(142),o=n(143),s=n(144),l=n(378),u=n(145),c=Math.min;e.exports=a},function(e,t,n){function a(e){if(!s(e)||o(e))return!1;var t=r(e)||i(e)?p:c;return t.test(l(e))}var r=n(149),i=n(379),o=n(770),s=n(103),l=n(783),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,d=Object.prototype,m=Function.prototype.toString,f=d.hasOwnProperty,p=RegExp("^"+m.call(f).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=a},function(e,t,n){function a(e){return function(t){return null==t?void 0:t[e]}}e.exports=a},function(e,t,n){function a(e,t,n){var a=-1,d=i,m=e.length,f=!0,p=[],h=p;if(n)f=!1,d=o;else if(m>=c){var g=t?null:l(e);if(g)return u(g);f=!1,d=s,h=new r}else h=t?[]:p;e:for(;++a<m;){var v=e[a],y=t?t(v):v;if(v=n||0!==v?v:0,f&&y===y){for(var b=h.length;b--;)if(h[b]===y)continue e;t&&h.push(y),p.push(v)}else d(h,y,n)||(h!==p&&h.push(y),p.push(v))}return p}var r=n(141),i=n(142),o=n(143),s=n(145),l=n(759),u=n(380),c=200;e.exports=a},function(e,t,n){function a(e,t,n){for(var a=-1,s=e.length;++a<s;)var l=l?r(i(l,e[a],t,n),i(e[a],l,t,n)):e[a];return l&&l.length?o(l,t,n):[]}var r=n(749),i=n(377),o=n(754);e.exports=a},function(e,t,n){function a(e){return r(e)?e:[]}var r=n(148);e.exports=a},function(e,t,n){function a(e){return e&&e.Object===Object?e:null}e.exports=a},function(e,t,n){var a=n(147),r=a["__core-js_shared__"];e.exports=r},function(e,t,n){var a=n(746),r=n(381),i=n(380),o=1/0,s=a&&1/i(new a([,-0]))[1]==o?function(e){return new a(e)}:r;e.exports=s},function(e,t,n){var a=n(753),r=a("length");e.exports=r},function(e,t,n){function a(e){return r(Object(e))}var r=Object.getPrototypeOf;e.exports=a},function(e,t,n){function a(e,t){return null==e?void 0:e[t]}e.exports=a},function(e,t,n){function a(){this.__data__=r?r(null):{}}var r=n(101);e.exports=a},function(e,t,n){function a(e){return this.has(e)&&delete this.__data__[e]}e.exports=a},function(e,t,n){function a(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return s.call(t,e)?t[e]:void 0}var r=n(101),i="__lodash_hash_undefined__",o=Object.prototype,s=o.hasOwnProperty;e.exports=a},function(e,t,n){function a(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}var r=n(101),i=Object.prototype,o=i.hasOwnProperty;e.exports=a},function(e,t,n){function a(e,t){var n=this.__data__;return n[e]=r&&void 0===t?i:t,this}var r=n(101),i="__lodash_hash_undefined__";e.exports=a},function(e,t,n){function a(e,t,n){for(var a=e.length,r=t+(n?1:-1);n?r--:++r<a;){var i=e[r];if(i!==i)return r}return-1}e.exports=a},function(e,t,n){function a(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=a},function(e,t,n){function a(e){return!!i&&i in e}var r=n(758),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=a},function(e,t,n){function a(){this.__data__=[]}e.exports=a},function(e,t,n){function a(e){var t=this.__data__,n=r(t,e);if(0>n)return!1;var a=t.length-1;return n==a?t.pop():o.call(t,n,1),!0}var r=n(99),i=Array.prototype,o=i.splice;e.exports=a},function(e,t,n){function a(e){var t=this.__data__,n=r(t,e);return 0>n?void 0:t[n][1]}var r=n(99);e.exports=a},function(e,t,n){function a(e){return r(this.__data__,e)>-1}var r=n(99);e.exports=a},function(e,t,n){function a(e,t){var n=this.__data__,a=r(n,e);return 0>a?n.push([e,t]):n[a][1]=t,this}var r=n(99);e.exports=a},function(e,t,n){function a(){this.__data__={hash:new r,map:new(o||i),string:new r}}var r=n(742),i=n(743),o=n(744);e.exports=a},function(e,t,n){function a(e){return r(this,e)["delete"](e)}var r=n(100);e.exports=a},function(e,t,n){function a(e){return r(this,e).get(e)}var r=n(100);e.exports=a},function(e,t,n){function a(e){return r(this,e).has(e)}var r=n(100);e.exports=a},function(e,t,n){function a(e,t){return r(this,e).set(e,t),this}var r=n(100);e.exports=a},function(e,t,n){function a(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=a},function(e,t,n){function a(e){return this.__data__.has(e)}e.exports=a},function(e,t,n){function a(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var r=Function.prototype.toString;e.exports=a},function(e,t,n){function a(e,t){return e===t||e!==e&&t!==t}e.exports=a;
},function(e,t,n){var a=n(144),r=n(751),i=n(756),o=n(151),s=o(function(e){var t=a(e,i);return t.length&&t[0]===e[0]?r(t):[]});e.exports=s},function(e,t,n){function a(e){return null!=e&&o(r(e))&&!i(e)}var r=n(760),i=n(149),o=n(787);e.exports=a},function(e,t,n){function a(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}var r=9007199254740991;e.exports=a},function(e,t,n){function a(e){if(!o(e)||m.call(e)!=s||i(e))return!1;var t=r(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==d}var r=n(761),i=n(379),o=n(150),s="[object Object]",l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,d=u.call(Object),m=l.toString;e.exports=a},function(e,t,n){function a(e){return"symbol"==typeof e||r(e)&&s.call(e)==i}var r=n(150),i="[object Symbol]",o=Object.prototype,s=o.toString;e.exports=a},function(e,t,n){function a(e){if(!e)return 0===e?e:0;if(e=r(e),e===i||e===-i){var t=0>e?-1:1;return t*o}return e===e?e:0}var r=n(792),i=1/0,o=1.7976931348623157e308;e.exports=a},function(e,t,n){function a(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}var r=n(790);e.exports=a},function(e,t,n){function a(e){if("number"==typeof e)return e;if(o(e))return s;if(i(e)){var t=r(e.valueOf)?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var n=c.test(e);return n||d.test(e)?m(e.slice(2),n?2:8):u.test(e)?s:+e}var r=n(149),i=n(103),o=n(789),s=NaN,l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,m=parseInt;e.exports=a},function(e,t,n){var a=n(377),r=n(148),i=n(151),o=i(function(e,t){return r(e)?a(e,t):[]});e.exports=o},function(e,t,n){var a=n(748),r=n(755),i=n(148),o=n(151),s=o(function(e){return r(a(e,i))});e.exports=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){function a(){v===g&&(v=g.slice())}function i(){return h}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return a(),v.push(e),function(){if(t){t=!1,a();var n=v.indexOf(e);v.splice(n,1)}}}function c(e){if(!o["default"](e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,h=p(h,e)}finally{y=!1}for(var t=g=v,n=0;n<t.length;n++)t[n]();return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");p=e,c({type:u.INIT})}function m(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var a=t(n);return{unsubscribe:a}}},e[l["default"]]=function(){return this},e}var f;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var p=e,h=t,g=[],v=g,y=!1;return c({type:u.INIT}),f={dispatch:c,subscribe:s,getState:i,replaceReducer:d},f[l["default"]]=m,f}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=r;var i=n(788),o=a(i),s=n(796),l=a(s),u=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){(function(t){"use strict";e.exports=n(797)(t||window||this)}).call(t,function(){return this}())},function(e,t,n){"use strict";e.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},,,,,,,,,,,,,,,function(e,t,n){(function(t){var a=n(15),r={addClass:function(e,n){return"production"!==t.env.NODE_ENV?a(!/\s/.test(n),'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',n):a(!/\s/.test(n)),n&&(e.classList?e.classList.add(n):r.hasClass(e,n)||(e.className=e.className+" "+n)),e},removeClass:function(e,n){return"production"!==t.env.NODE_ENV?a(!/\s/.test(n),'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',n):a(!/\s/.test(n)),n&&(e.classList?e.classList.remove(n):r.hasClass(e,n)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?r.addClass:r.removeClass)(e,t)},hasClass:function(e,n){return"production"!==t.env.NODE_ENV?a(!/\s/.test(n),"CSS.hasClass takes only a single class name."):a(!/\s/.test(n)),e.classList?!!n&&e.classList.contains(n):(" "+e.className+" ").indexOf(" "+n+" ")>-1}};e.exports=r}).call(t,n(10))},,,,,,,,,,function(e,t,n){"use strict";var a=n(845),r=n(853),i={linkState:function(e){return new a(this.state[e],r.createStateKeySetter(this,e))}};e.exports=i},,function(e,t,n){"use strict";var a=n(49),r=n(17),i=a.createFactory(n(408)),o=a.createFactory(n(825)),s=a.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:a.PropTypes.string.isRequired,transitionAppear:a.PropTypes.bool,transitionEnter:a.PropTypes.bool,transitionLeave:a.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return o({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return i(r({},this.props,{childFactory:this._wrapChild}))}});e.exports=s},function(e,t,n){(function(t){"use strict";var a=n(49),r=n(812),i=n(856),o=n(420),s=n(20),l=17,u=5e3,c=null;"production"!==t.env.NODE_ENV&&(c=function(){"production"!==t.env.NODE_ENV?s(!1,"transition(): tried to perform an animation without an animationend or transitionend event after timeout (%sms). You should either disable this transition in JS or add a CSS animation/transition.",u):null});var d=a.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(e,n){var a=this.getDOMNode(),o=this.props.name+"-"+e,s=o+"-active",l=null,d=function(e){e&&e.target!==a||("production"!==t.env.NODE_ENV&&clearTimeout(l),r.removeClass(a,o),r.removeClass(a,s),i.removeEndEventListener(a,d),n&&n())};i.addEndEventListener(a,d),r.addClass(a,o),this.queueClass(s),"production"!==t.env.NODE_ENV&&(l=setTimeout(c,u))},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,l))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(r.addClass.bind(r,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(e){this.props.appear?this.transition("appear",e):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e):e()},render:function(){return o(this.props.children)}});e.exports=d}).call(t,n(10))},,function(e,t,n){"use strict";var a=n(421),r={shouldComponentUpdate:function(e,t){return!a(this.props,e)||!a(this.state,t)}};e.exports=r},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e,t){this.value=e,this.requestChange=t}function r(e){var t={value:"undefined"==typeof e?i.PropTypes.any.isRequired:e.isRequired,requestChange:i.PropTypes.func.isRequired};return i.PropTypes.shape(t)}var i=n(49);a.PropTypes={link:r},e.exports=a},,,function(e,t,n){"use strict";function a(e){return function(t,n,a){t.hasOwnProperty(n)?t[n]=e(t[n],a):t[n]=a}}function r(e,t){for(var n in t)if(t.hasOwnProperty(n)){var a=u[n];a&&u.hasOwnProperty(n)?a(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var i=n(17),o=n(35),s=n(886),l=a(function(e,t){return i({},t,e)}),u={children:o,className:a(s),style:l},c={mergeProps:function(e,t){return r(i({},e),t)}};e.exports=c},,,,,function(e,t,n){"use strict";function a(e,t){var n={};return function(a){n[t]=a,e.setState(n)}}var r={createStateSetter:function(e,t){return function(n,a,r,i,o,s){var l=t.call(e,n,a,r,i,o,s);l&&e.setState(l)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=a(e,t))}};r.Mixin={createStateSetter:function(e){return r.createStateSetter(this,e)},createStateKeySetter:function(e){return r.createStateKeySetter(this,e)}},e.exports=r},function(e,t,n){"use strict";function a(e){}function r(e){return function(t,n){var r;M.isDOMComponent(t)?r=t.getDOMNode():t.tagName&&(r=t);var i=new a;i.target=r;var o=new b(f.eventNameDispatchConfigs[e],v.getID(r),i);_(o,n),u.accumulateTwoPhaseDispatches(o),y.batchedUpdates(function(){l.enqueueEvents(o),l.processEventQueue()})}}function i(){M.Simulate={};var e;for(e in f.eventNameDispatchConfigs)M.Simulate[e]=r(e)}function o(e){return function(t,n){var r=new a(e);_(r,n),M.isDOMComponent(t)?M.simulateNativeEventOnDOMComponent(e,t,r):t.tagName&&M.simulateNativeEventOnNode(e,t,r)}}var s=n(28),l=n(60),u=n(61),c=n(49),d=n(19),m=n(107),f=n(50),p=n(398),h=n(51),g=n(52),v=n(32),y=n(30),b=n(44),_=n(17),D=n(77),E=s.topLevelTypes,M={renderIntoDocument:function(e){var t=document.createElement("div");return c.render(e,t)},isElement:function(e){return d.isValidElement(e)},isElementOfType:function(e,t){return d.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!!(e&&e.tagName&&e.getDOMNode)},isDOMComponentElement:function(e){return!!(e&&d.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentWithType:function(e,t){return!(!M.isCompositeComponent(e)||e.constructor!==t)},isCompositeComponentElement:function(e){if(!d.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){return!(!M.isCompositeComponentElement(e)||e.constructor!==t)},getRenderedChildOfCompositeComponent:function(e){if(!M.isCompositeComponent(e))return null;var t=g.get(e);return t._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(e,t){if(!e)return[];var n=t(e)?[e]:[];if(M.isDOMComponent(e)){var a,r=g.get(e),i=r._renderedComponent._renderedChildren;for(a in i)i.hasOwnProperty(a)&&i[a].getPublicInstance&&(n=n.concat(M.findAllInRenderedTree(i[a].getPublicInstance(),t)))}else M.isCompositeComponent(e)&&(n=n.concat(M.findAllInRenderedTree(M.getRenderedChildOfCompositeComponent(e),t)));return n},scryRenderedDOMComponentsWithClass:function(e,t){return M.findAllInRenderedTree(e,function(e){var n=e.props.className;return M.isDOMComponent(e)&&n&&-1!==(" "+n+" ").indexOf(" "+t+" ")})},findRenderedDOMComponentWithClass:function(e,t){var n=M.scryRenderedDOMComponentsWithClass(e,t);if(1!==n.length)throw new Error("Did not find exactly one match (found: "+n.length+") for class:"+t);return n[0]},scryRenderedDOMComponentsWithTag:function(e,t){return M.findAllInRenderedTree(e,function(e){return M.isDOMComponent(e)&&e.tagName===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var n=M.scryRenderedDOMComponentsWithTag(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for tag:"+t);return n[0]},scryRenderedComponentsWithType:function(e,t){return M.findAllInRenderedTree(e,function(e){return M.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var n=M.scryRenderedComponentsWithType(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for componentType:"+t);return n[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return c.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,n){n.target=t,f.ReactEventListener.dispatchEvent(e,n)},simulateNativeEventOnDOMComponent:function(e,t,n){M.simulateNativeEventOnNode(e,t.getDOMNode(),n)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new w},Simulate:null,SimulateNative:{}},w=function(){this._instance=null};w.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var N=function(e){this._renderedOutput=e,this._currentElement=null===e||e===!1?m.emptyElement:e};N.prototype={mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=null===e||e===!1?m.emptyElement:e},unmountComponent:function(){}};var k=function(){};_(k.prototype,p.Mixin,{_instantiateReactComponent:function(e){return new N(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:p.Mixin._renderValidatedComponentWithoutOwnerOrContext}),w.prototype.render=function(e,t){t||(t=D);var n=y.ReactReconcileTransaction.getPooled();this._render(e,n,t),y.ReactReconcileTransaction.release(n)},w.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},w.prototype._render=function(e,t,n){if(this._instance)this._instance.receiveComponent(e,t,n);else{var a=h.createReactRootID(),r=new k(e.type);r.construct(e),r.mountComponent(a,t,n),this._instance=r}};var C=l.injection.injectEventPluginOrder;l.injection.injectEventPluginOrder=function(){C.apply(this,arguments),i()};var S=l.injection.injectEventPluginsByName;l.injection.injectEventPluginsByName=function(){S.apply(this,arguments),i()},i();var x;for(x in E){var T=0===x.indexOf("top")?x.charAt(3).toLowerCase()+x.substr(4):x;M.SimulateNative[T]=o(x)}e.exports=M},function(e,t,n){"use strict";var a=n(396),r=n(62),i={getChildMapping:function(e){return e?r.extract(a.map(e,function(e){return e})):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var a={},r=[];for(var i in e)t.hasOwnProperty(i)?r.length&&(a[i]=r,r=[]):r.push(i);var o,s={};for(var l in t){if(a.hasOwnProperty(l))for(o=0;o<a[l].length;o++){var u=a[l][o];s[a[l][o]]=n(u)}s[l]=n(l)}for(o=0;o<r.length;o++)s[r[o]]=n(r[o]);return s}};e.exports=i},function(e,t,n){"use strict";function a(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete s.animationend.animation,"TransitionEvent"in window||delete s.transitionend.transition;for(var n in s){var a=s[n];for(var r in a)if(r in t){l.push(a[r]);break}}}function r(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}var o=n(24),s={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},l=[];o.canUseDOM&&a();var u={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(n){r(e,n,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(n){i(e,n,t)})}};e.exports=u},function(e,t,n){(function(t){"use strict";var a=n(822),r=n(49),i=n(827),o=n(824),s=n(62),l=n(408),u=n(30),c=n(876),d=n(410),m=n(423);r.addons={CSSTransitionGroup:o,LinkedStateMixin:a,PureRenderMixin:i,TransitionGroup:l,batchedUpdates:u.batchedUpdates,classSet:c,cloneWithProps:d,createFragment:s.create,update:m},"production"!==t.env.NODE_ENV&&(r.addons.Perf=n(401),r.addons.TestUtils=n(854)),e.exports=r}).call(t,n(10))},,,,,,,,,,,,,,,,,,,function(e,t,n){(function(t){"use strict";function a(e){return"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?r(i,"React.addons.classSet will be deprecated in a future version. See http://fb.me/react-addons-classset"):null,i=!0),"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).join(" "):Array.prototype.join.call(arguments," ")}var r=n(20),i=!1;e.exports=a}).call(t,n(10))},,,,,,,,,,function(e,t,n){"use strict";function a(e){e||(e="");var t,n=arguments.length;if(n>1)for(var a=1;n>a;a++)t=arguments[a],t&&(e=(e?e+" ":"")+t);return e}e.exports=a},,,,,,,,,,,,,,,,function(e,t,n){(function(t){!function(t){"use strict";function n(e,t,n,a){return new o(e,t,n||null,a||[])}function a(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(a){return{type:"throw",arg:a}}}function r(){}function i(){}function o(e,t,n,r){function i(t,r){if(l===b)throw new Error("Generator is already running");if(l===_)return d();for(;;){var i=s.delegate;if(i){var o=a(i.iterator[t],i.iterator,r);if("throw"===o.type){s.delegate=null,t="throw",r=o.arg;continue}t="next",r=m;var u=o.arg;if(!u.done)return l=y,u;s[i.resultName]=u.value,s.next=i.nextLoc,s.delegate=null}if("next"===t){if(l===v&&"undefined"!=typeof r)throw new TypeError("attempt to send "+JSON.stringify(r)+" to newborn generator");l===y?s.sent=r:delete s.sent}else if("throw"===t){if(l===v)throw l=_,r;s.dispatchException(r)&&(t="next",r=m)}else"return"===t&&s.abrupt("return",r);l=b;var o=a(e,n,s);if("normal"===o.type){l=s.done?_:y;var u={value:o.arg,done:s.done};if(o.arg!==D)return u;s.delegate&&"next"===t&&(r=m)}else"throw"===o.type&&(l=_,"next"===t?s.dispatchException(o.arg):r=o.arg)}}var o=t?Object.create(t.prototype):this,s=new u(r),l=v;return o.next=i.bind(o,"next"),o["throw"]=i.bind(o,"throw"),o["return"]=i.bind(o,"return"),o}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function u(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset()}function c(e){if(e){var t=e[p];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function r(){for(;++n<e.length;)if(f.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=m,r.done=!0,r};return a.next=a}}return{next:d}}function d(){return{value:m,done:!0}}var m,f=Object.prototype.hasOwnProperty,p="function"==typeof Symbol&&Symbol.iterator||"@@iterator",h="object"==typeof e,g=t.regeneratorRuntime;if(g)return void(h&&(e.exports=g));g=t.regeneratorRuntime=h?e.exports:{},g.wrap=n;var v="suspendedStart",y="suspendedYield",b="executing",_="completed",D={},E=i.prototype=o.prototype;r.prototype=E.constructor=i,i.constructor=r,r.displayName="GeneratorFunction",g.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===r||"GeneratorFunction"===(t.displayName||t.name):!1},g.mark=function(e){return e.__proto__=i,e.prototype=Object.create(E),e},g.async=function(e,t,r,i){return new Promise(function(o,s){function l(e){var t=a(this,null,e);if("throw"===t.type)return void s(t.arg);var n=t.arg;n.done?o(n.value):Promise.resolve(n.value).then(c,d)}var u=n(e,t,r,i),c=l.bind(u.next),d=l.bind(u["throw"]);c()})},E[p]=function(){return this},E.toString=function(){return"[object Generator]"},g.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},g.values=c,u.prototype={constructor:u,reset:function(){this.prev=0,this.next=0,this.sent=m,this.done=!1,this.delegate=null,this.tryEntries.forEach(l);for(var e,t=0;f.call(this,e="t"+t)||20>t;++t)this[e]=null},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,a){return i.type="throw",i.arg=e,n.next=t,!!a}if(this.done)throw e;for(var n=this,a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],i=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=f.call(r,"catchLoc"),s=f.call(r,"finallyLoc");if(o&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&f.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?this.next=r.finallyLoc:this.complete(i),D},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t),D},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc)}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;l(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:c(e),resultName:t,nextLoc:n},D}}}("object"==typeof t?t:"object"==typeof window?window:this)}).call(t,function(){return this}())},,function(e,t,n){var a=n(646);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(647);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(648);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(649);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(650);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(651);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(652);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(653);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(654);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(655);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(656);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(657);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(658);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(659);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(660);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(661);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(662);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})},function(e,t,n){var a=n(665);"string"==typeof a&&(a=[[e.id,a,""]]);n(22)(a,{})}]);